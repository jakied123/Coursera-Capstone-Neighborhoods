
# Coursera IBM Data Science Capstone Project
## Segmenting and Clustering Neighborhods in Toronto

Creating the prescribed data-frame with the Postal-Code, Borough, and Neighborhood using the provided Wikipedia link:


```python
import pandas as pd
import numpy as np
import folium
import json
import requests
from pandas.io.json import json_normalize
from geopy.geocoders import Nominatim
from sklearn.cluster import KMeans
import matplotlib.cm as cm
import matplotlib.colors as colors
```

Reading in the table from the provided link and checking to see that it is indeed a Pandas data-frame:


```python
dfs = pd.read_html('https://en.wikipedia.org/wiki/List_of_postal_codes_of_Canada:_M', header = 0)[0]
dfs.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Post Code</th>
      <th>Borough</th>
      <th>Neighborhood</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>M1A</td>
      <td>Not assigned</td>
      <td>Not assigned</td>
    </tr>
    <tr>
      <th>1</th>
      <td>M2A</td>
      <td>Not assigned</td>
      <td>Not assigned</td>
    </tr>
    <tr>
      <th>2</th>
      <td>M3A</td>
      <td>North York</td>
      <td>Parkwoods</td>
    </tr>
    <tr>
      <th>3</th>
      <td>M4A</td>
      <td>North York</td>
      <td>Victoria Village</td>
    </tr>
    <tr>
      <th>4</th>
      <td>M5A</td>
      <td>Downtown Toronto</td>
      <td>Regent Park, Harbourfront</td>
    </tr>
  </tbody>
</table>
</div>




```python
type(dfs)
```




    pandas.core.frame.DataFrame



### Table for Part 1

We need to remove the 'Not assigned' rows from the table and change the column header for 'Postal Code' to 'PostalCode':


```python
df = dfs[dfs.Borough != 'Not assigned'].reset_index(drop = True)
df = df.rename(columns = {"Post Code" : "PostalCode"})
df.head(12)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>PostalCode</th>
      <th>Borough</th>
      <th>Neighborhood</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>M3A</td>
      <td>North York</td>
      <td>Parkwoods</td>
    </tr>
    <tr>
      <th>1</th>
      <td>M4A</td>
      <td>North York</td>
      <td>Victoria Village</td>
    </tr>
    <tr>
      <th>2</th>
      <td>M5A</td>
      <td>Downtown Toronto</td>
      <td>Regent Park, Harbourfront</td>
    </tr>
    <tr>
      <th>3</th>
      <td>M6A</td>
      <td>North York</td>
      <td>Lawrence Manor, Lawrence Heights</td>
    </tr>
    <tr>
      <th>4</th>
      <td>M7A</td>
      <td>Downtown Toronto</td>
      <td>Queen's Park, Ontario Provincial Government</td>
    </tr>
    <tr>
      <th>5</th>
      <td>M9A</td>
      <td>Etobicoke</td>
      <td>Islington Avenue, Humber Valley Village</td>
    </tr>
    <tr>
      <th>6</th>
      <td>M1B</td>
      <td>Scarborough</td>
      <td>Malvern, Rouge</td>
    </tr>
    <tr>
      <th>7</th>
      <td>M3B</td>
      <td>North York</td>
      <td>Don Mills</td>
    </tr>
    <tr>
      <th>8</th>
      <td>M4B</td>
      <td>East York</td>
      <td>Parkview Hill, Woodbine Gardens</td>
    </tr>
    <tr>
      <th>9</th>
      <td>M5B</td>
      <td>Downtown Toronto</td>
      <td>Garden District, Ryerson</td>
    </tr>
    <tr>
      <th>10</th>
      <td>M6B</td>
      <td>North York</td>
      <td>Glencairn</td>
    </tr>
    <tr>
      <th>11</th>
      <td>M9B</td>
      <td>Etobicoke</td>
      <td>West Deane Park, Princess Gardens, Martin Grov...</td>
    </tr>
  </tbody>
</table>
</div>



The shape of the above array is given by:


```python
df.shape
```




    (103, 3)



Now, we need to include the coordinates for each of the postal codes by appending two columns for the lattitude and longidude (the geocoder library did not work):

### Table for Part 2:


```python
url = "https://cocl.us/Geospatial_data"
neigh_coords = pd.read_csv(url)
neigh_coords = neigh_coords.rename(columns = {"Postal Code" : "PostalCode"})
```


```python
df_geo = pd.merge(left = df, right = neigh_coords, on = 'PostalCode' )
df_geo.head(12)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>PostalCode</th>
      <th>Borough</th>
      <th>Neighborhood</th>
      <th>Latitude</th>
      <th>Longitude</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>M3A</td>
      <td>North York</td>
      <td>Parkwoods</td>
      <td>43.753259</td>
      <td>-79.329656</td>
    </tr>
    <tr>
      <th>1</th>
      <td>M4A</td>
      <td>North York</td>
      <td>Victoria Village</td>
      <td>43.725882</td>
      <td>-79.315572</td>
    </tr>
    <tr>
      <th>2</th>
      <td>M5A</td>
      <td>Downtown Toronto</td>
      <td>Regent Park, Harbourfront</td>
      <td>43.654260</td>
      <td>-79.360636</td>
    </tr>
    <tr>
      <th>3</th>
      <td>M6A</td>
      <td>North York</td>
      <td>Lawrence Manor, Lawrence Heights</td>
      <td>43.718518</td>
      <td>-79.464763</td>
    </tr>
    <tr>
      <th>4</th>
      <td>M7A</td>
      <td>Downtown Toronto</td>
      <td>Queen's Park, Ontario Provincial Government</td>
      <td>43.662301</td>
      <td>-79.389494</td>
    </tr>
    <tr>
      <th>5</th>
      <td>M9A</td>
      <td>Etobicoke</td>
      <td>Islington Avenue, Humber Valley Village</td>
      <td>43.667856</td>
      <td>-79.532242</td>
    </tr>
    <tr>
      <th>6</th>
      <td>M1B</td>
      <td>Scarborough</td>
      <td>Malvern, Rouge</td>
      <td>43.806686</td>
      <td>-79.194353</td>
    </tr>
    <tr>
      <th>7</th>
      <td>M3B</td>
      <td>North York</td>
      <td>Don Mills</td>
      <td>43.745906</td>
      <td>-79.352188</td>
    </tr>
    <tr>
      <th>8</th>
      <td>M4B</td>
      <td>East York</td>
      <td>Parkview Hill, Woodbine Gardens</td>
      <td>43.706397</td>
      <td>-79.309937</td>
    </tr>
    <tr>
      <th>9</th>
      <td>M5B</td>
      <td>Downtown Toronto</td>
      <td>Garden District, Ryerson</td>
      <td>43.657162</td>
      <td>-79.378937</td>
    </tr>
    <tr>
      <th>10</th>
      <td>M6B</td>
      <td>North York</td>
      <td>Glencairn</td>
      <td>43.709577</td>
      <td>-79.445073</td>
    </tr>
    <tr>
      <th>11</th>
      <td>M9B</td>
      <td>Etobicoke</td>
      <td>West Deane Park, Princess Gardens, Martin Grov...</td>
      <td>43.650943</td>
      <td>-79.554724</td>
    </tr>
  </tbody>
</table>
</div>




```python
df_geo.shape
```




    (103, 5)



### Map of the Neighborhoods:
Now, we can make a map of the the Boroughs and the neighborhoods that they contain in Toronto:


```python
map_toronto = folium.Map(location = [43.7, -79.4], zoom_start = 11)

for lat, lng, borough, neighborhood in zip(df_geo['Latitude'], df_geo['Longitude'], df_geo['Borough'], df_geo['Neighborhood']):
    label = '{}: {}'.format(borough, neighborhood)
    label = folium.Popup(label, parse_html=True)
    folium.CircleMarker(
        [lat, lng],
        radius=5,
        popup=label,
        color='blue',
        fill=True,
        fill_color='#3186cc',
        fill_opacity=0.7,
        parse_html=False).add_to(map_toronto)  
    
map_toronto
```




<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe src="about:blank" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" data-html=PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfM2QwNDQxZmQ2OTg3NDQ0ODhiZjJkMTQ1YmE3NjEzZjUgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1IiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNDMuNywtNzkuNF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiAxMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEJvdW5kczogYm91bmRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmxkQ29weUp1bXA6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JzOiBMLkNSUy5FUFNHMzg1NwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHRpbGVfbGF5ZXJfYTU1MzJlNjQzMTI2NDAyMjk2ZjAxOWY3YmQyZWJkNzUgPSBMLnRpbGVMYXllcigKICAgICAgICAgICAgICAgICdodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsCiAgICAgICAgICAgICAgICB7CiAgImF0dHJpYnV0aW9uIjogbnVsbCwKICAiZGV0ZWN0UmV0aW5hIjogZmFsc2UsCiAgIm1heFpvb20iOiAxOCwKICAibWluWm9vbSI6IDEsCiAgIm5vV3JhcCI6IGZhbHNlLAogICJzdWJkb21haW5zIjogImFiYyIKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfM2QwNDQxZmQ2OTg3NDQ0ODhiZjJkMTQ1YmE3NjEzZjUpOwogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2NmZWY5YmNiZTljMzQ5NWNhYTE4MWFkYjcyMDA0OGU3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzUzMjU4NiwtNzkuMzI5NjU2NV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82MWRhNTA3NTQ4MzE0YzdmODM1MjE4ZmUyYzlmY2Y1MyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83NjU5MGI5OGE4Y2M0MGIzYjZkNjQ0ODVlYTU1MTZmZSA9ICQoJzxkaXYgaWQ9Imh0bWxfNzY1OTBiOThhOGNjNDBiM2I2ZDY0NDg1ZWE1NTE2ZmUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk5vcnRoIFlvcms6IFBhcmt3b29kczwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNjFkYTUwNzU0ODMxNGM3ZjgzNTIxOGZlMmM5ZmNmNTMuc2V0Q29udGVudChodG1sXzc2NTkwYjk4YThjYzQwYjNiNmQ2NDQ4NWVhNTUxNmZlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2NmZWY5YmNiZTljMzQ5NWNhYTE4MWFkYjcyMDA0OGU3LmJpbmRQb3B1cChwb3B1cF82MWRhNTA3NTQ4MzE0YzdmODM1MjE4ZmUyYzlmY2Y1Myk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84ZGZkYTY3ZjU2OTc0YjZkODNjZGUwZTIwYjI1Y2UwYiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcyNTg4MjI5OTk5OTk5NSwtNzkuMzE1NTcxNTk5OTk5OThdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfM2QwNDQxZmQ2OTg3NDQ0ODhiZjJkMTQ1YmE3NjEzZjUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZjZiNjVhZmI2YTEzNGQ2ZmI1MDBjZDQzODFiYmUwYzYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTJmNTFiYjI1NzQ5NGRmMjgzNjA3ZmU1MThkYjFkMTAgPSAkKCc8ZGl2IGlkPSJodG1sXzEyZjUxYmIyNTc0OTRkZjI4MzYwN2ZlNTE4ZGIxZDEwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ob3J0aCBZb3JrOiBWaWN0b3JpYSBWaWxsYWdlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mNmI2NWFmYjZhMTM0ZDZmYjUwMGNkNDM4MWJiZTBjNi5zZXRDb250ZW50KGh0bWxfMTJmNTFiYjI1NzQ5NGRmMjgzNjA3ZmU1MThkYjFkMTApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOGRmZGE2N2Y1Njk3NGI2ZDgzY2RlMGUyMGIyNWNlMGIuYmluZFBvcHVwKHBvcHVwX2Y2YjY1YWZiNmExMzRkNmZiNTAwY2Q0MzgxYmJlMGM2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzQ2ZGM2ODM0MTVjMDQwN2I5MzY2YzE5YzYxYjVhMzQ4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjU0MjU5OSwtNzkuMzYwNjM1OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jZDMwNWNiMmMyYWY0ODY4YmU3ZGMxNjk5NWFkNWVjNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83NmRmYTk2ZWM5ZGI0ZDkyYjFkNGRlYzYyNTc3NGY1ZSA9ICQoJzxkaXYgaWQ9Imh0bWxfNzZkZmE5NmVjOWRiNGQ5MmIxZDRkZWM2MjU3NzRmNWUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvd250b3duIFRvcm9udG86IFJlZ2VudCBQYXJrLCBIYXJib3VyZnJvbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2NkMzA1Y2IyYzJhZjQ4NjhiZTdkYzE2OTk1YWQ1ZWM3LnNldENvbnRlbnQoaHRtbF83NmRmYTk2ZWM5ZGI0ZDkyYjFkNGRlYzYyNTc3NGY1ZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80NmRjNjgzNDE1YzA0MDdiOTM2NmMxOWM2MWI1YTM0OC5iaW5kUG9wdXAocG9wdXBfY2QzMDVjYjJjMmFmNDg2OGJlN2RjMTY5OTVhZDVlYzcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOGI0N2U1ZmI4MzgyNGRhZDkyZGFmYmMzMjAxOGI2ODUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTg1MTc5OTk5OTk5OTYsLTc5LjQ2NDc2MzI5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2RiY2M1MGY3MDdiNTRkYTJhNjk1NzFiODZmN2M0ZmY0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzFmMzVjNzIxOGI5ZjQ2ZDNhY2MzZmQ4NmI3ZjVjNmYyID0gJCgnPGRpdiBpZD0iaHRtbF8xZjM1YzcyMThiOWY0NmQzYWNjM2ZkODZiN2Y1YzZmMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Tm9ydGggWW9yazogTGF3cmVuY2UgTWFub3IsIExhd3JlbmNlIEhlaWdodHM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2RiY2M1MGY3MDdiNTRkYTJhNjk1NzFiODZmN2M0ZmY0LnNldENvbnRlbnQoaHRtbF8xZjM1YzcyMThiOWY0NmQzYWNjM2ZkODZiN2Y1YzZmMik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84YjQ3ZTVmYjgzODI0ZGFkOTJkYWZiYzMyMDE4YjY4NS5iaW5kUG9wdXAocG9wdXBfZGJjYzUwZjcwN2I1NGRhMmE2OTU3MWI4NmY3YzRmZjQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMDAxZThlNzQ4NTI0NDEwNzgyZjUyNWE0ZDliZDIwMWUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjIzMDE1LC03OS4zODk0OTM4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzZkNjA3OTE0Y2QzMjQ1YWY5NGNkMTM0NWNjODEzMDM2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2RjMzc2NGY2M2M5NDQ1NzE5OWM2YWVlNjQ1MTUyZmJkID0gJCgnPGRpdiBpZD0iaHRtbF9kYzM3NjRmNjNjOTQ0NTcxOTljNmFlZTY0NTE1MmZiZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG93bnRvd24gVG9yb250bzogUXVlZW4mIzM5O3MgUGFyaywgT250YXJpbyBQcm92aW5jaWFsIEdvdmVybm1lbnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzZkNjA3OTE0Y2QzMjQ1YWY5NGNkMTM0NWNjODEzMDM2LnNldENvbnRlbnQoaHRtbF9kYzM3NjRmNjNjOTQ0NTcxOTljNmFlZTY0NTE1MmZiZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wMDFlOGU3NDg1MjQ0MTA3ODJmNTI1YTRkOWJkMjAxZS5iaW5kUG9wdXAocG9wdXBfNmQ2MDc5MTRjZDMyNDVhZjk0Y2QxMzQ1Y2M4MTMwMzYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjgwNTg1YzRmOTRhNDA4M2EzMzIyZGQ1Yjg4YWYzNjggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Njc4NTU2LC03OS41MzIyNDI0MDAwMDAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lMGEzNjI5ZDQxNjQ0MjYxODBlYzBjODUzYjdjZDUzYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hMDliZjMyMTk1Mjc0MDE2OWFmOWMwODU1NzdhNjU3ZiA9ICQoJzxkaXYgaWQ9Imh0bWxfYTA5YmYzMjE5NTI3NDAxNjlhZjljMDg1NTc3YTY1N2YiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkV0b2JpY29rZTogSXNsaW5ndG9uIEF2ZW51ZSwgSHVtYmVyIFZhbGxleSBWaWxsYWdlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lMGEzNjI5ZDQxNjQ0MjYxODBlYzBjODUzYjdjZDUzYy5zZXRDb250ZW50KGh0bWxfYTA5YmYzMjE5NTI3NDAxNjlhZjljMDg1NTc3YTY1N2YpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZjgwNTg1YzRmOTRhNDA4M2EzMzIyZGQ1Yjg4YWYzNjguYmluZFBvcHVwKHBvcHVwX2UwYTM2MjlkNDE2NDQyNjE4MGVjMGM4NTNiN2NkNTNjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2FlZmQ0NWNhZjUwZDQyNzRiMTgyODMzNmUxZDg2Y2IxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuODA2Njg2Mjk5OTk5OTk2LC03OS4xOTQzNTM0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wNTliOGMxZDdmNGM0MjU2OTViYmIzMzYyM2Y2YmUyMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xODJhZWU5MzljZjI0OWNmYjZkMmFlODY4MjNlMTNlNiA9ICQoJzxkaXYgaWQ9Imh0bWxfMTgyYWVlOTM5Y2YyNDljZmI2ZDJhZTg2ODIzZTEzZTYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlNjYXJib3JvdWdoOiBNYWx2ZXJuLCBSb3VnZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMDU5YjhjMWQ3ZjRjNDI1Njk1YmJiMzM2MjNmNmJlMjAuc2V0Q29udGVudChodG1sXzE4MmFlZTkzOWNmMjQ5Y2ZiNmQyYWU4NjgyM2UxM2U2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2FlZmQ0NWNhZjUwZDQyNzRiMTgyODMzNmUxZDg2Y2IxLmJpbmRQb3B1cChwb3B1cF8wNTliOGMxZDdmNGM0MjU2OTViYmIzMzYyM2Y2YmUyMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84OGJjYjM3MmQyOWM0MmUxOWVjNDZjZWQ1ZGU0NWY2ZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc0NTkwNTc5OTk5OTk5NiwtNzkuMzUyMTg4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzE1Zjc3OTQzZDUzYTQ4MGI5ODMwMjYzZWNlNWE1ZGFiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQ5NjVjNGE1MzhkODQ4MjQ4MjcyZTZlNjE0MjllNDY0ID0gJCgnPGRpdiBpZD0iaHRtbF80OTY1YzRhNTM4ZDg0ODI0ODI3MmU2ZTYxNDI5ZTQ2NCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Tm9ydGggWW9yazogRG9uIE1pbGxzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xNWY3Nzk0M2Q1M2E0ODBiOTgzMDI2M2VjZTVhNWRhYi5zZXRDb250ZW50KGh0bWxfNDk2NWM0YTUzOGQ4NDgyNDgyNzJlNmU2MTQyOWU0NjQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfODhiY2IzNzJkMjljNDJlMTllYzQ2Y2VkNWRlNDVmNmYuYmluZFBvcHVwKHBvcHVwXzE1Zjc3OTQzZDUzYTQ4MGI5ODMwMjYzZWNlNWE1ZGFiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzc2NWEwZmRlOGE5YzQ4MjM4OTRiMmU1ZWFkYjBiMDYwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA2Mzk3MiwtNzkuMzA5OTM3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzYyNzk5MGVjZjNhOTQ1MDBhNmNmZDg1NzljZWNlZTQxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzg2YjA3MjZmNzAwZjRjYmE5NTFjODBhNTQ4YzE0OGQzID0gJCgnPGRpdiBpZD0iaHRtbF84NmIwNzI2ZjcwMGY0Y2JhOTUxYzgwYTU0OGMxNDhkMyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RWFzdCBZb3JrOiBQYXJrdmlldyBIaWxsLCBXb29kYmluZSBHYXJkZW5zPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82Mjc5OTBlY2YzYTk0NTAwYTZjZmQ4NTc5Y2VjZWU0MS5zZXRDb250ZW50KGh0bWxfODZiMDcyNmY3MDBmNGNiYTk1MWM4MGE1NDhjMTQ4ZDMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNzY1YTBmZGU4YTljNDgyMzg5NGIyZTVlYWRiMGIwNjAuYmluZFBvcHVwKHBvcHVwXzYyNzk5MGVjZjNhOTQ1MDBhNmNmZDg1NzljZWNlZTQxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzExZmFlODIwZGE2MzQ4YjI5NDkxMjY5YWUyNTJkZjk1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjU3MTYxOCwtNzkuMzc4OTM3MDk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfM2QwNDQxZmQ2OTg3NDQ0ODhiZjJkMTQ1YmE3NjEzZjUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYjBjNzY3MDBlZmExNDRjY2E0MjkwMWQ0NmE2ZDAwMDQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzY5Mjg1OTBmZThhNDgyOThlMzA1NGUyOWRhMzY2NjggPSAkKCc8ZGl2IGlkPSJodG1sX2M2OTI4NTkwZmU4YTQ4Mjk4ZTMwNTRlMjlkYTM2NjY4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3dudG93biBUb3JvbnRvOiBHYXJkZW4gRGlzdHJpY3QsIFJ5ZXJzb248L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2IwYzc2NzAwZWZhMTQ0Y2NhNDI5MDFkNDZhNmQwMDA0LnNldENvbnRlbnQoaHRtbF9jNjkyODU5MGZlOGE0ODI5OGUzMDU0ZTI5ZGEzNjY2OCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xMWZhZTgyMGRhNjM0OGIyOTQ5MTI2OWFlMjUyZGY5NS5iaW5kUG9wdXAocG9wdXBfYjBjNzY3MDBlZmExNDRjY2E0MjkwMWQ0NmE2ZDAwMDQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfY2Y5ODdiMTE4YzZiNGYxZWJjNGZkOWI0NGI2YTY1ZWIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDk1NzcsLTc5LjQ0NTA3MjU5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2VlYWQzNTBlMWRmZTQxMWNhODg3MDc5OWIzZjZlMWY2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2VmNzZiMzZlZTUwZDQyMDA4NTQwYzUwMmVjYTJkYjg5ID0gJCgnPGRpdiBpZD0iaHRtbF9lZjc2YjM2ZWU1MGQ0MjAwODU0MGM1MDJlY2EyZGI4OSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Tm9ydGggWW9yazogR2xlbmNhaXJuPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9lZWFkMzUwZTFkZmU0MTFjYTg4NzA3OTliM2Y2ZTFmNi5zZXRDb250ZW50KGh0bWxfZWY3NmIzNmVlNTBkNDIwMDg1NDBjNTAyZWNhMmRiODkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfY2Y5ODdiMTE4YzZiNGYxZWJjNGZkOWI0NGI2YTY1ZWIuYmluZFBvcHVwKHBvcHVwX2VlYWQzNTBlMWRmZTQxMWNhODg3MDc5OWIzZjZlMWY2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzA2MWYwMDhkZTMwZjQxODk4ZDFmMzFmZTU2MmQ3NzAwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjUwOTQzMiwtNzkuNTU0NzI0NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfM2QwNDQxZmQ2OTg3NDQ0ODhiZjJkMTQ1YmE3NjEzZjUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfM2FkMjljNTNjNTA5NDVjMDk4MGQ5Yzk0OTU1M2EwMDUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMDIxNDk2Y2U5MDEzNGZiMWFiZTc5NWM2MTA3MDJkNjggPSAkKCc8ZGl2IGlkPSJodG1sXzAyMTQ5NmNlOTAxMzRmYjFhYmU3OTVjNjEwNzAyZDY4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5FdG9iaWNva2U6IFdlc3QgRGVhbmUgUGFyaywgUHJpbmNlc3MgR2FyZGVucywgTWFydGluIEdyb3ZlLCBJc2xpbmd0b24sIENsb3ZlcmRhbGU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzNhZDI5YzUzYzUwOTQ1YzA5ODBkOWM5NDk1NTNhMDA1LnNldENvbnRlbnQoaHRtbF8wMjE0OTZjZTkwMTM0ZmIxYWJlNzk1YzYxMDcwMmQ2OCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wNjFmMDA4ZGUzMGY0MTg5OGQxZjMxZmU1NjJkNzcwMC5iaW5kUG9wdXAocG9wdXBfM2FkMjljNTNjNTA5NDVjMDk4MGQ5Yzk0OTU1M2EwMDUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZTNhOTM4OTkwNTdjNGI0ODgwMGI4ZDViODQwZDM4MzYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODQ1MzUxLC03OS4xNjA0OTcwOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hMGVhMzlhNWM0Y2M0NzJhOGY0N2E4OWZkMWIzYzBkZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84ZTU2YTc2N2I0ZmY0MDJmOTVmYjFiOTI5NGIxYzExYSA9ICQoJzxkaXYgaWQ9Imh0bWxfOGU1NmE3NjdiNGZmNDAyZjk1ZmIxYjkyOTRiMWMxMWEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlNjYXJib3JvdWdoOiBSb3VnZSBIaWxsLCBQb3J0IFVuaW9uLCBIaWdobGFuZCBDcmVlazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYTBlYTM5YTVjNGNjNDcyYThmNDdhODlmZDFiM2MwZGQuc2V0Q29udGVudChodG1sXzhlNTZhNzY3YjRmZjQwMmY5NWZiMWI5Mjk0YjFjMTFhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2UzYTkzODk5MDU3YzRiNDg4MDBiOGQ1Yjg0MGQzODM2LmJpbmRQb3B1cChwb3B1cF9hMGVhMzlhNWM0Y2M0NzJhOGY0N2E4OWZkMWIzYzBkZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84ZmFkZTk0OGYzNDI0NzczYTA5ZTk3Y2E4ZTMyMzM4MyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcyNTg5OTcwMDAwMDAxLC03OS4zNDA5MjNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfM2QwNDQxZmQ2OTg3NDQ0ODhiZjJkMTQ1YmE3NjEzZjUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZGNlYjQ2NzliNGQ0NGYwNzgxODgzNzRmMDg2ZDcwYjQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYWUyZWE2M2IyYTBkNDEzMDk2MWFkY2ZhOTg2Y2I2MWQgPSAkKCc8ZGl2IGlkPSJodG1sX2FlMmVhNjNiMmEwZDQxMzA5NjFhZGNmYTk4NmNiNjFkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ob3J0aCBZb3JrOiBEb24gTWlsbHM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2RjZWI0Njc5YjRkNDRmMDc4MTg4Mzc0ZjA4NmQ3MGI0LnNldENvbnRlbnQoaHRtbF9hZTJlYTYzYjJhMGQ0MTMwOTYxYWRjZmE5ODZjYjYxZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84ZmFkZTk0OGYzNDI0NzczYTA5ZTk3Y2E4ZTMyMzM4My5iaW5kUG9wdXAocG9wdXBfZGNlYjQ2NzliNGQ0NGYwNzgxODgzNzRmMDg2ZDcwYjQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNDY4OTIyNjMyZjQ4NGExZjk3MWZjYmM2ZTY0NTJiZDQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTUzNDM5MDAwMDAwMDUsLTc5LjMxODM4ODddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfM2QwNDQxZmQ2OTg3NDQ0ODhiZjJkMTQ1YmE3NjEzZjUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMGVlMjY4ODhmZjM5NDAwNzg4YmQ0YTUxODM2MjJmNDIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTJjZGFjMDRjZWExNDkxN2FkZmU4NzFmM2EzNTcyMTQgPSAkKCc8ZGl2IGlkPSJodG1sX2EyY2RhYzA0Y2VhMTQ5MTdhZGZlODcxZjNhMzU3MjE0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5FYXN0IFlvcms6IFdvb2RiaW5lIEhlaWdodHM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzBlZTI2ODg4ZmYzOTQwMDc4OGJkNGE1MTgzNjIyZjQyLnNldENvbnRlbnQoaHRtbF9hMmNkYWMwNGNlYTE0OTE3YWRmZTg3MWYzYTM1NzIxNCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80Njg5MjI2MzJmNDg0YTFmOTcxZmNiYzZlNjQ1MmJkNC5iaW5kUG9wdXAocG9wdXBfMGVlMjY4ODhmZjM5NDAwNzg4YmQ0YTUxODM2MjJmNDIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMzRkN2Y5YjYwNThhNDBlOTljODY3OTQzYjM4ZGI5YzkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTE0OTM5LC03OS4zNzU0MTc5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzRjOTIyODAzZjMwNDRlZjU5YTFkMDAwYjRkYjI1MDM1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzg0NjQ2MTk1ZjQ4MDQ0YTRiNjU1OTFkNjE4MjJhYWE5ID0gJCgnPGRpdiBpZD0iaHRtbF84NDY0NjE5NWY0ODA0NGE0YjY1NTkxZDYxODIyYWFhOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG93bnRvd24gVG9yb250bzogU3QuIEphbWVzIFRvd248L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzRjOTIyODAzZjMwNDRlZjU5YTFkMDAwYjRkYjI1MDM1LnNldENvbnRlbnQoaHRtbF84NDY0NjE5NWY0ODA0NGE0YjY1NTkxZDYxODIyYWFhOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zNGQ3ZjliNjA1OGE0MGU5OWM4Njc5NDNiMzhkYjljOS5iaW5kUG9wdXAocG9wdXBfNGM5MjI4MDNmMzA0NGVmNTlhMWQwMDBiNGRiMjUwMzUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMDk4ZjgyZTRiMmMxNDMzMDlhNDY3ZjdjM2JlOGQxMDQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTM3ODEzLC03OS40MjgxOTE0MDAwMDAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lZGZhNzI1ODEwNmQ0NmRkOGI2ODI3ZTkwZjVlMWFmNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iNzk1MjFlMTVkMTg0Y2RkOWQ5NWE2ZTRjYTgzOTZmMiA9ICQoJzxkaXYgaWQ9Imh0bWxfYjc5NTIxZTE1ZDE4NGNkZDlkOTVhNmU0Y2E4Mzk2ZjIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPllvcms6IEh1bWV3b29kLUNlZGFydmFsZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZWRmYTcyNTgxMDZkNDZkZDhiNjgyN2U5MGY1ZTFhZjcuc2V0Q29udGVudChodG1sX2I3OTUyMWUxNWQxODRjZGQ5ZDk1YTZlNGNhODM5NmYyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzA5OGY4MmU0YjJjMTQzMzA5YTQ2N2Y3YzNiZThkMTA0LmJpbmRQb3B1cChwb3B1cF9lZGZhNzI1ODEwNmQ0NmRkOGI2ODI3ZTkwZjVlMWFmNyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85YjczM2U1ZmM0YmE0Y2Y3YmEwMTc0NzVmYzYwOWUwMiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0MzUxNTIsLTc5LjU3NzIwMDc5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ExYzZhMTJlNDU4MjQ4OWM4ZDA0NDVlNzgwYWNjYTk0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQ4NmIxMDIzZDFmMDQzMTA5YjZhMzg5MmQwYmI3ODQzID0gJCgnPGRpdiBpZD0iaHRtbF80ODZiMTAyM2QxZjA0MzEwOWI2YTM4OTJkMGJiNzg0MyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RXRvYmljb2tlOiBFcmluZ2F0ZSwgQmxvb3JkYWxlIEdhcmRlbnMsIE9sZCBCdXJuaGFtdGhvcnBlLCBNYXJrbGFuZCBXb29kPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hMWM2YTEyZTQ1ODI0ODljOGQwNDQ1ZTc4MGFjY2E5NC5zZXRDb250ZW50KGh0bWxfNDg2YjEwMjNkMWYwNDMxMDliNmEzODkyZDBiYjc4NDMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOWI3MzNlNWZjNGJhNGNmN2JhMDE3NDc1ZmM2MDllMDIuYmluZFBvcHVwKHBvcHVwX2ExYzZhMTJlNDU4MjQ4OWM4ZDA0NDVlNzgwYWNjYTk0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzNmYjlkYzc1MWRjMDQ4ZjY5N2VjMzQ1MWY3NDA5MGUzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzYzNTcyNiwtNzkuMTg4NzExNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82ZmI2YzcxMGY4ZDY0YmU5ODZhYjUwZjgyOWIxMjliNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zYTFhZWY1NjNiM2Y0NTEzOGQ4Njc1NjFjZWRlZThkYyA9ICQoJzxkaXYgaWQ9Imh0bWxfM2ExYWVmNTYzYjNmNDUxMzhkODY3NTYxY2VkZWU4ZGMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlNjYXJib3JvdWdoOiBHdWlsZHdvb2QsIE1vcm5pbmdzaWRlLCBXZXN0IEhpbGw8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzZmYjZjNzEwZjhkNjRiZTk4NmFiNTBmODI5YjEyOWI0LnNldENvbnRlbnQoaHRtbF8zYTFhZWY1NjNiM2Y0NTEzOGQ4Njc1NjFjZWRlZThkYyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zZmI5ZGM3NTFkYzA0OGY2OTdlYzM0NTFmNzQwOTBlMy5iaW5kUG9wdXAocG9wdXBfNmZiNmM3MTBmOGQ2NGJlOTg2YWI1MGY4MjliMTI5YjQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOWY5MTliMmMwYmEzNDc5ODg5NDU3NmVkMDk2MWFmZmUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NzYzNTczOTk5OTk5OSwtNzkuMjkzMDMxMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iMzI4NzFkN2NhZjU0ZDhkYWY4YmVlZDJjODZhZmU5MCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jOWNkMDhhZDJlYWY0MDA5ODcwMThhMmNiNTRlZDM2NCA9ICQoJzxkaXYgaWQ9Imh0bWxfYzljZDA4YWQyZWFmNDAwOTg3MDE4YTJjYjU0ZWQzNjQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkVhc3QgVG9yb250bzogVGhlIEJlYWNoZXM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2IzMjg3MWQ3Y2FmNTRkOGRhZjhiZWVkMmM4NmFmZTkwLnNldENvbnRlbnQoaHRtbF9jOWNkMDhhZDJlYWY0MDA5ODcwMThhMmNiNTRlZDM2NCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85ZjkxOWIyYzBiYTM0Nzk4ODk0NTc2ZWQwOTYxYWZmZS5iaW5kUG9wdXAocG9wdXBfYjMyODcxZDdjYWY1NGQ4ZGFmOGJlZWQyYzg2YWZlOTApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZWNjYTVjN2Q3MzVjNGU4Njk3YjY4N2IzZjIwMjljYTMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDQ3NzA3OTk5OTk5OTYsLTc5LjM3MzMwNjRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfM2QwNDQxZmQ2OTg3NDQ0ODhiZjJkMTQ1YmE3NjEzZjUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzFmYzUyN2UzNDllNGUzMWE4NTg4NDEzNTc3NDhjY2MgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOWIyYzQ3MTliYzdlNDNiMWIzMDA0ZTYyNWFhMGY5YmUgPSAkKCc8ZGl2IGlkPSJodG1sXzliMmM0NzE5YmM3ZTQzYjFiMzAwNGU2MjVhYTBmOWJlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3dudG93biBUb3JvbnRvOiBCZXJjenkgUGFyazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNzFmYzUyN2UzNDllNGUzMWE4NTg4NDEzNTc3NDhjY2Muc2V0Q29udGVudChodG1sXzliMmM0NzE5YmM3ZTQzYjFiMzAwNGU2MjVhYTBmOWJlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2VjY2E1YzdkNzM1YzRlODY5N2I2ODdiM2YyMDI5Y2EzLmJpbmRQb3B1cChwb3B1cF83MWZjNTI3ZTM0OWU0ZTMxYTg1ODg0MTM1Nzc0OGNjYyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yZjJkYzcwNmZiYmI0ZDBmOTgzZGEwM2NmNWM5OWU0YSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY4OTAyNTYsLTc5LjQ1MzUxMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jNzQ3YzdjODQ5ODc0ZmY3YjM2OTU2OGMyOTk0MWZlZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84Y2Y4MjMwYjlhOTc0NzdlYmJkZWM4OTUwYzUxZWZiOSA9ICQoJzxkaXYgaWQ9Imh0bWxfOGNmODIzMGI5YTk3NDc3ZWJiZGVjODk1MGM1MWVmYjkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPllvcms6IENhbGVkb25pYS1GYWlyYmFua3M8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2M3NDdjN2M4NDk4NzRmZjdiMzY5NTY4YzI5OTQxZmVkLnNldENvbnRlbnQoaHRtbF84Y2Y4MjMwYjlhOTc0NzdlYmJkZWM4OTUwYzUxZWZiOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yZjJkYzcwNmZiYmI0ZDBmOTgzZGEwM2NmNWM5OWU0YS5iaW5kUG9wdXAocG9wdXBfYzc0N2M3Yzg0OTg3NGZmN2IzNjk1NjhjMjk5NDFmZWQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNzVlYWI0MTIyZTBhNGI5MGI0NDllY2Y2ZjJlZmZiODMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NzA5OTIxLC03OS4yMTY5MTc0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kYjZhODI1YjM1YjU0ZDU4OGZlNDQ4NGI2NGY2ODhkOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83NDNkOGExOTRmNjI0YWM2OTBjNDEwOTllOTIzNjE5ZSA9ICQoJzxkaXYgaWQ9Imh0bWxfNzQzZDhhMTk0ZjYyNGFjNjkwYzQxMDk5ZTkyMzYxOWUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlNjYXJib3JvdWdoOiBXb2J1cm48L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2RiNmE4MjViMzViNTRkNTg4ZmU0NDg0YjY0ZjY4OGQ4LnNldENvbnRlbnQoaHRtbF83NDNkOGExOTRmNjI0YWM2OTBjNDEwOTllOTIzNjE5ZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83NWVhYjQxMjJlMGE0YjkwYjQ0OWVjZjZmMmVmZmI4My5iaW5kUG9wdXAocG9wdXBfZGI2YTgyNWIzNWI1NGQ1ODhmZTQ0ODRiNjRmNjg4ZDgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNzU0YzFmMGFiYjdmNDgzMzk2MzAwMTQ4NmJlZGRmMjMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDkwNjA0LC03OS4zNjM0NTE3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzk2NDEyM2NlMDI2YjRlNjA4OTU2MzY0MTgwODNlMmNmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2MxZmVkMTJkY2MwODQ0Mjg5OTcwZDc0ZmFjOGRlZGMxID0gJCgnPGRpdiBpZD0iaHRtbF9jMWZlZDEyZGNjMDg0NDI4OTk3MGQ3NGZhYzhkZWRjMSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RWFzdCBZb3JrOiBMZWFzaWRlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85NjQxMjNjZTAyNmI0ZTYwODk1NjM2NDE4MDgzZTJjZi5zZXRDb250ZW50KGh0bWxfYzFmZWQxMmRjYzA4NDQyODk5NzBkNzRmYWM4ZGVkYzEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNzU0YzFmMGFiYjdmNDgzMzk2MzAwMTQ4NmJlZGRmMjMuYmluZFBvcHVwKHBvcHVwXzk2NDEyM2NlMDI2YjRlNjA4OTU2MzY0MTgwODNlMmNmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzRiYjMwYTQ3YTM3YTRjMjY5YjMxN2I1YzUwZjk3Mzg2ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjU3OTUyNCwtNzkuMzg3MzgyNl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lMzlkMDdlMzVhMTk0NGIzOGIyYzdmYWUyZWFhOWI2YSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hMTY1YzJjNmM5OTY0ZjYxOGNlMTk1ZDQ0NjgwMDhiNSA9ICQoJzxkaXYgaWQ9Imh0bWxfYTE2NWMyYzZjOTk2NGY2MThjZTE5NWQ0NDY4MDA4YjUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvd250b3duIFRvcm9udG86IENlbnRyYWwgQmF5IFN0cmVldDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZTM5ZDA3ZTM1YTE5NDRiMzhiMmM3ZmFlMmVhYTliNmEuc2V0Q29udGVudChodG1sX2ExNjVjMmM2Yzk5NjRmNjE4Y2UxOTVkNDQ2ODAwOGI1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzRiYjMwYTQ3YTM3YTRjMjY5YjMxN2I1YzUwZjk3Mzg2LmJpbmRQb3B1cChwb3B1cF9lMzlkMDdlMzVhMTk0NGIzOGIyYzdmYWUyZWFhOWI2YSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jZDA3YzRiODU0MWQ0OTBiYTYwN2VhZTM4YmM0MGMxZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2OTU0MiwtNzkuNDIyNTYzN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mMzZmNGY5ZDQ1YTA0NWUyYWRhYmFiNmZlODYyNTAzZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iMzhkY2M1MmYwYTM0NDY4YjUyM2Q3MjFiYzk2ZGUyYSA9ICQoJzxkaXYgaWQ9Imh0bWxfYjM4ZGNjNTJmMGEzNDQ2OGI1MjNkNzIxYmM5NmRlMmEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvd250b3duIFRvcm9udG86IENocmlzdGllPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mMzZmNGY5ZDQ1YTA0NWUyYWRhYmFiNmZlODYyNTAzZC5zZXRDb250ZW50KGh0bWxfYjM4ZGNjNTJmMGEzNDQ2OGI1MjNkNzIxYmM5NmRlMmEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfY2QwN2M0Yjg1NDFkNDkwYmE2MDdlYWUzOGJjNDBjMWYuYmluZFBvcHVwKHBvcHVwX2YzNmY0ZjlkNDVhMDQ1ZTJhZGFiYWI2ZmU4NjI1MDNkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzhiYzlhYjBjYjNmMzQ5YjBhZDg2ZTBmZWVhNDNjOTQwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzczMTM2LC03OS4yMzk0NzYwOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83YzI5ZTY3NmNmMzg0OTFiOTY1ZGYwY2U5NDdkZGZjMSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yOTFkYjZmOGQ0MjU0ZmYxOGI0MzA5ZDZlN2QxNjVkNCA9ICQoJzxkaXYgaWQ9Imh0bWxfMjkxZGI2ZjhkNDI1NGZmMThiNDMwOWQ2ZTdkMTY1ZDQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlNjYXJib3JvdWdoOiBDZWRhcmJyYWU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzdjMjllNjc2Y2YzODQ5MWI5NjVkZjBjZTk0N2RkZmMxLnNldENvbnRlbnQoaHRtbF8yOTFkYjZmOGQ0MjU0ZmYxOGI0MzA5ZDZlN2QxNjVkNCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84YmM5YWIwY2IzZjM0OWIwYWQ4NmUwZmVlYTQzYzk0MC5iaW5kUG9wdXAocG9wdXBfN2MyOWU2NzZjZjM4NDkxYjk2NWRmMGNlOTQ3ZGRmYzEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOWI3NzJjYTU3OWJjNGIxYzgzMjE1YWJjODVmNThlNDggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My44MDM3NjIyLC03OS4zNjM0NTE3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzZlNTZlYTc5NjBhZDRkMjViM2QwYjljNjYxNmJlODZjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzYyMTRhZmUwMWE1MTRjZjdiNTUyMDcwYTcwNTVlYmMyID0gJCgnPGRpdiBpZD0iaHRtbF82MjE0YWZlMDFhNTE0Y2Y3YjU1MjA3MGE3MDU1ZWJjMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Tm9ydGggWW9yazogSGlsbGNyZXN0IFZpbGxhZ2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzZlNTZlYTc5NjBhZDRkMjViM2QwYjljNjYxNmJlODZjLnNldENvbnRlbnQoaHRtbF82MjE0YWZlMDFhNTE0Y2Y3YjU1MjA3MGE3MDU1ZWJjMik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85Yjc3MmNhNTc5YmM0YjFjODMyMTVhYmM4NWY1OGU0OC5iaW5kUG9wdXAocG9wdXBfNmU1NmVhNzk2MGFkNGQyNWIzZDBiOWM2NjE2YmU4NmMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTU0Y2NhNjhhNTUzNGFkOTlkMzRiM2FkZjRkY2U2YzAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTQzMjgzLC03OS40NDIyNTkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzNlM2IwZWE2MTk1OTRjM2RiMDdkMmJiY2EwM2RiYjdjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2MxMzk2NDY0ZmQ1NDQwYTliM2NlZmY3NjdjM2U0YzVkID0gJCgnPGRpdiBpZD0iaHRtbF9jMTM5NjQ2NGZkNTQ0MGE5YjNjZWZmNzY3YzNlNGM1ZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Tm9ydGggWW9yazogQmF0aHVyc3QgTWFub3IsIFdpbHNvbiBIZWlnaHRzLCBEb3duc3ZpZXcgTm9ydGg8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzNlM2IwZWE2MTk1OTRjM2RiMDdkMmJiY2EwM2RiYjdjLnNldENvbnRlbnQoaHRtbF9jMTM5NjQ2NGZkNTQ0MGE5YjNjZWZmNzY3YzNlNGM1ZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85NTRjY2E2OGE1NTM0YWQ5OWQzNGIzYWRmNGRjZTZjMC5iaW5kUG9wdXAocG9wdXBfM2UzYjBlYTYxOTU5NGMzZGIwN2QyYmJjYTAzZGJiN2MpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYzE3OTc3NTdkMDdhNGY0OGJjYjRhYmZmODc3NmQ3ZTQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDUzNjg5LC03OS4zNDkzNzE5MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8yOTE5MzUxNTc5N2I0MDgwOTg3YTg1NGI2YzhjOGI3YiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yNGZjYzIyYjRjZGM0NTc4YjdmZmZhNWRiYWM4Njc3NCA9ICQoJzxkaXYgaWQ9Imh0bWxfMjRmY2MyMmI0Y2RjNDU3OGI3ZmZmYTVkYmFjODY3NzQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkVhc3QgWW9yazogVGhvcm5jbGlmZmUgUGFyazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMjkxOTM1MTU3OTdiNDA4MDk4N2E4NTRiNmM4YzhiN2Iuc2V0Q29udGVudChodG1sXzI0ZmNjMjJiNGNkYzQ1NzhiN2ZmZmE1ZGJhYzg2Nzc0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2MxNzk3NzU3ZDA3YTRmNDhiY2I0YWJmZjg3NzZkN2U0LmJpbmRQb3B1cChwb3B1cF8yOTE5MzUxNTc5N2I0MDgwOTg3YTg1NGI2YzhjOGI3Yik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9hODllMjFiOWVhYTc0ODMwYTEzN2QzOWM0YjRmMmZlNiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1MDU3MTIwMDAwMDAxLC03OS4zODQ1Njc1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzBiNWZiZTMxZjBiZDRhNWFiZTRlYTY2N2JlZWU3YTBhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzAzNmM1ODRmNjBjYzQ0MDFhMmYxMzI3Nzg4NzIxZGYyID0gJCgnPGRpdiBpZD0iaHRtbF8wMzZjNTg0ZjYwY2M0NDAxYTJmMTMyNzc4ODcyMWRmMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG93bnRvd24gVG9yb250bzogUmljaG1vbmQsIEFkZWxhaWRlLCBLaW5nPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wYjVmYmUzMWYwYmQ0YTVhYmU0ZWE2NjdiZWVlN2EwYS5zZXRDb250ZW50KGh0bWxfMDM2YzU4NGY2MGNjNDQwMWEyZjEzMjc3ODg3MjFkZjIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYTg5ZTIxYjllYWE3NDgzMGExMzdkMzljNGI0ZjJmZTYuYmluZFBvcHVwKHBvcHVwXzBiNWZiZTMxZjBiZDRhNWFiZTRlYTY2N2JlZWU3YTBhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2U4OWFkYjdkZDUxNjQ3MjdiNjk5ODVlMGJjNTZhMTk4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY5MDA1MTAwMDAwMDEsLTc5LjQ0MjI1OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfM2QwNDQxZmQ2OTg3NDQ0ODhiZjJkMTQ1YmE3NjEzZjUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMzFlYTdhYWE5Y2QzNDM2NmFkMDU3NmNmMDZmNjdmYWQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNjAyNDEzMTRhYzU0NDIxY2FhZjRlYjdkYWU2YzM5YzYgPSAkKCc8ZGl2IGlkPSJodG1sXzYwMjQxMzE0YWM1NDQyMWNhYWY0ZWI3ZGFlNmMzOWM2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5XZXN0IFRvcm9udG86IER1ZmZlcmluLCBEb3ZlcmNvdXJ0IFZpbGxhZ2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzMxZWE3YWFhOWNkMzQzNjZhZDA1NzZjZjA2ZjY3ZmFkLnNldENvbnRlbnQoaHRtbF82MDI0MTMxNGFjNTQ0MjFjYWFmNGViN2RhZTZjMzljNik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lODlhZGI3ZGQ1MTY0NzI3YjY5OTg1ZTBiYzU2YTE5OC5iaW5kUG9wdXAocG9wdXBfMzFlYTdhYWE5Y2QzNDM2NmFkMDU3NmNmMDZmNjdmYWQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMzFkMjc2Mjc1MWQ1NGVhNmFhZTBjZDdhYzhiMmRjZjcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NDQ3MzQyLC03OS4yMzk0NzYwOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xMTJhYTY3ZGFkNjU0YWM5YmYwZWU5Njk2ZGVkYjhhNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80YTMxOTI1ZjAxMTA0MjA5OGNjOTYxZjFjOGM1M2YwNyA9ICQoJzxkaXYgaWQ9Imh0bWxfNGEzMTkyNWYwMTEwNDIwOThjYzk2MWYxYzhjNTNmMDciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlNjYXJib3JvdWdoOiBTY2FyYm9yb3VnaCBWaWxsYWdlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xMTJhYTY3ZGFkNjU0YWM5YmYwZWU5Njk2ZGVkYjhhNS5zZXRDb250ZW50KGh0bWxfNGEzMTkyNWYwMTEwNDIwOThjYzk2MWYxYzhjNTNmMDcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMzFkMjc2Mjc1MWQ1NGVhNmFhZTBjZDdhYzhiMmRjZjcuYmluZFBvcHVwKHBvcHVwXzExMmFhNjdkYWQ2NTRhYzliZjBlZTk2OTZkZWRiOGE1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzQwMDMzZWQ0NDdkNDRhMmU5ZTQwYmUyODU5Zjc0NTExID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzc4NTE3NSwtNzkuMzQ2NTU1N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84MDdmZTJiYjJmZDE0NGNkYTJhNDdjMTcyZGQ1NTBlZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84NDRhZjc0NzM4MjA0NDhkYmEwYzU5MmJhOTRhYmQ0ZiA9ICQoJzxkaXYgaWQ9Imh0bWxfODQ0YWY3NDczODIwNDQ4ZGJhMGM1OTJiYTk0YWJkNGYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk5vcnRoIFlvcms6IEZhaXJ2aWV3LCBIZW5yeSBGYXJtLCBPcmlvbGU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzgwN2ZlMmJiMmZkMTQ0Y2RhMmE0N2MxNzJkZDU1MGVlLnNldENvbnRlbnQoaHRtbF84NDRhZjc0NzM4MjA0NDhkYmEwYzU5MmJhOTRhYmQ0Zik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80MDAzM2VkNDQ3ZDQ0YTJlOWU0MGJlMjg1OWY3NDUxMS5iaW5kUG9wdXAocG9wdXBfODA3ZmUyYmIyZmQxNDRjZGEyYTQ3YzE3MmRkNTUwZWUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZGRkYzg4ZWVjNjc5NDhiOWJmNWNhOWI1YzBkZGNkODAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43Njc5ODAzLC03OS40ODcyNjE5MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hZjhjZjliNDgxZmE0OTAwYWU3NGQxN2Y4NmM4ZmQ2OSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84NzA2YjY5MzdjOWY0Y2JlYjRlYjBmZjhiM2ZiNmViYyA9ICQoJzxkaXYgaWQ9Imh0bWxfODcwNmI2OTM3YzlmNGNiZWI0ZWIwZmY4YjNmYjZlYmMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk5vcnRoIFlvcms6IE5vcnRod29vZCBQYXJrLCBZb3JrIFVuaXZlcnNpdHk8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2FmOGNmOWI0ODFmYTQ5MDBhZTc0ZDE3Zjg2YzhmZDY5LnNldENvbnRlbnQoaHRtbF84NzA2YjY5MzdjOWY0Y2JlYjRlYjBmZjhiM2ZiNmViYyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9kZGRjODhlZWM2Nzk0OGI5YmY1Y2E5YjVjMGRkY2Q4MC5iaW5kUG9wdXAocG9wdXBfYWY4Y2Y5YjQ4MWZhNDkwMGFlNzRkMTdmODZjOGZkNjkpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNTFjYmM1NTNiZjAyNGJmY2JkMDg4ZjA0NzY0YzJkYjYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42ODUzNDcsLTc5LjMzODEwNjVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfM2QwNDQxZmQ2OTg3NDQ0ODhiZjJkMTQ1YmE3NjEzZjUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMzI2NTkwOTJjZjYzNDFiN2JhNzU1YjljZTNlMjUzOGYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTQxZTI4M2RjOGNhNDgwMmFmZmE3ZTZjMjc5YWViYjQgPSAkKCc8ZGl2IGlkPSJodG1sXzE0MWUyODNkYzhjYTQ4MDJhZmZhN2U2YzI3OWFlYmI0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5FYXN0IFlvcms6IEVhc3QgVG9yb250bywgQnJvYWR2aWV3IE5vcnRoIChPbGQgRWFzdCBZb3JrKTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMzI2NTkwOTJjZjYzNDFiN2JhNzU1YjljZTNlMjUzOGYuc2V0Q29udGVudChodG1sXzE0MWUyODNkYzhjYTQ4MDJhZmZhN2U2YzI3OWFlYmI0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzUxY2JjNTUzYmYwMjRiZmNiZDA4OGYwNDc2NGMyZGI2LmJpbmRQb3B1cChwb3B1cF8zMjY1OTA5MmNmNjM0MWI3YmE3NTViOWNlM2UyNTM4Zik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8xMTNjYjVjMmM1NTE0ZTExYTRkYTIxYTIyMWEwYTg0ZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0MDgxNTcsLTc5LjM4MTc1MjI5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzcxZjA3YTIxN2E1NDRkZmNiYWRmZjhjMmNkYjk2YTUzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2NlMDQ2ZTdkMGJhMDRhMGJiMjI0MmZlYzU2ODljMjAxID0gJCgnPGRpdiBpZD0iaHRtbF9jZTA0NmU3ZDBiYTA0YTBiYjIyNDJmZWM1Njg5YzIwMSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG93bnRvd24gVG9yb250bzogSGFyYm91cmZyb250IEVhc3QsIFVuaW9uIFN0YXRpb24sIFRvcm9udG8gSXNsYW5kczwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNzFmMDdhMjE3YTU0NGRmY2JhZGZmOGMyY2RiOTZhNTMuc2V0Q29udGVudChodG1sX2NlMDQ2ZTdkMGJhMDRhMGJiMjI0MmZlYzU2ODljMjAxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzExM2NiNWMyYzU1MTRlMTFhNGRhMjFhMjIxYTBhODRkLmJpbmRQb3B1cChwb3B1cF83MWYwN2EyMTdhNTQ0ZGZjYmFkZmY4YzJjZGI5NmE1Myk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9iMDExZmM1ZWE4Y2Y0Y2YyYWI1MDliNzM3MGMwYTZiMyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0NzkyNjcwMDAwMDAwNiwtNzkuNDE5NzQ5N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jMDcxYmVlMjMxODk0M2VhODcwMWI0ZTRiOTMyZmY2MCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jOTAyNDY1N2YwNjg0YjhkYmZmNWY4ZmRlMzQ0MTI5MSA9ICQoJzxkaXYgaWQ9Imh0bWxfYzkwMjQ2NTdmMDY4NGI4ZGJmZjVmOGZkZTM0NDEyOTEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldlc3QgVG9yb250bzogTGl0dGxlIFBvcnR1Z2FsLCBUcmluaXR5PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jMDcxYmVlMjMxODk0M2VhODcwMWI0ZTRiOTMyZmY2MC5zZXRDb250ZW50KGh0bWxfYzkwMjQ2NTdmMDY4NGI4ZGJmZjVmOGZkZTM0NDEyOTEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYjAxMWZjNWVhOGNmNGNmMmFiNTA5YjczNzBjMGE2YjMuYmluZFBvcHVwKHBvcHVwX2MwNzFiZWUyMzE4OTQzZWE4NzAxYjRlNGI5MzJmZjYwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2QzOTc0N2MzZWI1ODRjYjc5ZmY1MTFmZWQ0NWQyZTk0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI3OTI5MiwtNzkuMjYyMDI5NDAwMDAwMDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfM2QwNDQxZmQ2OTg3NDQ0ODhiZjJkMTQ1YmE3NjEzZjUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTMyODZiMzQzYTE0NDE0ZGIwZjM0OWQwMmM5YTdmMTEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNTcyYzU4NTBjZmVhNDU5ODk4MzhhZTY3M2Q5NTY4NjMgPSAkKCc8ZGl2IGlkPSJodG1sXzU3MmM1ODUwY2ZlYTQ1OTg5ODM4YWU2NzNkOTU2ODYzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TY2FyYm9yb3VnaDogS2VubmVkeSBQYXJrLCBJb252aWV3LCBFYXN0IEJpcmNobW91bnQgUGFyazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTMyODZiMzQzYTE0NDE0ZGIwZjM0OWQwMmM5YTdmMTEuc2V0Q29udGVudChodG1sXzU3MmM1ODUwY2ZlYTQ1OTg5ODM4YWU2NzNkOTU2ODYzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2QzOTc0N2MzZWI1ODRjYjc5ZmY1MTFmZWQ0NWQyZTk0LmJpbmRQb3B1cChwb3B1cF85MzI4NmIzNDNhMTQ0MTRkYjBmMzQ5ZDAyYzlhN2YxMSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83Zjk4NmJkZDk0ZTM0ZGYxOGI5MzI5ZjdiM2UwOWU4NyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4Njk0NzMsLTc5LjM4NTk3NV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82MGJiMzdhMzcwNzE0NjNmYjA1Y2Y3Mjg0MzliYjIyNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hNjdlYWEzZDNmM2Q0MGRkYTVmZWZlOGNkZmIyZWVmYiA9ICQoJzxkaXYgaWQ9Imh0bWxfYTY3ZWFhM2QzZjNkNDBkZGE1ZmVmZThjZGZiMmVlZmIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk5vcnRoIFlvcms6IEJheXZpZXcgVmlsbGFnZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNjBiYjM3YTM3MDcxNDYzZmIwNWNmNzI4NDM5YmIyMjUuc2V0Q29udGVudChodG1sX2E2N2VhYTNkM2YzZDQwZGRhNWZlZmU4Y2RmYjJlZWZiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzdmOTg2YmRkOTRlMzRkZjE4YjkzMjlmN2IzZTA5ZTg3LmJpbmRQb3B1cChwb3B1cF82MGJiMzdhMzcwNzE0NjNmYjA1Y2Y3Mjg0MzliYjIyNSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83Y2RhYzQwNWEyMjE0Yzk0OTU3NDViMjhhMTQzN2U3ZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjczNzQ3MzIwMDAwMDAwNCwtNzkuNDY0NzYzMjk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfM2QwNDQxZmQ2OTg3NDQ0ODhiZjJkMTQ1YmE3NjEzZjUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZTEwODJiYjZmYjQ2NDBmYzhlOWFiMDE5Mzc2YzMxMzggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZWJhYjQ0Y2Y4Y2Y1NDg5MTkwZDI1NGY1MTcwMTk5YjQgPSAkKCc8ZGl2IGlkPSJodG1sX2ViYWI0NGNmOGNmNTQ4OTE5MGQyNTRmNTE3MDE5OWI0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ob3J0aCBZb3JrOiBEb3duc3ZpZXc8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2UxMDgyYmI2ZmI0NjQwZmM4ZTlhYjAxOTM3NmMzMTM4LnNldENvbnRlbnQoaHRtbF9lYmFiNDRjZjhjZjU0ODkxOTBkMjU0ZjUxNzAxOTliNCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83Y2RhYzQwNWEyMjE0Yzk0OTU3NDViMjhhMTQzN2U3ZS5iaW5kUG9wdXAocG9wdXBfZTEwODJiYjZmYjQ2NDBmYzhlOWFiMDE5Mzc2YzMxMzgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYmNkOTQzMWU4NTFkNGY3N2IxMTliYzZkNzczODRkNmEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Nzk1NTcxLC03OS4zNTIxODhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfM2QwNDQxZmQ2OTg3NDQ0ODhiZjJkMTQ1YmE3NjEzZjUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZDgwNzQxMWRmN2QxNDhiNDhjNDY0YTQ2MTU3ZTJiNjMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzZhZWIwNjZkMjBjNDAyNjg0ODNlNzg4YmQxNjVlZTEgPSAkKCc8ZGl2IGlkPSJodG1sX2M2YWViMDY2ZDIwYzQwMjY4NDgzZTc4OGJkMTY1ZWUxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5FYXN0IFRvcm9udG86IFRoZSBEYW5mb3J0aCBXZXN0LCBSaXZlcmRhbGU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Q4MDc0MTFkZjdkMTQ4YjQ4YzQ2NGE0NjE1N2UyYjYzLnNldENvbnRlbnQoaHRtbF9jNmFlYjA2NmQyMGM0MDI2ODQ4M2U3ODhiZDE2NWVlMSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iY2Q5NDMxZTg1MWQ0Zjc3YjExOWJjNmQ3NzM4NGQ2YS5iaW5kUG9wdXAocG9wdXBfZDgwNzQxMWRmN2QxNDhiNDhjNDY0YTQ2MTU3ZTJiNjMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYTRkZWMxZDcwMjcxNGNlNTliMDc2ZDY4ZDMzMzc2YmMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDcxNzY4LC03OS4zODE1NzY0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iNjE0N2M3MmQ4MWM0MzcwYjliMzQyNWNjYmVhNWEyYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wMWE0ZjAwMzVlNzU0OGYzODQ0ZGNkZGU0NWMyNzI4MCA9ICQoJzxkaXYgaWQ9Imh0bWxfMDFhNGYwMDM1ZTc1NDhmMzg0NGRjZGRlNDVjMjcyODAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvd250b3duIFRvcm9udG86IFRvcm9udG8gRG9taW5pb24gQ2VudHJlLCBEZXNpZ24gRXhjaGFuZ2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2I2MTQ3YzcyZDgxYzQzNzBiOWIzNDI1Y2NiZWE1YTJjLnNldENvbnRlbnQoaHRtbF8wMWE0ZjAwMzVlNzU0OGYzODQ0ZGNkZGU0NWMyNzI4MCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hNGRlYzFkNzAyNzE0Y2U1OWIwNzZkNjhkMzMzNzZiYy5iaW5kUG9wdXAocG9wdXBfYjYxNDdjNzJkODFjNDM3MGI5YjM0MjVjY2JlYTVhMmMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZGE0ZTFmMTNlNGZiNDU2ZWE2ZTc4NTZjMjNiZWFmOWEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MzY4NDcyLC03OS40MjgxOTE0MDAwMDAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wMGI0NTkwN2I3NzI0ZDVlYWY5YTYyNDlhMjFiY2Q0YSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mOWY2MDM0OTcwMzQ0NmFlOTlhNTRkMWI2NTdkODdkYSA9ICQoJzxkaXYgaWQ9Imh0bWxfZjlmNjAzNDk3MDM0NDZhZTk5YTU0ZDFiNjU3ZDg3ZGEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldlc3QgVG9yb250bzogQnJvY2t0b24sIFBhcmtkYWxlIFZpbGxhZ2UsIEV4aGliaXRpb24gUGxhY2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzAwYjQ1OTA3Yjc3MjRkNWVhZjlhNjI0OWEyMWJjZDRhLnNldENvbnRlbnQoaHRtbF9mOWY2MDM0OTcwMzQ0NmFlOTlhNTRkMWI2NTdkODdkYSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9kYTRlMWYxM2U0ZmI0NTZlYTZlNzg1NmMyM2JlYWY5YS5iaW5kUG9wdXAocG9wdXBfMDBiNDU5MDdiNzcyNGQ1ZWFmOWE2MjQ5YTIxYmNkNGEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZTA0ZjMzMmRjYzZlNDkwMTlmMTJmMzU1Y2JmOWU0ZGEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTExMTE3MDAwMDAwMDQsLTc5LjI4NDU3NzJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfM2QwNDQxZmQ2OTg3NDQ0ODhiZjJkMTQ1YmE3NjEzZjUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMDY5MzM1MDFjZDM5NGVmODgxY2U2ZjYwOGFiNTk1YWMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTM0NjNlYTVjNWEwNDc2YmE3MGZiZTY5ODY3OGQzMjEgPSAkKCc8ZGl2IGlkPSJodG1sXzEzNDYzZWE1YzVhMDQ3NmJhNzBmYmU2OTg2NzhkMzIxIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TY2FyYm9yb3VnaDogR29sZGVuIE1pbGUsIENsYWlybGVhLCBPYWtyaWRnZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMDY5MzM1MDFjZDM5NGVmODgxY2U2ZjYwOGFiNTk1YWMuc2V0Q29udGVudChodG1sXzEzNDYzZWE1YzVhMDQ3NmJhNzBmYmU2OTg2NzhkMzIxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2UwNGYzMzJkY2M2ZTQ5MDE5ZjEyZjM1NWNiZjllNGRhLmJpbmRQb3B1cChwb3B1cF8wNjkzMzUwMWNkMzk0ZWY4ODFjZTZmNjA4YWI1OTVhYyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81ZTQ2MWNhMjNlMTY0MDVmYWY2NTFlNzM5NGZhN2EzYSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1NzQ5MDIsLTc5LjM3NDcxNDA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2Y1YWJiMzAzMDRiYzQ5ZWVhNDM4YTBjODMyOGRhNjM5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzJmMzYxMTc2MDE4OTQ3MmI4ODFjYzdkNWE0ZmFjMzY5ID0gJCgnPGRpdiBpZD0iaHRtbF8yZjM2MTE3NjAxODk0NzJiODgxY2M3ZDVhNGZhYzM2OSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Tm9ydGggWW9yazogWW9yayBNaWxscywgU2lsdmVyIEhpbGxzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mNWFiYjMwMzA0YmM0OWVlYTQzOGEwYzgzMjhkYTYzOS5zZXRDb250ZW50KGh0bWxfMmYzNjExNzYwMTg5NDcyYjg4MWNjN2Q1YTRmYWMzNjkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNWU0NjFjYTIzZTE2NDA1ZmFmNjUxZTczOTRmYTdhM2EuYmluZFBvcHVwKHBvcHVwX2Y1YWJiMzAzMDRiYzQ5ZWVhNDM4YTBjODMyOGRhNjM5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzFlZWMzNmI4OWI5YjQ0YjZhOGMyZjU0ZDI2ODViMDA4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzM5MDE0NiwtNzkuNTA2OTQzNl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mZjFjNDQwM2UxMzk0NDI2YTZkNGFmMmFjODNiMGVjMSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hYTNiMWQyNWUwOGI0ODlmYWE5ZjEyMWQ1ZTg1N2FhOCA9ICQoJzxkaXYgaWQ9Imh0bWxfYWEzYjFkMjVlMDhiNDg5ZmFhOWYxMjFkNWU4NTdhYTgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk5vcnRoIFlvcms6IERvd25zdmlldzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZmYxYzQ0MDNlMTM5NDQyNmE2ZDRhZjJhYzgzYjBlYzEuc2V0Q29udGVudChodG1sX2FhM2IxZDI1ZTA4YjQ4OWZhYTlmMTIxZDVlODU3YWE4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzFlZWMzNmI4OWI5YjQ0YjZhOGMyZjU0ZDI2ODViMDA4LmJpbmRQb3B1cChwb3B1cF9mZjFjNDQwM2UxMzk0NDI2YTZkNGFmMmFjODNiMGVjMSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl82ZjhmZGQ5NTVmMjQ0OWUzOTlhZDFkNzNkZDMzMWZkZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2ODk5ODUsLTc5LjMxNTU3MTU5OTk5OTk4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzExMjljNzYwYmY4MzQxYmE4YmRmMzgzNzljYmVhYTA2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2E3OTc1OTVjZmMyOTQxN2ZiYmU5NWMxZDM5MjRjOWFlID0gJCgnPGRpdiBpZD0iaHRtbF9hNzk3NTk1Y2ZjMjk0MTdmYmJlOTVjMWQzOTI0YzlhZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RWFzdCBUb3JvbnRvOiBJbmRpYSBCYXphYXIsIFRoZSBCZWFjaGVzIFdlc3Q8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzExMjljNzYwYmY4MzQxYmE4YmRmMzgzNzljYmVhYTA2LnNldENvbnRlbnQoaHRtbF9hNzk3NTk1Y2ZjMjk0MTdmYmJlOTVjMWQzOTI0YzlhZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82ZjhmZGQ5NTVmMjQ0OWUzOTlhZDFkNzNkZDMzMWZkZS5iaW5kUG9wdXAocG9wdXBfMTEyOWM3NjBiZjgzNDFiYThiZGYzODM3OWNiZWFhMDYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODJkNTkxY2ZhNzQ5NGU0MWIxMGFkZTAzNjgxYzE5NzcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDgxOTg1LC03OS4zNzk4MTY5MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80NjRhNmMxYTNmMDY0YzJlOGQzMmFkOTQxOTBjY2ZlMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jOWZjZTVlZDE4Mjk0M2UwYjgxNTI2MzVjNGU4ZWNlNyA9ICQoJzxkaXYgaWQ9Imh0bWxfYzlmY2U1ZWQxODI5NDNlMGI4MTUyNjM1YzRlOGVjZTciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvd250b3duIFRvcm9udG86IENvbW1lcmNlIENvdXJ0LCBWaWN0b3JpYSBIb3RlbDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNDY0YTZjMWEzZjA2NGMyZThkMzJhZDk0MTkwY2NmZTAuc2V0Q29udGVudChodG1sX2M5ZmNlNWVkMTgyOTQzZTBiODE1MjYzNWM0ZThlY2U3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzgyZDU5MWNmYTc0OTRlNDFiMTBhZGUwMzY4MWMxOTc3LmJpbmRQb3B1cChwb3B1cF80NjRhNmMxYTNmMDY0YzJlOGQzMmFkOTQxOTBjY2ZlMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wNTA3M2QzYWRjMDU0ZWE2OWIzYWYwZGM3NGQxNjkwMSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcxMzc1NjIwMDAwMDAwNiwtNzkuNDkwMDczOF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iYTQwNTgyZDZiNmQ0NjAyODU5MDM5NzRkMzE0ZGI5YiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9kMWQ0MmRkOTUzNzc0OWU1OWFmNjUwZTlkYWVmMjU1OSA9ICQoJzxkaXYgaWQ9Imh0bWxfZDFkNDJkZDk1Mzc3NDllNTlhZjY1MGU5ZGFlZjI1NTkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk5vcnRoIFlvcms6IE5vcnRoIFBhcmssIE1hcGxlIExlYWYgUGFyaywgVXB3b29kIFBhcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2JhNDA1ODJkNmI2ZDQ2MDI4NTkwMzk3NGQzMTRkYjliLnNldENvbnRlbnQoaHRtbF9kMWQ0MmRkOTUzNzc0OWU1OWFmNjUwZTlkYWVmMjU1OSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wNTA3M2QzYWRjMDU0ZWE2OWIzYWYwZGM3NGQxNjkwMS5iaW5kUG9wdXAocG9wdXBfYmE0MDU4MmQ2YjZkNDYwMjg1OTAzOTc0ZDMxNGRiOWIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZTdjY2QyODNmYWU1NDZhOWJiZDgxZWI4MmU3MjA5MTQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTYzMDMzLC03OS41NjU5NjMyOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84MzI5YWM4NTgwMzc0ZWVmOGEyY2ExMjM2MDYxZjMxYyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iMGRmY2Q0YzgzY2E0NDZjOWU1YjUwYjkzMzVlZmVhZiA9ICQoJzxkaXYgaWQ9Imh0bWxfYjBkZmNkNGM4M2NhNDQ2YzllNWI1MGI5MzM1ZWZlYWYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk5vcnRoIFlvcms6IEh1bWJlciBTdW1taXQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzgzMjlhYzg1ODAzNzRlZWY4YTJjYTEyMzYwNjFmMzFjLnNldENvbnRlbnQoaHRtbF9iMGRmY2Q0YzgzY2E0NDZjOWU1YjUwYjkzMzVlZmVhZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lN2NjZDI4M2ZhZTU0NmE5YmJkODFlYjgyZTcyMDkxNC5iaW5kUG9wdXAocG9wdXBfODMyOWFjODU4MDM3NGVlZjhhMmNhMTIzNjA2MWYzMWMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNzJmYmNlYTI0OGJjNDE0MDg1NWZhZDZlNDBkM2I0ZjkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTYzMTYsLTc5LjIzOTQ3NjA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzUzMjY3NmNkMDc5YTQwZjZiZmNlYzExNGVjMjBmMjkzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzNhMTczOWYzMjJjNDRlZTBhNWM1MmI2OWMwYzE1ZDMwID0gJCgnPGRpdiBpZD0iaHRtbF8zYTE3MzlmMzIyYzQ0ZWUwYTVjNTJiNjljMGMxNWQzMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U2NhcmJvcm91Z2g6IENsaWZmc2lkZSwgQ2xpZmZjcmVzdCwgU2NhcmJvcm91Z2ggVmlsbGFnZSBXZXN0PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81MzI2NzZjZDA3OWE0MGY2YmZjZWMxMTRlYzIwZjI5My5zZXRDb250ZW50KGh0bWxfM2ExNzM5ZjMyMmM0NGVlMGE1YzUyYjY5YzBjMTVkMzApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNzJmYmNlYTI0OGJjNDE0MDg1NWZhZDZlNDBkM2I0ZjkuYmluZFBvcHVwKHBvcHVwXzUzMjY3NmNkMDc5YTQwZjZiZmNlYzExNGVjMjBmMjkzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzQ1NWI1N2NmYzlmMjQ3ZjNhMTMzMjcyYzUwMDc0NmE2ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzg5MDUzLC03OS40MDg0OTI3OTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82ZTBmYTA3YjUxZTk0ZGEyOTk2MDQ1NTNmNmVhMmIzOSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lMmYwZmM3MTFiNDU0YjZjOWY3MDc4ZjRkNjdjMmU3MiA9ICQoJzxkaXYgaWQ9Imh0bWxfZTJmMGZjNzExYjQ1NGI2YzlmNzA3OGY0ZDY3YzJlNzIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk5vcnRoIFlvcms6IFdpbGxvd2RhbGUsIE5ld3RvbmJyb29rPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82ZTBmYTA3YjUxZTk0ZGEyOTk2MDQ1NTNmNmVhMmIzOS5zZXRDb250ZW50KGh0bWxfZTJmMGZjNzExYjQ1NGI2YzlmNzA3OGY0ZDY3YzJlNzIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNDU1YjU3Y2ZjOWYyNDdmM2ExMzMyNzJjNTAwNzQ2YTYuYmluZFBvcHVwKHBvcHVwXzZlMGZhMDdiNTFlOTRkYTI5OTYwNDU1M2Y2ZWEyYjM5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzBlYzQyNmY1MGVhYjQyNWQ4MDFjZTM5NzAxOWIwYjBiID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI4NDk2NCwtNzkuNDk1Njk3NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfM2QwNDQxZmQ2OTg3NDQ0ODhiZjJkMTQ1YmE3NjEzZjUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfODgzYmEwOTRiYzE1NDM3Yzg4MzhlZDE4ZGQzYWZjZGMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTM0OWFkNzg1NjlhNGE0ZmFmYmU5NDkzZDNjMzg3ZmUgPSAkKCc8ZGl2IGlkPSJodG1sX2EzNDlhZDc4NTY5YTRhNGZhZmJlOTQ5M2QzYzM4N2ZlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ob3J0aCBZb3JrOiBEb3duc3ZpZXc8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzg4M2JhMDk0YmMxNTQzN2M4ODM4ZWQxOGRkM2FmY2RjLnNldENvbnRlbnQoaHRtbF9hMzQ5YWQ3ODU2OWE0YTRmYWZiZTk0OTNkM2MzODdmZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wZWM0MjZmNTBlYWI0MjVkODAxY2UzOTcwMTliMGIwYi5iaW5kUG9wdXAocG9wdXBfODgzYmEwOTRiYzE1NDM3Yzg4MzhlZDE4ZGQzYWZjZGMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMzdhODFjZWQyM2ExNDA1N2E1MjhjNzA2NWU1ZjY0YzEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTk1MjU1LC03OS4zNDA5MjNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfM2QwNDQxZmQ2OTg3NDQ0ODhiZjJkMTQ1YmE3NjEzZjUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNTJmZWRhMmQwMjQwNDM5YmFjOWE0NGJkMmE4Y2FjMmIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNjQ5YmQ3NjQ4NTY1NGEzY2ExMGY2OGJhNTc5ZDU2MGEgPSAkKCc8ZGl2IGlkPSJodG1sXzY0OWJkNzY0ODU2NTRhM2NhMTBmNjhiYTU3OWQ1NjBhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5FYXN0IFRvcm9udG86IFN0dWRpbyBEaXN0cmljdDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTJmZWRhMmQwMjQwNDM5YmFjOWE0NGJkMmE4Y2FjMmIuc2V0Q29udGVudChodG1sXzY0OWJkNzY0ODU2NTRhM2NhMTBmNjhiYTU3OWQ1NjBhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzM3YTgxY2VkMjNhMTQwNTdhNTI4YzcwNjVlNWY2NGMxLmJpbmRQb3B1cChwb3B1cF81MmZlZGEyZDAyNDA0MzliYWM5YTQ0YmQyYThjYWMyYik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83MjNiOTVmNDRkNTg0MWM1YmU2NTlhZTUxNjkzZjE4ZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjczMzI4MjUsLTc5LjQxOTc0OTddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfM2QwNDQxZmQ2OTg3NDQ0ODhiZjJkMTQ1YmE3NjEzZjUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjMxYzEwMTAxM2Q5NDVhN2IyNzZhYjA1Zjc4ZGNmYTUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZDg5YWVhODAyN2ZiNDEwZWIyMTQ2ZTJiMzI2ZTFhMzAgPSAkKCc8ZGl2IGlkPSJodG1sX2Q4OWFlYTgwMjdmYjQxMGViMjE0NmUyYjMyNmUxYTMwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ob3J0aCBZb3JrOiBCZWRmb3JkIFBhcmssIExhd3JlbmNlIE1hbm9yIEVhc3Q8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzYzMWMxMDEwMTNkOTQ1YTdiMjc2YWIwNWY3OGRjZmE1LnNldENvbnRlbnQoaHRtbF9kODlhZWE4MDI3ZmI0MTBlYjIxNDZlMmIzMjZlMWEzMCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83MjNiOTVmNDRkNTg0MWM1YmU2NTlhZTUxNjkzZjE4ZS5iaW5kUG9wdXAocG9wdXBfNjMxYzEwMTAxM2Q5NDVhN2IyNzZhYjA1Zjc4ZGNmYTUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZmEwNDlhMTcxYzQ4NDE4M2ExOGY2OTIwZjZlOWQzMTUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTExMTU4LC03OS40NzYwMTMyOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iMjBlNmUyYWRiYTM0ZmM2ODM5ZGY4OTUxMTlkYmI1MCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83YmU5MDU5YjIyNDc0OTRhYjMxYTc4ZGU0YmZlYjNhMCA9ICQoJzxkaXYgaWQ9Imh0bWxfN2JlOTA1OWIyMjQ3NDk0YWIzMWE3OGRlNGJmZWIzYTAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPllvcms6IERlbCBSYXksIE1vdW50IERlbm5pcywgS2VlbHNkYWxlIGFuZCBTaWx2ZXJ0aG9ybjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYjIwZTZlMmFkYmEzNGZjNjgzOWRmODk1MTE5ZGJiNTAuc2V0Q29udGVudChodG1sXzdiZTkwNTliMjI0NzQ5NGFiMzFhNzhkZTRiZmViM2EwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2ZhMDQ5YTE3MWM0ODQxODNhMThmNjkyMGY2ZTlkMzE1LmJpbmRQb3B1cChwb3B1cF9iMjBlNmUyYWRiYTM0ZmM2ODM5ZGY4OTUxMTlkYmI1MCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85ZTdmZTM0ZWMyMDc0ZjFhYTg4ZTFhNjFjMTE4MDJiNCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcyNDc2NTksLTc5LjUzMjI0MjQwMDAwMDAyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ViNWMzZTdmNDIwYzQyMDlhZmMzZGM0YmRlOWIzYzYwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzliYjJiMmE1N2FiODRkNmJiNjUzMmVjYTIzYmMzNWNhID0gJCgnPGRpdiBpZD0iaHRtbF85YmIyYjJhNTdhYjg0ZDZiYjY1MzJlY2EyM2JjMzVjYSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Tm9ydGggWW9yazogSHVtYmVybGVhLCBFbWVyeTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZWI1YzNlN2Y0MjBjNDIwOWFmYzNkYzRiZGU5YjNjNjAuc2V0Q29udGVudChodG1sXzliYjJiMmE1N2FiODRkNmJiNjUzMmVjYTIzYmMzNWNhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzllN2ZlMzRlYzIwNzRmMWFhODhlMWE2MWMxMTgwMmI0LmJpbmRQb3B1cChwb3B1cF9lYjVjM2U3ZjQyMGM0MjA5YWZjM2RjNGJkZTliM2M2MCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lYTJjOGJjMThhYTI0MWFiYWZmZWRlNWM0OTMxYWYxZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY5MjY1NzAwMDAwMDAwNCwtNzkuMjY0ODQ4MV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xMzg1ZTBlYWUxNmU0N2MyOTE4YTQ0NjJlMjE5ZTRhMSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83YzMwM2ViZjI0NjI0NWY4OWNkZmVlMzQyYzBlYmViNSA9ICQoJzxkaXYgaWQ9Imh0bWxfN2MzMDNlYmYyNDYyNDVmODljZGZlZTM0MmMwZWJlYjUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlNjYXJib3JvdWdoOiBCaXJjaCBDbGlmZiwgQ2xpZmZzaWRlIFdlc3Q8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzEzODVlMGVhZTE2ZTQ3YzI5MThhNDQ2MmUyMTllNGExLnNldENvbnRlbnQoaHRtbF83YzMwM2ViZjI0NjI0NWY4OWNkZmVlMzQyYzBlYmViNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lYTJjOGJjMThhYTI0MWFiYWZmZWRlNWM0OTMxYWYxZC5iaW5kUG9wdXAocG9wdXBfMTM4NWUwZWFlMTZlNDdjMjkxOGE0NDYyZTIxOWU0YTEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZGJlYzgzYzllOGFkNGQyMzhiZDM3ZDQ1OGFlY2M5OWMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NzAxMTk5LC03OS40MDg0OTI3OTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xZmI1NWVlZGZjNjk0Y2I3ODcwYjUyYjU3NmJkZTk0ZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wZjZiYWYwNWNiN2U0NGZmYTE1MmE3OWE0YjQ4OTQ3ZSA9ICQoJzxkaXYgaWQ9Imh0bWxfMGY2YmFmMDVjYjdlNDRmZmExNTJhNzlhNGI0ODk0N2UiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk5vcnRoIFlvcms6IFdpbGxvd2RhbGUsIFdpbGxvd2RhbGUgRWFzdDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMWZiNTVlZWRmYzY5NGNiNzg3MGI1MmI1NzZiZGU5NGYuc2V0Q29udGVudChodG1sXzBmNmJhZjA1Y2I3ZTQ0ZmZhMTUyYTc5YTRiNDg5NDdlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2RiZWM4M2M5ZThhZDRkMjM4YmQzN2Q0NThhZWNjOTljLmJpbmRQb3B1cChwb3B1cF8xZmI1NWVlZGZjNjk0Y2I3ODcwYjUyYjU3NmJkZTk0Zik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mOTAxYWJlMGE1ZDg0MzZmYTJiYjA5MDAwNjIzODRmMyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc2MTYzMTMsLTc5LjUyMDk5OTQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzI1YzMzN2EyYTZmNDRhNDc4ODIxYzE0ZDVhZmQxOWYzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzdiNTIxNGJkOTMzMTQyZTJiZGY0ZTExYmVmZDFlNjUyID0gJCgnPGRpdiBpZD0iaHRtbF83YjUyMTRiZDkzMzE0MmUyYmRmNGUxMWJlZmQxZTY1MiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Tm9ydGggWW9yazogRG93bnN2aWV3PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8yNWMzMzdhMmE2ZjQ0YTQ3ODgyMWMxNGQ1YWZkMTlmMy5zZXRDb250ZW50KGh0bWxfN2I1MjE0YmQ5MzMxNDJlMmJkZjRlMTFiZWZkMWU2NTIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZjkwMWFiZTBhNWQ4NDM2ZmEyYmIwOTAwMDYyMzg0ZjMuYmluZFBvcHVwKHBvcHVwXzI1YzMzN2EyYTZmNDRhNDc4ODIxYzE0ZDVhZmQxOWYzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzhkYmEyZDY5MjIzNzQ5YWQ5Y2JlNWE1YWNkMTkyODY4ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI4MDIwNSwtNzkuMzg4NzkwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84OWUwOGNhMGNjZTE0NDliOTZjODgzOTBkMGNjNzU3YyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zYmEyMmI4NmQ4Zjc0NGQ4ODRlZWI5OGI0Mjk3ZDRjOSA9ICQoJzxkaXYgaWQ9Imh0bWxfM2JhMjJiODZkOGY3NDRkODg0ZWViOThiNDI5N2Q0YzkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNlbnRyYWwgVG9yb250bzogTGF3cmVuY2UgUGFyazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfODllMDhjYTBjY2UxNDQ5Yjk2Yzg4MzkwZDBjYzc1N2Muc2V0Q29udGVudChodG1sXzNiYTIyYjg2ZDhmNzQ0ZDg4NGVlYjk4YjQyOTdkNGM5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzhkYmEyZDY5MjIzNzQ5YWQ5Y2JlNWE1YWNkMTkyODY4LmJpbmRQb3B1cChwb3B1cF84OWUwOGNhMGNjZTE0NDliOTZjODgzOTBkMGNjNzU3Yyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9hMDBkZTAwMjJiMTc0MmRiOTgwNjU3MDZkYjU4ZDY3OCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcxMTY5NDgsLTc5LjQxNjkzNTU5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2VjOWIxOWQwMjJmOTRiOWNhNjA2YTg1ODMyOWJjNGNlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzNiZWFjNDJkODZiMDQ4ZTQ5ZDE2MjQwYmZmMTYwMjIxID0gJCgnPGRpdiBpZD0iaHRtbF8zYmVhYzQyZDg2YjA0OGU0OWQxNjI0MGJmZjE2MDIyMSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2VudHJhbCBUb3JvbnRvOiBSb3NlbGF3bjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZWM5YjE5ZDAyMmY5NGI5Y2E2MDZhODU4MzI5YmM0Y2Uuc2V0Q29udGVudChodG1sXzNiZWFjNDJkODZiMDQ4ZTQ5ZDE2MjQwYmZmMTYwMjIxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2EwMGRlMDAyMmIxNzQyZGI5ODA2NTcwNmRiNThkNjc4LmJpbmRQb3B1cChwb3B1cF9lYzliMTlkMDIyZjk0YjljYTYwNmE4NTgzMjliYzRjZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lMGFjYjU0ZmY5ODQ0NTgyYTY1Njg0YTc3YzFiNzdiOSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY3MzE4NTI5OTk5OTk5LC03OS40ODcyNjE5MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81NzA1ZWZlZDhlMDU0NzM2ODk2ODczODUzNTU4OTVmZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jNmQyYTE5OGE0NWE0ZTIzYTdiNWE0M2IwOTQ0MTM4MiA9ICQoJzxkaXYgaWQ9Imh0bWxfYzZkMmExOThhNDVhNGUyM2E3YjVhNDNiMDk0NDEzODIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPllvcms6IFJ1bm55bWVkZSwgVGhlIEp1bmN0aW9uIE5vcnRoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF81NzA1ZWZlZDhlMDU0NzM2ODk2ODczODUzNTU4OTVmZi5zZXRDb250ZW50KGh0bWxfYzZkMmExOThhNDVhNGUyM2E3YjVhNDNiMDk0NDEzODIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZTBhY2I1NGZmOTg0NDU4MmE2NTY4NGE3N2MxYjc3YjkuYmluZFBvcHVwKHBvcHVwXzU3MDVlZmVkOGUwNTQ3MzY4OTY4NzM4NTM1NTg5NWZmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzNkMDdjMmUyYmRkNzQzMzJiMjI4MDVlOGRhYTMxNDliID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA2ODc2LC03OS41MTgxODg0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mYTY2ZmRmOTZlYjc0NGU3OWZjOWJjODY1NDM0NWQ5YyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lMzM0MmFiODRhMTA0MzUyYWQ4MzlkOGVjN2M4MDZhYiA9ICQoJzxkaXYgaWQ9Imh0bWxfZTMzNDJhYjg0YTEwNDM1MmFkODM5ZDhlYzdjODA2YWIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPllvcms6IFdlc3RvbjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZmE2NmZkZjk2ZWI3NDRlNzlmYzliYzg2NTQzNDVkOWMuc2V0Q29udGVudChodG1sX2UzMzQyYWI4NGExMDQzNTJhZDgzOWQ4ZWM3YzgwNmFiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzNkMDdjMmUyYmRkNzQzMzJiMjI4MDVlOGRhYTMxNDliLmJpbmRQb3B1cChwb3B1cF9mYTY2ZmRmOTZlYjc0NGU3OWZjOWJjODY1NDM0NWQ5Yyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wNTJjNTg1Mzc1MjU0ZDMxOGY3NmE1N2U2YTdkODAxOSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1NzQwOTYsLTc5LjI3MzMwNDAwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2M5YWUzYTNmODNmODRjZGZiZTE3OTlhMTBmOGQwZjU0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzFkODJiNTU4NDgwNzRmZTRiYTQxMmNlNWM1OGI2MjU2ID0gJCgnPGRpdiBpZD0iaHRtbF8xZDgyYjU1ODQ4MDc0ZmU0YmE0MTJjZTVjNThiNjI1NiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U2NhcmJvcm91Z2g6IERvcnNldCBQYXJrLCBXZXhmb3JkIEhlaWdodHMsIFNjYXJib3JvdWdoIFRvd24gQ2VudHJlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jOWFlM2EzZjgzZjg0Y2RmYmUxNzk5YTEwZjhkMGY1NC5zZXRDb250ZW50KGh0bWxfMWQ4MmI1NTg0ODA3NGZlNGJhNDEyY2U1YzU4YjYyNTYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMDUyYzU4NTM3NTI1NGQzMThmNzZhNTdlNmE3ZDgwMTkuYmluZFBvcHVwKHBvcHVwX2M5YWUzYTNmODNmODRjZGZiZTE3OTlhMTBmOGQwZjU0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzUzNzkxMTRkODQwOTRmMWViNzZhMWZjYjJjZTBlZjdkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzUyNzU4Mjk5OTk5OTk2LC03OS40MDAwNDkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzNiZmE4ZjlhOTE5MjRiNzY5YjkyNjliNzI2ZDQ5YjUyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2E2YzhjMTVhNmY5YzQ3NGY4YzUyMGFmM2Y2YTdjYTVjID0gJCgnPGRpdiBpZD0iaHRtbF9hNmM4YzE1YTZmOWM0NzRmOGM1MjBhZjNmNmE3Y2E1YyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Tm9ydGggWW9yazogWW9yayBNaWxscyBXZXN0PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zYmZhOGY5YTkxOTI0Yjc2OWI5MjY5YjcyNmQ0OWI1Mi5zZXRDb250ZW50KGh0bWxfYTZjOGMxNWE2ZjljNDc0ZjhjNTIwYWYzZjZhN2NhNWMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNTM3OTExNGQ4NDA5NGYxZWI3NmExZmNiMmNlMGVmN2QuYmluZFBvcHVwKHBvcHVwXzNiZmE4ZjlhOTE5MjRiNzY5YjkyNjliNzI2ZDQ5YjUyKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2I2YWUxNDg5MmVmNTQxM2U5NzY4NTkwMjRiM2ZkMzBjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzEyNzUxMSwtNzkuMzkwMTk3NV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82YTc2Y2ZkYmZkZDE0MGY2ODU4MjZkMDM2NjQwN2NhNiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yMmNjNGVjNjZjYmU0Y2M1OGM0YjgyNTE2MWE5Y2I2NyA9ICQoJzxkaXYgaWQ9Imh0bWxfMjJjYzRlYzY2Y2JlNGNjNThjNGI4MjUxNjFhOWNiNjciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNlbnRyYWwgVG9yb250bzogRGF2aXN2aWxsZSBOb3J0aDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNmE3NmNmZGJmZGQxNDBmNjg1ODI2ZDAzNjY0MDdjYTYuc2V0Q29udGVudChodG1sXzIyY2M0ZWM2NmNiZTRjYzU4YzRiODI1MTYxYTljYjY3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2I2YWUxNDg5MmVmNTQxM2U5NzY4NTkwMjRiM2ZkMzBjLmJpbmRQb3B1cChwb3B1cF82YTc2Y2ZkYmZkZDE0MGY2ODU4MjZkMDM2NjQwN2NhNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83OGY2MGIzMWU0MjM0MDFjYWVhODc1YzllOTFmNjAzOCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY5Njk0NzYsLTc5LjQxMTMwNzIwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ZiYzJhOWU3Y2Y5ZjQ3MTY5NDQ5ZTZlYzc3MWM4YWZjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzQ3MDAwYzU5NjFhZjRjNTk4MzUzNTQ4M2QyNWVlZDgzID0gJCgnPGRpdiBpZD0iaHRtbF80NzAwMGM1OTYxYWY0YzU5ODM1MzU0ODNkMjVlZWQ4MyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2VudHJhbCBUb3JvbnRvOiBGb3Jlc3QgSGlsbCBOb3J0aCAmYW1wOyBXZXN0LCBGb3Jlc3QgSGlsbCBSb2FkIFBhcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ZiYzJhOWU3Y2Y5ZjQ3MTY5NDQ5ZTZlYzc3MWM4YWZjLnNldENvbnRlbnQoaHRtbF80NzAwMGM1OTYxYWY0YzU5ODM1MzU0ODNkMjVlZWQ4Myk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83OGY2MGIzMWU0MjM0MDFjYWVhODc1YzllOTFmNjAzOC5iaW5kUG9wdXAocG9wdXBfZmJjMmE5ZTdjZjlmNDcxNjk0NDllNmVjNzcxYzhhZmMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNzQyOTMwODNmNDVjNGFiYWEzZWIyMjY1ZjgwMzM5OWEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjE2MDgzLC03OS40NjQ3NjMyOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81NTcwZDZmNDkwOWU0MzVlYTM5Mzc1YWM0ODg2M2UxMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82MDdjNjg0NzhhZGQ0YWMyYTAxYmViNDlmNGZjOGIxMyA9ICQoJzxkaXYgaWQ9Imh0bWxfNjA3YzY4NDc4YWRkNGFjMmEwMWJlYjQ5ZjRmYzhiMTMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldlc3QgVG9yb250bzogSGlnaCBQYXJrLCBUaGUgSnVuY3Rpb24gU291dGg8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzU1NzBkNmY0OTA5ZTQzNWVhMzkzNzVhYzQ4ODYzZTEwLnNldENvbnRlbnQoaHRtbF82MDdjNjg0NzhhZGQ0YWMyYTAxYmViNDlmNGZjOGIxMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83NDI5MzA4M2Y0NWM0YWJhYTNlYjIyNjVmODAzMzk5YS5iaW5kUG9wdXAocG9wdXBfNTU3MGQ2ZjQ5MDllNDM1ZWEzOTM3NWFjNDg4NjNlMTApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZWMwOTA4Nzc2YmIzNDlkY2I3NGZiNTFjZTczNTFkZTMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTYzMTksLTc5LjUzMjI0MjQwMDAwMDAyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2JhZTYxODA5NDI0MjQxM2U5ZjUyYWE5ODVkYmJmM2Y3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2E1YjNkMGU3NmNiYjQ1ZDZhZjQ4NjliZmU4OTk2YzQ1ID0gJCgnPGRpdiBpZD0iaHRtbF9hNWIzZDBlNzZjYmI0NWQ2YWY0ODY5YmZlODk5NmM0NSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RXRvYmljb2tlOiBXZXN0bW91bnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2JhZTYxODA5NDI0MjQxM2U5ZjUyYWE5ODVkYmJmM2Y3LnNldENvbnRlbnQoaHRtbF9hNWIzZDBlNzZjYmI0NWQ2YWY0ODY5YmZlODk5NmM0NSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lYzA5MDg3NzZiYjM0OWRjYjc0ZmI1MWNlNzM1MWRlMy5iaW5kUG9wdXAocG9wdXBfYmFlNjE4MDk0MjQyNDEzZTlmNTJhYTk4NWRiYmYzZjcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYjdjM2QzNzAyM2E5NDA2M2IxMzUxMmFiMTg3MzI2NTkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTAwNzE1MDAwMDAwMDQsLTc5LjI5NTg0OTFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfM2QwNDQxZmQ2OTg3NDQ0ODhiZjJkMTQ1YmE3NjEzZjUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfODA2YTUyMTE0NmI1NGRlOGJlMDc5MThlNzdiODE1NmUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZWZjYjEzMzUwY2YwNGQ2MmJhZjYzY2M2ZWY2Y2QxZWYgPSAkKCc8ZGl2IGlkPSJodG1sX2VmY2IxMzM1MGNmMDRkNjJiYWY2M2NjNmVmNmNkMWVmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TY2FyYm9yb3VnaDogV2V4Zm9yZCwgTWFyeXZhbGU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzgwNmE1MjExNDZiNTRkZThiZTA3OTE4ZTc3YjgxNTZlLnNldENvbnRlbnQoaHRtbF9lZmNiMTMzNTBjZjA0ZDYyYmFmNjNjYzZlZjZjZDFlZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iN2MzZDM3MDIzYTk0MDYzYjEzNTEyYWIxODczMjY1OS5iaW5kUG9wdXAocG9wdXBfODA2YTUyMTE0NmI1NGRlOGJlMDc5MThlNzdiODE1NmUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYWU0NGIwMTEwNGY1NDhkN2FiYWIxMGVjMmNmNzViNjYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODI3MzY0LC03OS40NDIyNTkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzY2OGU5ZDI0NGFmMzQ5Y2JhMjAwY2YwYjY4MWM5NzI3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2VjYzk3MTJhOTE5MjRiZmQ5NDczZWYzYTJjOGYzYzNmID0gJCgnPGRpdiBpZD0iaHRtbF9lY2M5NzEyYTkxOTI0YmZkOTQ3M2VmM2EyYzhmM2MzZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Tm9ydGggWW9yazogV2lsbG93ZGFsZSwgV2lsbG93ZGFsZSBXZXN0PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82NjhlOWQyNDRhZjM0OWNiYTIwMGNmMGI2ODFjOTcyNy5zZXRDb250ZW50KGh0bWxfZWNjOTcxMmE5MTkyNGJmZDk0NzNlZjNhMmM4ZjNjM2YpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYWU0NGIwMTEwNGY1NDhkN2FiYWIxMGVjMmNmNzViNjYuYmluZFBvcHVwKHBvcHVwXzY2OGU5ZDI0NGFmMzQ5Y2JhMjAwY2YwYjY4MWM5NzI3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzY4NGRhNzI3NjM4ODQzYzlhZTQwMjhiNjY1NWMxOWJmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzE1MzgzNCwtNzkuNDA1Njc4NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfM2QwNDQxZmQ2OTg3NDQ0ODhiZjJkMTQ1YmE3NjEzZjUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOWFmOTM2NTcyMDQ1NGMzMGFhNzcxZGYzODM4MTg5ZmIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMWNiMmRiM2NjNmQ5NGY0MjkxODc3YmQzZWM1YzUwZjMgPSAkKCc8ZGl2IGlkPSJodG1sXzFjYjJkYjNjYzZkOTRmNDI5MTg3N2JkM2VjNWM1MGYzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DZW50cmFsIFRvcm9udG86IE5vcnRoIFRvcm9udG8gV2VzdCwgTGF3cmVuY2UgUGFyazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOWFmOTM2NTcyMDQ1NGMzMGFhNzcxZGYzODM4MTg5ZmIuc2V0Q29udGVudChodG1sXzFjYjJkYjNjYzZkOTRmNDI5MTg3N2JkM2VjNWM1MGYzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzY4NGRhNzI3NjM4ODQzYzlhZTQwMjhiNjY1NWMxOWJmLmJpbmRQb3B1cChwb3B1cF85YWY5MzY1NzIwNDU0YzMwYWE3NzFkZjM4MzgxODlmYik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yNzFkZmMxYWFiNWE0NDY1ODNiOTdjODk0ZmY5OTc1ZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY3MjcwOTcsLTc5LjQwNTY3ODQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2I0OGM3NDRkZjk2YzRmYmFhMDdmODE4NTNhZjRlZWIxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzczYTk1OGYxZjU3YTQ5ZjFiOTQ5Yjc3YzJjYTdkNzk4ID0gJCgnPGRpdiBpZD0iaHRtbF83M2E5NThmMWY1N2E0OWYxYjk0OWI3N2MyY2E3ZDc5OCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2VudHJhbCBUb3JvbnRvOiBUaGUgQW5uZXgsIE5vcnRoIE1pZHRvd24sIFlvcmt2aWxsZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYjQ4Yzc0NGRmOTZjNGZiYWEwN2Y4MTg1M2FmNGVlYjEuc2V0Q29udGVudChodG1sXzczYTk1OGYxZjU3YTQ5ZjFiOTQ5Yjc3YzJjYTdkNzk4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzI3MWRmYzFhYWI1YTQ0NjU4M2I5N2M4OTRmZjk5NzVkLmJpbmRQb3B1cChwb3B1cF9iNDhjNzQ0ZGY5NmM0ZmJhYTA3ZjgxODUzYWY0ZWViMSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wNzM2NjU4YTJkYzE0M2JhOWRiZjQ3MDJmYzBkZDJmNyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0ODk1OTcsLTc5LjQ1NjMyNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83MzA2MTYxMThkNTc0YjZlYmJkMWY0NjZkY2RlNmVjMiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wYmVmNDlmMWZmNTk0NGM5YTQzNzliNzY4NjUwZmY4MSA9ICQoJzxkaXYgaWQ9Imh0bWxfMGJlZjQ5ZjFmZjU5NDRjOWE0Mzc5Yjc2ODY1MGZmODEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldlc3QgVG9yb250bzogUGFya2RhbGUsIFJvbmNlc3ZhbGxlczwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNzMwNjE2MTE4ZDU3NGI2ZWJiZDFmNDY2ZGNkZTZlYzIuc2V0Q29udGVudChodG1sXzBiZWY0OWYxZmY1OTQ0YzlhNDM3OWI3Njg2NTBmZjgxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzA3MzY2NThhMmRjMTQzYmE5ZGJmNDcwMmZjMGRkMmY3LmJpbmRQb3B1cChwb3B1cF83MzA2MTYxMThkNTc0YjZlYmJkMWY0NjZkY2RlNmVjMik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84NzEzZjcwNGJjYzY0YjU4YjlmNDM2OWUyMjExZmJhYSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYzNjk2NTYsLTc5LjYxNTgxODk5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzc4ZWM4ODc5ZmIzODQ2YWViYzViMzdjMWRhMzMwNGFmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzY5ZTEyNDkzYzFkZDRjZDlhOWFkYzE1MmMyYTNlMmM5ID0gJCgnPGRpdiBpZD0iaHRtbF82OWUxMjQ5M2MxZGQ0Y2Q5YTlhZGMxNTJjMmEzZTJjOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TWlzc2lzc2F1Z2E6IENhbmFkYSBQb3N0IEdhdGV3YXkgUHJvY2Vzc2luZyBDZW50cmU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzc4ZWM4ODc5ZmIzODQ2YWViYzViMzdjMWRhMzMwNGFmLnNldENvbnRlbnQoaHRtbF82OWUxMjQ5M2MxZGQ0Y2Q5YTlhZGMxNTJjMmEzZTJjOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84NzEzZjcwNGJjYzY0YjU4YjlmNDM2OWUyMjExZmJhYS5iaW5kUG9wdXAocG9wdXBfNzhlYzg4NzlmYjM4NDZhZWJjNWIzN2MxZGEzMzA0YWYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNzJiNmYxMzExYmJiNDNlOWE0NTQ1ZjAzOGMwN2I3OTkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42ODg5MDU0LC03OS41NTQ3MjQ0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85OWU1ZDc3OTVhZjI0ZWYxOTQwNTQ1NmMwNzQ4MjAwMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF83OTIwNjhjZmVlZTI0ZDVkOGJlNmJjYjljN2QzMDQ2NyA9ICQoJzxkaXYgaWQ9Imh0bWxfNzkyMDY4Y2ZlZWUyNGQ1ZDhiZTZiY2I5YzdkMzA0NjciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkV0b2JpY29rZTogS2luZ3N2aWV3IFZpbGxhZ2UsIFN0LiBQaGlsbGlwcywgTWFydGluIEdyb3ZlIEdhcmRlbnMsIFJpY2h2aWV3IEdhcmRlbnM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzk5ZTVkNzc5NWFmMjRlZjE5NDA1NDU2YzA3NDgyMDAzLnNldENvbnRlbnQoaHRtbF83OTIwNjhjZmVlZTI0ZDVkOGJlNmJjYjljN2QzMDQ2Nyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83MmI2ZjEzMTFiYmI0M2U5YTQ1NDVmMDM4YzA3Yjc5OS5iaW5kUG9wdXAocG9wdXBfOTllNWQ3Nzk1YWYyNGVmMTk0MDU0NTZjMDc0ODIwMDMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTNkNTMxNTk3NjI2NDFkMTg5ZGM3MzllMGRiYzQ0ZTIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43OTQyMDAzLC03OS4yNjIwMjk0MDAwMDAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jYWVjMTdhYTNmMmQ0ZDNlOGZlMTQyZmJmYTczODYzZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9jMmMzODMxY2E1MmY0NTgzYTNiYzcxODYyMDQxNDA2YSA9ICQoJzxkaXYgaWQ9Imh0bWxfYzJjMzgzMWNhNTJmNDU4M2EzYmM3MTg2MjA0MTQwNmEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlNjYXJib3JvdWdoOiBBZ2luY291cnQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2NhZWMxN2FhM2YyZDRkM2U4ZmUxNDJmYmZhNzM4NjNlLnNldENvbnRlbnQoaHRtbF9jMmMzODMxY2E1MmY0NTgzYTNiYzcxODYyMDQxNDA2YSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85M2Q1MzE1OTc2MjY0MWQxODlkYzczOWUwZGJjNDRlMi5iaW5kUG9wdXAocG9wdXBfY2FlYzE3YWEzZjJkNGQzZThmZTE0MmZiZmE3Mzg2M2UpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMWUwNjVhZDhmNTE2NGU0Mjk5ZDMyNjY0ZWNkODQwMmQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDQzMjQ0LC03OS4zODg3OTAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2I3ZGY0ZjRkNzBiMTRiMDNiZDZlNzc3MDhkNzk5YTE4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzY4NWExMzEwOTZhOTQyMmY4MTdmMGViNGQ5NTM4ZDNjID0gJCgnPGRpdiBpZD0iaHRtbF82ODVhMTMxMDk2YTk0MjJmODE3ZjBlYjRkOTUzOGQzYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2VudHJhbCBUb3JvbnRvOiBEYXZpc3ZpbGxlPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iN2RmNGY0ZDcwYjE0YjAzYmQ2ZTc3NzA4ZDc5OWExOC5zZXRDb250ZW50KGh0bWxfNjg1YTEzMTA5NmE5NDIyZjgxN2YwZWI0ZDk1MzhkM2MpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMWUwNjVhZDhmNTE2NGU0Mjk5ZDMyNjY0ZWNkODQwMmQuYmluZFBvcHVwKHBvcHVwX2I3ZGY0ZjRkNzBiMTRiMDNiZDZlNzc3MDhkNzk5YTE4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzg5YzM4MzQ3OGYyYjRhODc4ODUxNDNhOTM2MDNiYTM3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjYyNjk1NiwtNzkuNDAwMDQ5M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xNjkyNTBhNTRhNGU0YTY2OGQ0ZDYxZTYxNDEzNWU0MCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82MmQzNGJhN2ZmZTU0NzU4Yjc0MGYzNzU0MzIxN2IyMiA9ICQoJzxkaXYgaWQ9Imh0bWxfNjJkMzRiYTdmZmU1NDc1OGI3NDBmMzc1NDMyMTdiMjIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvd250b3duIFRvcm9udG86IFVuaXZlcnNpdHkgb2YgVG9yb250bywgSGFyYm9yZDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMTY5MjUwYTU0YTRlNGE2NjhkNGQ2MWU2MTQxMzVlNDAuc2V0Q29udGVudChodG1sXzYyZDM0YmE3ZmZlNTQ3NThiNzQwZjM3NTQzMjE3YjIyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzg5YzM4MzQ3OGYyYjRhODc4ODUxNDNhOTM2MDNiYTM3LmJpbmRQb3B1cChwb3B1cF8xNjkyNTBhNTRhNGU0YTY2OGQ0ZDYxZTYxNDEzNWU0MCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85YWVhYzAxZWY3YTY0MWIwOWIzMDQ0ZGNkY2IzMzRjYSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1MTU3MDYsLTc5LjQ4NDQ0OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfM2QwNDQxZmQ2OTg3NDQ0ODhiZjJkMTQ1YmE3NjEzZjUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYTNmODUxZTQwZWFkNDQyOThiYzg3YjQwZGZhNDQyZWMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMDUzYTI4Yzc5MTAxNGM3NTljNTcxMjBmODAzYjEyMWMgPSAkKCc8ZGl2IGlkPSJodG1sXzA1M2EyOGM3OTEwMTRjNzU5YzU3MTIwZjgwM2IxMjFjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5XZXN0IFRvcm9udG86IFJ1bm55bWVkZSwgU3dhbnNlYTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYTNmODUxZTQwZWFkNDQyOThiYzg3YjQwZGZhNDQyZWMuc2V0Q29udGVudChodG1sXzA1M2EyOGM3OTEwMTRjNzU5YzU3MTIwZjgwM2IxMjFjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzlhZWFjMDFlZjdhNjQxYjA5YjMwNDRkY2RjYjMzNGNhLmJpbmRQb3B1cChwb3B1cF9hM2Y4NTFlNDBlYWQ0NDI5OGJjODdiNDBkZmE0NDJlYyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yM2ViYTQ3YzUxMDU0NTBlOGVjY2U3YjljYmIyNWY3MCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4MTYzNzUsLTc5LjMwNDMwMjFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfM2QwNDQxZmQ2OTg3NDQ0ODhiZjJkMTQ1YmE3NjEzZjUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYTc4NDYzYjBhMmVkNDk0MDgxYjRmMDQxZTA2Njk1YTEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZWQ3ZWQyYTQ2YmRjNGU0Y2I1NDhiYTI4ZDlkYzA0YmUgPSAkKCc8ZGl2IGlkPSJodG1sX2VkN2VkMmE0NmJkYzRlNGNiNTQ4YmEyOGQ5ZGMwNGJlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TY2FyYm9yb3VnaDogQ2xhcmtzIENvcm5lcnMsIFRhbSBPJiMzOTtTaGFudGVyLCBTdWxsaXZhbjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYTc4NDYzYjBhMmVkNDk0MDgxYjRmMDQxZTA2Njk1YTEuc2V0Q29udGVudChodG1sX2VkN2VkMmE0NmJkYzRlNGNiNTQ4YmEyOGQ5ZGMwNGJlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzIzZWJhNDdjNTEwNTQ1MGU4ZWNjZTdiOWNiYjI1ZjcwLmJpbmRQb3B1cChwb3B1cF9hNzg0NjNiMGEyZWQ0OTQwODFiNGYwNDFlMDY2OTVhMSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wNzFjYzNkNjI1OGQ0MmYxYmMwMTA5ZDZkNTI1M2YyYSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY4OTU3NDMsLTc5LjM4MzE1OTkwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2RmOGYwODhkYzBlNjRlZmU4ZTcyYTk5YmFjNWU4MTMyID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzVlY2FhNDc1ZDg1MDRhNzJhNDE5YmJiMmU1YzljMzJmID0gJCgnPGRpdiBpZD0iaHRtbF81ZWNhYTQ3NWQ4NTA0YTcyYTQxOWJiYjJlNWM5YzMyZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2VudHJhbCBUb3JvbnRvOiBNb29yZSBQYXJrLCBTdW1tZXJoaWxsIEVhc3Q8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2RmOGYwODhkYzBlNjRlZmU4ZTcyYTk5YmFjNWU4MTMyLnNldENvbnRlbnQoaHRtbF81ZWNhYTQ3NWQ4NTA0YTcyYTQxOWJiYjJlNWM5YzMyZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wNzFjYzNkNjI1OGQ0MmYxYmMwMTA5ZDZkNTI1M2YyYS5iaW5kUG9wdXAocG9wdXBfZGY4ZjA4OGRjMGU2NGVmZThlNzJhOTliYWM1ZTgxMzIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZGYyZjg0OTZiODdlNGFkYmEwODcxOTAxZjNhODMyNGIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTMyMDU3LC03OS40MDAwNDkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzI5MDhiNTFkMDFhZjQ3NjQ4NTBkOWY5N2NmYWYyOTViID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzJiMWFiZTA0MWY5NzQyMTg4YmFjYWVkOWNjYjAxNzBjID0gJCgnPGRpdiBpZD0iaHRtbF8yYjFhYmUwNDFmOTc0MjE4OGJhY2FlZDljY2IwMTcwYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG93bnRvd24gVG9yb250bzogS2Vuc2luZ3RvbiBNYXJrZXQsIENoaW5hdG93biwgR3JhbmdlIFBhcms8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzI5MDhiNTFkMDFhZjQ3NjQ4NTBkOWY5N2NmYWYyOTViLnNldENvbnRlbnQoaHRtbF8yYjFhYmUwNDFmOTc0MjE4OGJhY2FlZDljY2IwMTcwYyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9kZjJmODQ5NmI4N2U0YWRiYTA4NzE5MDFmM2E4MzI0Yi5iaW5kUG9wdXAocG9wdXBfMjkwOGI1MWQwMWFmNDc2NDg1MGQ5Zjk3Y2ZhZjI5NWIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNTg3NjViOTE4N2JlNDdlY2E1MmMxNDJkMTI0MTliMWYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My44MTUyNTIyLC03OS4yODQ1NzcyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzY4MGJhYWExODhkYjRkYWE5NjA1OWYyY2M2ZGRhNTMzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzk1NzEzZDE0MDNmMzQ3NTc4ZWZhYWQ1MzQxODM1MDk2ID0gJCgnPGRpdiBpZD0iaHRtbF85NTcxM2QxNDAzZjM0NzU3OGVmYWFkNTM0MTgzNTA5NiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U2NhcmJvcm91Z2g6IE1pbGxpa2VuLCBBZ2luY291cnQgTm9ydGgsIFN0ZWVsZXMgRWFzdCwgTCYjMzk7QW1vcmVhdXggRWFzdDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNjgwYmFhYTE4OGRiNGRhYTk2MDU5ZjJjYzZkZGE1MzMuc2V0Q29udGVudChodG1sXzk1NzEzZDE0MDNmMzQ3NTc4ZWZhYWQ1MzQxODM1MDk2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzU4NzY1YjkxODdiZTQ3ZWNhNTJjMTQyZDEyNDE5YjFmLmJpbmRQb3B1cChwb3B1cF82ODBiYWFhMTg4ZGI0ZGFhOTYwNTlmMmNjNmRkYTUzMyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9jMWMyZWNkOWFhNTU0ZjAzYTQ0MjZhMWZmOGQwN2I5YSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY4NjQxMjI5OTk5OTk5LC03OS40MDAwNDkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzZiNDI5MGViOGM3ZjRhMTE5MGQ0NTRiNzhhYTc0Zjg5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzljNmVhZWVlYWIyZTQ0ZDliZmU1MjM5MWE4NmZkYWZkID0gJCgnPGRpdiBpZD0iaHRtbF85YzZlYWVlZWFiMmU0NGQ5YmZlNTIzOTFhODZmZGFmZCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2VudHJhbCBUb3JvbnRvOiBTdW1tZXJoaWxsIFdlc3QsIFJhdGhuZWxseSwgU291dGggSGlsbCwgRm9yZXN0IEhpbGwgU0UsIERlZXIgUGFyazwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNmI0MjkwZWI4YzdmNGExMTkwZDQ1NGI3OGFhNzRmODkuc2V0Q29udGVudChodG1sXzljNmVhZWVlYWIyZTQ0ZDliZmU1MjM5MWE4NmZkYWZkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2MxYzJlY2Q5YWE1NTRmMDNhNDQyNmExZmY4ZDA3YjlhLmJpbmRQb3B1cChwb3B1cF82YjQyOTBlYjhjN2Y0YTExOTBkNDU0Yjc4YWE3NGY4OSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wOTVmMzQ0MzlkYzQ0OTgxYmI1Zjc0ZDEyZDI0ZjQ1MSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYyODk0NjcsLTc5LjM5NDQxOTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfM2QwNDQxZmQ2OTg3NDQ0ODhiZjJkMTQ1YmE3NjEzZjUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDJlMGZhYjFhZmI1NGUwNzk5Yzk1MTYzZGVlN2I0MTMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZTI0ODhmYTBlZGFkNDU4Y2FiZmE5OTA3NWVmNGIwYTQgPSAkKCc8ZGl2IGlkPSJodG1sX2UyNDg4ZmEwZWRhZDQ1OGNhYmZhOTkwNzVlZjRiMGE0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3dudG93biBUb3JvbnRvOiBDTiBUb3dlciwgS2luZyBhbmQgU3BhZGluYSwgUmFpbHdheSBMYW5kcywgSGFyYm91cmZyb250IFdlc3QsIEJhdGh1cnN0IFF1YXksIFNvdXRoIE5pYWdhcmEsIElzbGFuZCBhaXJwb3J0PC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80MmUwZmFiMWFmYjU0ZTA3OTljOTUxNjNkZWU3YjQxMy5zZXRDb250ZW50KGh0bWxfZTI0ODhmYTBlZGFkNDU4Y2FiZmE5OTA3NWVmNGIwYTQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMDk1ZjM0NDM5ZGM0NDk4MWJiNWY3NGQxMmQyNGY0NTEuYmluZFBvcHVwKHBvcHVwXzQyZTBmYWIxYWZiNTRlMDc5OWM5NTE2M2RlZTdiNDEzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzA5YmVmMWM0ODNhYTRmYzE4MGRhNjIxMzM4OGZmYWU5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjA1NjQ2NiwtNzkuNTAxMzIwNzAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfM2QwNDQxZmQ2OTg3NDQ0ODhiZjJkMTQ1YmE3NjEzZjUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYmUyMjEwZDljZTM0NDY3MDlkZGRmN2UyMzAzZmJjYWIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTA0NjM0OTk4MTM0NDE5OThjNTlhN2NkOWI0OWNmNGMgPSAkKCc8ZGl2IGlkPSJodG1sX2EwNDYzNDk5ODEzNDQxOTk4YzU5YTdjZDliNDljZjRjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5FdG9iaWNva2U6IE5ldyBUb3JvbnRvLCBNaW1pY28gU291dGgsIEh1bWJlciBCYXkgU2hvcmVzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iZTIyMTBkOWNlMzQ0NjcwOWRkZGY3ZTIzMDNmYmNhYi5zZXRDb250ZW50KGh0bWxfYTA0NjM0OTk4MTM0NDE5OThjNTlhN2NkOWI0OWNmNGMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMDliZWYxYzQ4M2FhNGZjMTgwZGE2MjEzMzg4ZmZhZTkuYmluZFBvcHVwKHBvcHVwX2JlMjIxMGQ5Y2UzNDQ2NzA5ZGRkZjdlMjMwM2ZiY2FiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzliZGNlNTg0YWRmZDQwYmRhMjExNTU0ZThjM2E5OGFiID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzM5NDE2Mzk5OTk5OTk2LC03OS41ODg0MzY5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ZkOTlhZDkxYTM1MzRjMjRiNDkwNjAyODNkMTE2YzI3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzZhZmNmY2EzYzgzODRjNDNiNmJkZWEzOTg1NDJhNTk5ID0gJCgnPGRpdiBpZD0iaHRtbF82YWZjZmNhM2M4Mzg0YzQzYjZiZGVhMzk4NTQyYTU5OSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RXRvYmljb2tlOiBTb3V0aCBTdGVlbGVzLCBTaWx2ZXJzdG9uZSwgSHVtYmVyZ2F0ZSwgSmFtZXN0b3duLCBNb3VudCBPbGl2ZSwgQmVhdW1vbmQgSGVpZ2h0cywgVGhpc3RsZXRvd24sIEFsYmlvbiBHYXJkZW5zPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mZDk5YWQ5MWEzNTM0YzI0YjQ5MDYwMjgzZDExNmMyNy5zZXRDb250ZW50KGh0bWxfNmFmY2ZjYTNjODM4NGM0M2I2YmRlYTM5ODU0MmE1OTkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOWJkY2U1ODRhZGZkNDBiZGEyMTE1NTRlOGMzYTk4YWIuYmluZFBvcHVwKHBvcHVwX2ZkOTlhZDkxYTM1MzRjMjRiNDkwNjAyODNkMTE2YzI3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2JjNzFjMGM1NTE1MTQ3NWI4MWUzMzU1MTQ5ZTA3N2ZiID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzk5NTI1MjAwMDAwMDA1LC03OS4zMTgzODg3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzYxNjNkYjk5MDRlZTRlM2E4YTIwNjhmMDQ3NzcyMTBiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Y1Yzk4NGQyYzhiZTQzYjc4OTM4MjBiM2I2ZDQyZTlmID0gJCgnPGRpdiBpZD0iaHRtbF9mNWM5ODRkMmM4YmU0M2I3ODkzODIwYjNiNmQ0MmU5ZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U2NhcmJvcm91Z2g6IFN0ZWVsZXMgV2VzdCwgTCYjMzk7QW1vcmVhdXggV2VzdDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNjE2M2RiOTkwNGVlNGUzYThhMjA2OGYwNDc3NzIxMGIuc2V0Q29udGVudChodG1sX2Y1Yzk4NGQyYzhiZTQzYjc4OTM4MjBiM2I2ZDQyZTlmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2JjNzFjMGM1NTE1MTQ3NWI4MWUzMzU1MTQ5ZTA3N2ZiLmJpbmRQb3B1cChwb3B1cF82MTYzZGI5OTA0ZWU0ZTNhOGEyMDY4ZjA0Nzc3MjEwYik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mOGYxNmM4OGM2OWY0ZWE1YjVmZTk2MWFlNjhhNDcyNyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY3OTU2MjYsLTc5LjM3NzUyOTQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2U1NGU5ZTkzMGU4ODRmM2NhYjg0OTU2YjIzMmFiOTJjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzRkOTM1MzI5MDJlMjQwN2E4ZGY0YTgzZWE4MzkyZDdjID0gJCgnPGRpdiBpZD0iaHRtbF80ZDkzNTMyOTAyZTI0MDdhOGRmNGE4M2VhODM5MmQ3YyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG93bnRvd24gVG9yb250bzogUm9zZWRhbGU8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2U1NGU5ZTkzMGU4ODRmM2NhYjg0OTU2YjIzMmFiOTJjLnNldENvbnRlbnQoaHRtbF80ZDkzNTMyOTAyZTI0MDdhOGRmNGE4M2VhODM5MmQ3Yyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mOGYxNmM4OGM2OWY0ZWE1YjVmZTk2MWFlNjhhNDcyNy5iaW5kUG9wdXAocG9wdXBfZTU0ZTllOTMwZTg4NGYzY2FiODQ5NTZiMjMyYWI5MmMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOWZlYzU4NWQyODliNGI3Yzg2MjQ4YWJjYzcwNzU1MDcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDY0MzUyLC03OS4zNzQ4NDU5OTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83ZjZiZDMyOWFkMDI0YjU3OTMwMjg4M2Y1YzAzNzI1MiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yZTExODAwMjljMDA0ZGNjYTc0ZGFkNTBkNjcwYjFiZSA9ICQoJzxkaXYgaWQ9Imh0bWxfMmUxMTgwMDI5YzAwNGRjY2E3NGRhZDUwZDY3MGIxYmUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvd250b3duIFRvcm9udG86IFN0biBBIFBPIEJveGVzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF83ZjZiZDMyOWFkMDI0YjU3OTMwMjg4M2Y1YzAzNzI1Mi5zZXRDb250ZW50KGh0bWxfMmUxMTgwMDI5YzAwNGRjY2E3NGRhZDUwZDY3MGIxYmUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOWZlYzU4NWQyODliNGI3Yzg2MjQ4YWJjYzcwNzU1MDcuYmluZFBvcHVwKHBvcHVwXzdmNmJkMzI5YWQwMjRiNTc5MzAyODgzZjVjMDM3MjUyKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2Y2YzlhODFlYzM5MzQxZDhiNjFlZmE3ZDA3MWNjYWM1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjAyNDEzNzAwMDAwMDEsLTc5LjU0MzQ4NDA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2MxNGQ2YWUxYjA5MDRmNTdiODA2MzUzYTY2NTcxZWU1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzk4YTZmMGVjOWVlZjRkNjA4MzExM2NiYjQ4NTU1ZDQwID0gJCgnPGRpdiBpZD0iaHRtbF85OGE2ZjBlYzllZWY0ZDYwODMxMTNjYmI0ODU1NWQ0MCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RXRvYmljb2tlOiBBbGRlcndvb2QsIExvbmcgQnJhbmNoPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jMTRkNmFlMWIwOTA0ZjU3YjgwNjM1M2E2NjU3MWVlNS5zZXRDb250ZW50KGh0bWxfOThhNmYwZWM5ZWVmNGQ2MDgzMTEzY2JiNDg1NTVkNDApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZjZjOWE4MWVjMzkzNDFkOGI2MWVmYTdkMDcxY2NhYzUuYmluZFBvcHVwKHBvcHVwX2MxNGQ2YWUxYjA5MDRmNTdiODA2MzUzYTY2NTcxZWU1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzZhMzRkNmU3MTllMTRmYmJhYmVhODUxNzBkYzJjYzQ2ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA2NzQ4Mjk5OTk5OTk0LC03OS41OTQwNTQ0XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2NlN2FkOWRhYWQ3YjRlMTFhYzk1MTBlMGNlMDJkMTc1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2NhZDM4YWQzNTZlYjQxY2NiOTIzZjU0MjgyNWM0N2I3ID0gJCgnPGRpdiBpZD0iaHRtbF9jYWQzOGFkMzU2ZWI0MWNjYjkyM2Y1NDI4MjVjNDdiNyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RXRvYmljb2tlOiBOb3J0aHdlc3QsIFdlc3QgSHVtYmVyIC0gQ2xhaXJ2aWxsZTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfY2U3YWQ5ZGFhZDdiNGUxMWFjOTUxMGUwY2UwMmQxNzUuc2V0Q29udGVudChodG1sX2NhZDM4YWQzNTZlYjQxY2NiOTIzZjU0MjgyNWM0N2I3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzZhMzRkNmU3MTllMTRmYmJhYmVhODUxNzBkYzJjYzQ2LmJpbmRQb3B1cChwb3B1cF9jZTdhZDlkYWFkN2I0ZTExYWM5NTEwZTBjZTAyZDE3NSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lYzNkZTM2OGNjMjQ0OTI1ODBmMTJjMjg5NTAwMmU2NCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjgzNjEyNDcwMDAwMDAwNiwtNzkuMjA1NjM2MDk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfM2QwNDQxZmQ2OTg3NDQ0ODhiZjJkMTQ1YmE3NjEzZjUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfY2U2ZGMzNjc5MWU2NDRhOGEwY2VkYWQzYjQwNDZlNzIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYjdiYmZhZWI1ZWVhNDliZmI4NGUxNjRkZTcyOTBhM2YgPSAkKCc8ZGl2IGlkPSJodG1sX2I3YmJmYWViNWVlYTQ5YmZiODRlMTY0ZGU3MjkwYTNmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TY2FyYm9yb3VnaDogVXBwZXIgUm91Z2U8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2NlNmRjMzY3OTFlNjQ0YThhMGNlZGFkM2I0MDQ2ZTcyLnNldENvbnRlbnQoaHRtbF9iN2JiZmFlYjVlZWE0OWJmYjg0ZTE2NGRlNzI5MGEzZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lYzNkZTM2OGNjMjQ0OTI1ODBmMTJjMjg5NTAwMmU2NC5iaW5kUG9wdXAocG9wdXBfY2U2ZGMzNjc5MWU2NDRhOGEwY2VkYWQzYjQwNDZlNzIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOWZmYTQ0ZWE2NjQ4NDY5MzlhZDE2YzEzYzQyM2NhOWMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Njc5NjcsLTc5LjM2NzY3NTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfM2QwNDQxZmQ2OTg3NDQ0ODhiZjJkMTQ1YmE3NjEzZjUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNmFjZjJiNTQ1NWE2NGNmMTg0MzU3Y2I2YjVjMzM4ZmEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZWU4YWMxZjdhMDhlNGNkOWIxMTk3ODM3Yzk0MmEwNTMgPSAkKCc8ZGl2IGlkPSJodG1sX2VlOGFjMWY3YTA4ZTRjZDliMTE5NzgzN2M5NDJhMDUzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3dudG93biBUb3JvbnRvOiBTdC4gSmFtZXMgVG93biwgQ2FiYmFnZXRvd248L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzZhY2YyYjU0NTVhNjRjZjE4NDM1N2NiNmI1YzMzOGZhLnNldENvbnRlbnQoaHRtbF9lZThhYzFmN2EwOGU0Y2Q5YjExOTc4MzdjOTQyYTA1Myk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85ZmZhNDRlYTY2NDg0NjkzOWFkMTZjMTNjNDIzY2E5Yy5iaW5kUG9wdXAocG9wdXBfNmFjZjJiNTQ1NWE2NGNmMTg0MzU3Y2I2YjVjMzM4ZmEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMWI5NDlkY2YzZmJkNDQyMGE4ZTU3NjcwNTAyNDY0ZDggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDg0MjkyLC03OS4zODIyODAyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2FjZTkyNWVjOWZkMjQwYmM5MGM5NmY3YjUxODIxOGY2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzg3MTY5MzQ1ZWU1ZjRmMTc4Zjg5OTI2ODgyMTg4ZDhiID0gJCgnPGRpdiBpZD0iaHRtbF84NzE2OTM0NWVlNWY0ZjE3OGY4OTkyNjg4MjE4OGQ4YiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG93bnRvd24gVG9yb250bzogRmlyc3QgQ2FuYWRpYW4gUGxhY2UsIFVuZGVyZ3JvdW5kIGNpdHk8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2FjZTkyNWVjOWZkMjQwYmM5MGM5NmY3YjUxODIxOGY2LnNldENvbnRlbnQoaHRtbF84NzE2OTM0NWVlNWY0ZjE3OGY4OTkyNjg4MjE4OGQ4Yik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xYjk0OWRjZjNmYmQ0NDIwYThlNTc2NzA1MDI0NjRkOC5iaW5kUG9wdXAocG9wdXBfYWNlOTI1ZWM5ZmQyNDBiYzkwYzk2ZjdiNTE4MjE4ZjYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMzU1ZjAyOTc0Zjc5NDQyMDg0MjAxODU0OWRlNzE5YTUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTM2NTM2MDAwMDAwMDUsLTc5LjUwNjk0MzZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfM2QwNDQxZmQ2OTg3NDQ0ODhiZjJkMTQ1YmE3NjEzZjUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfY2YzOTA0OWIzZTg0NGFjMjhkY2QwMjhhZjBmYzM2ZDkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTJkNjJiYWEzNmJlNDBjN2EyY2FmMjFmZDEwZWY5ZjQgPSAkKCc8ZGl2IGlkPSJodG1sX2EyZDYyYmFhMzZiZTQwYzdhMmNhZjIxZmQxMGVmOWY0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5FdG9iaWNva2U6IFRoZSBLaW5nc3dheSwgTW9udGdvbWVyeSBSb2FkLCBPbGQgTWlsbCBOb3J0aDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfY2YzOTA0OWIzZTg0NGFjMjhkY2QwMjhhZjBmYzM2ZDkuc2V0Q29udGVudChodG1sX2EyZDYyYmFhMzZiZTQwYzdhMmNhZjIxZmQxMGVmOWY0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzM1NWYwMjk3NGY3OTQ0MjA4NDIwMTg1NDlkZTcxOWE1LmJpbmRQb3B1cChwb3B1cF9jZjM5MDQ5YjNlODQ0YWMyOGRjZDAyOGFmMGZjMzZkOSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84OTdjOTA5NWIyYTQ0NGQyYTdmNjVkZDI1NjMzZDI5NCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2NTg1OTksLTc5LjM4MzE1OTkwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzQyYTEyMGJlNzQ3MjRkYWQ4ZGUxYzg0NjljZWQ5NDBlID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2NkMTY0NTUwNjJhYzQwOTRhMWFkMGM0NjgxZGVlYWM0ID0gJCgnPGRpdiBpZD0iaHRtbF9jZDE2NDU1MDYyYWM0MDk0YTFhZDBjNDY4MWRlZWFjNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG93bnRvd24gVG9yb250bzogQ2h1cmNoIGFuZCBXZWxsZXNsZXk8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQyYTEyMGJlNzQ3MjRkYWQ4ZGUxYzg0NjljZWQ5NDBlLnNldENvbnRlbnQoaHRtbF9jZDE2NDU1MDYyYWM0MDk0YTFhZDBjNDY4MWRlZWFjNCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84OTdjOTA5NWIyYTQ0NGQyYTdmNjVkZDI1NjMzZDI5NC5iaW5kUG9wdXAocG9wdXBfNDJhMTIwYmU3NDcyNGRhZDhkZTFjODQ2OWNlZDk0MGUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNDliY2Y4ZjJmOTNjNGI0NjhjYjIxZGJmNDQ2NGIyMTMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjI3NDM5LC03OS4zMjE1NThdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiYmx1ZSIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMzMTg2Y2MiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfM2QwNDQxZmQ2OTg3NDQ0ODhiZjJkMTQ1YmE3NjEzZjUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZjkwOWIwYzJjMWZhNGRmYmE2MjMxODg2MzczZDk3MDYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODA5ZjQ1ODc0NjlmNGNjMDg4YTU1Y2Y2NWM0NmNiNDAgPSAkKCc8ZGl2IGlkPSJodG1sXzgwOWY0NTg3NDY5ZjRjYzA4OGE1NWNmNjVjNDZjYjQwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5FYXN0IFRvcm9udG86IEJ1c2luZXNzIHJlcGx5IG1haWwgUHJvY2Vzc2luZyBDZW50cmUsIFNvdXRoIENlbnRyYWwgTGV0dGVyIFByb2Nlc3NpbmcgUGxhbnQgVG9yb250bzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZjkwOWIwYzJjMWZhNGRmYmE2MjMxODg2MzczZDk3MDYuc2V0Q29udGVudChodG1sXzgwOWY0NTg3NDY5ZjRjYzA4OGE1NWNmNjVjNDZjYjQwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzQ5YmNmOGYyZjkzYzRiNDY4Y2IyMWRiZjQ0NjRiMjEzLmJpbmRQb3B1cChwb3B1cF9mOTA5YjBjMmMxZmE0ZGZiYTYyMzE4ODYzNzNkOTcwNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80NmI0MjE3NzVmZDI0NDliOTUwNzI0NGI4OGMyNDdkMSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjYzNjI1NzksLTc5LjQ5ODUwOTA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogImJsdWUiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMzE4NmNjIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwXzNkMDQ0MWZkNjk4NzQ0NDg4YmYyZDE0NWJhNzYxM2Y1KTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzA5NWMwMmRmNWIzODRmODQ4OTBmZTA2YWU0ZWE0YmMwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzMyNmRlY2Y1ZThmYjQ5MTFiN2QzZmFlYzUzYjU3ODY5ID0gJCgnPGRpdiBpZD0iaHRtbF8zMjZkZWNmNWU4ZmI0OTExYjdkM2ZhZWM1M2I1Nzg2OSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RXRvYmljb2tlOiBPbGQgTWlsbCBTb3V0aCwgS2luZyYjMzk7cyBNaWxsIFBhcmssIFN1bm55bGVhLCBIdW1iZXIgQmF5LCBNaW1pY28gTkUsIFRoZSBRdWVlbnN3YXkgRWFzdCwgUm95YWwgWW9yayBTb3V0aCBFYXN0LCBLaW5nc3dheSBQYXJrIFNvdXRoIEVhc3Q8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzA5NWMwMmRmNWIzODRmODQ4OTBmZTA2YWU0ZWE0YmMwLnNldENvbnRlbnQoaHRtbF8zMjZkZWNmNWU4ZmI0OTExYjdkM2ZhZWM1M2I1Nzg2OSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80NmI0MjE3NzVmZDI0NDliOTUwNzI0NGI4OGMyNDdkMS5iaW5kUG9wdXAocG9wdXBfMDk1YzAyZGY1YjM4NGY4NDg5MGZlMDZhZTRlYTRiYzApOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNTQ1ZTIyZmZlNWQxNGRkZTgxODVhNGU2ZTJhM2FkMzYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Mjg4NDA4LC03OS41MjA5OTk0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICJibHVlIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzMxODZjYyIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF8zZDA0NDFmZDY5ODc0NDQ4OGJmMmQxNDViYTc2MTNmNSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hYjc3ZTk2ZTM3OTY0MDkxYjdmYmViN2YxYTBiY2I0YiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81ZTdkNmIxMzI3ZTU0YzI3OWQ0MGM5YWZhYWM3MTIyNyA9ICQoJzxkaXYgaWQ9Imh0bWxfNWU3ZDZiMTMyN2U1NGMyNzlkNDBjOWFmYWFjNzEyMjciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkV0b2JpY29rZTogTWltaWNvIE5XLCBUaGUgUXVlZW5zd2F5IFdlc3QsIFNvdXRoIG9mIEJsb29yLCBLaW5nc3dheSBQYXJrIFNvdXRoIFdlc3QsIFJveWFsIFlvcmsgU291dGggV2VzdDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYWI3N2U5NmUzNzk2NDA5MWI3ZmJlYjdmMWEwYmNiNGIuc2V0Q29udGVudChodG1sXzVlN2Q2YjEzMjdlNTRjMjc5ZDQwYzlhZmFhYzcxMjI3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzU0NWUyMmZmZTVkMTRkZGU4MTg1YTRlNmUyYTNhZDM2LmJpbmRQb3B1cChwb3B1cF9hYjc3ZTk2ZTM3OTY0MDkxYjdmYmViN2YxYTBiY2I0Yik7CgogICAgICAgICAgICAKICAgICAgICAKPC9zY3JpcHQ+ onload="this.contentDocument.open();this.contentDocument.write(atob(this.getAttribute('data-html')));this.contentDocument.close();" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>



Notice that the distance between neighborhoods is not the same among all neighborhoods, namely downtown neighborhoods are closer together than suburban neighborhoods. When calling the Foursquare API it will ask for a distance from the center of the geographic coordinates. In order to account for this change in spacing, we can set the max radius as the distance between the closest adjacent neighborhood. This will minimize the amount of overlap in venues among closely packed neighborhoods, and maximize the amount of venues in subruban venues, when compared to using a fixed radius. The next few line of code do this, and we create the new data-frame with this minimim radius included for analysis in the future.


```python
from scipy.spatial.distance import pdist
from scipy.spatial.distance import squareform
from vincenty import vincenty

dist_matrix = pdist(neigh_coords[['Latitude','Longitude']], lambda u, v: vincenty(u,v))
dist_matrix = squareform(dist_matrix)
np.fill_diagonal(dist_matrix, 100000000)
min_dist = dist_matrix.min(axis = 1) * 1000
min_dist = pd.DataFrame(min_dist, columns = ['MinDist'])
min_dist.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MinDist</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>3394.464</td>
    </tr>
    <tr>
      <th>1</th>
      <td>3253.397</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2416.097</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1831.814</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1831.814</td>
    </tr>
  </tbody>
</table>
</div>




```python
df_geo_full = pd.concat([df_geo, min_dist], axis = 1)
```


```python
df_geo_full.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>PostalCode</th>
      <th>Borough</th>
      <th>Neighborhood</th>
      <th>Latitude</th>
      <th>Longitude</th>
      <th>MinDist</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>M3A</td>
      <td>North York</td>
      <td>Parkwoods</td>
      <td>43.753259</td>
      <td>-79.329656</td>
      <td>3394.464</td>
    </tr>
    <tr>
      <th>1</th>
      <td>M4A</td>
      <td>North York</td>
      <td>Victoria Village</td>
      <td>43.725882</td>
      <td>-79.315572</td>
      <td>3253.397</td>
    </tr>
    <tr>
      <th>2</th>
      <td>M5A</td>
      <td>Downtown Toronto</td>
      <td>Regent Park, Harbourfront</td>
      <td>43.654260</td>
      <td>-79.360636</td>
      <td>2416.097</td>
    </tr>
    <tr>
      <th>3</th>
      <td>M6A</td>
      <td>North York</td>
      <td>Lawrence Manor, Lawrence Heights</td>
      <td>43.718518</td>
      <td>-79.464763</td>
      <td>1831.814</td>
    </tr>
    <tr>
      <th>4</th>
      <td>M7A</td>
      <td>Downtown Toronto</td>
      <td>Queen's Park, Ontario Provincial Government</td>
      <td>43.662301</td>
      <td>-79.389494</td>
      <td>1831.814</td>
    </tr>
  </tbody>
</table>
</div>



It looks like we have the appropraite geographic information for the API. Note that the `MinDist` is in meters.

Now, we use the Foursquare API to obtain data about various places in the neighborhoods/postal codes in Toronto:


```python
CLIENT_ID = '' # your Foursquare ID
CLIENT_SECRET = '' # your Foursquare Secret
VERSION = '20180605' # Foursquare API version

```

Let's perform a test run using the API on the first neighborhood:


```python
neighborhood_latitude = df_geo.loc[0, 'Latitude'] # neighborhood latitude value
neighborhood_longitude = df_geo.loc[0, 'Longitude'] # neighborhood longitude value

neighborhood_name = df_geo.loc[0, 'Neighborhood'] # neighborhood name

print('Latitude and longitude values of {} are {}, {}.'.format(neighborhood_name, 
                                                               neighborhood_latitude, 
                                                               neighborhood_longitude))
```

    Latitude and longitude values of Parkwoods are 43.7532586, -79.3296565.
    


```python
LIMIT = 10 
radius = 500
url = 'https://api.foursquare.com/v2/venues/explore?&client_id={}&client_secret={}&v={}&ll={},{}&radius={}&limit={}'.format(
    CLIENT_ID, 
    CLIENT_SECRET, 
    VERSION, 
    neighborhood_latitude, 
    neighborhood_longitude, 
    radius, 
    LIMIT)
```


```python
results = requests.get(url).json()
results
```




    {'meta': {'code': 200, 'requestId': '5f1489482ac7fd1000f05918'},
     'response': {'warning': {'text': "There aren't a lot of results near you. Try something more general, reset your filters, or expand the search area."},
      'headerLocation': 'Parkwoods - Donalda',
      'headerFullLocation': 'Parkwoods - Donalda, Toronto',
      'headerLocationGranularity': 'neighborhood',
      'totalResults': 3,
      'suggestedBounds': {'ne': {'lat': 43.757758604500005,
        'lng': -79.32343823984928},
       'sw': {'lat': 43.7487585955, 'lng': -79.33587476015072}},
      'groups': [{'type': 'Recommended Places',
        'name': 'recommended',
        'items': [{'reasons': {'count': 0,
           'items': [{'summary': 'This spot is popular',
             'type': 'general',
             'reasonName': 'globalInteractionReason'}]},
          'venue': {'id': '4e8d9dcdd5fbbbb6b3003c7b',
           'name': 'Brookbanks Park',
           'location': {'address': 'Toronto',
            'lat': 43.751976046055574,
            'lng': -79.33214044722958,
            'labeledLatLngs': [{'label': 'display',
              'lat': 43.751976046055574,
              'lng': -79.33214044722958}],
            'distance': 245,
            'cc': 'CA',
            'city': 'Toronto',
            'state': 'ON',
            'country': 'Canada',
            'formattedAddress': ['Toronto', 'Toronto ON', 'Canada']},
           'categories': [{'id': '4bf58dd8d48988d163941735',
             'name': 'Park',
             'pluralName': 'Parks',
             'shortName': 'Park',
             'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/parks_outdoors/park_',
              'suffix': '.png'},
             'primary': True}],
           'photos': {'count': 0, 'groups': []}},
          'referralId': 'e-0-4e8d9dcdd5fbbbb6b3003c7b-0'},
         {'reasons': {'count': 0,
           'items': [{'summary': 'This spot is popular',
             'type': 'general',
             'reasonName': 'globalInteractionReason'}]},
          'venue': {'id': '4cb11e2075ebb60cd1c4caad',
           'name': 'Variety Store',
           'location': {'address': '29 Valley Woods Road',
            'lat': 43.75197441585782,
            'lng': -79.33311418516017,
            'labeledLatLngs': [{'label': 'display',
              'lat': 43.75197441585782,
              'lng': -79.33311418516017}],
            'distance': 312,
            'cc': 'CA',
            'city': 'Toronto',
            'state': 'ON',
            'country': 'Canada',
            'formattedAddress': ['29 Valley Woods Road', 'Toronto ON', 'Canada']},
           'categories': [{'id': '4bf58dd8d48988d1f9941735',
             'name': 'Food & Drink Shop',
             'pluralName': 'Food & Drink Shops',
             'shortName': 'Food & Drink',
             'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/shops/foodanddrink_',
              'suffix': '.png'},
             'primary': True}],
           'photos': {'count': 0, 'groups': []}},
          'referralId': 'e-0-4cb11e2075ebb60cd1c4caad-1'},
         {'reasons': {'count': 0,
           'items': [{'summary': 'This spot is popular',
             'type': 'general',
             'reasonName': 'globalInteractionReason'}]},
          'venue': {'id': '53622a89498ed84d6853265e',
           'name': 'TTC stop - 44 Valley Woods',
           'location': {'address': '44 Valley Woods Rd',
            'lat': 43.75540238129278,
            'lng': -79.33374133300899,
            'labeledLatLngs': [{'label': 'display',
              'lat': 43.75540238129278,
              'lng': -79.33374133300899}],
            'distance': 405,
            'cc': 'CA',
            'city': 'Toronto',
            'state': 'ON',
            'country': 'Canada',
            'formattedAddress': ['44 Valley Woods Rd', 'Toronto ON', 'Canada']},
           'categories': [{'id': '52f2ab2ebcbc57f1066b8b4f',
             'name': 'Bus Stop',
             'pluralName': 'Bus Stops',
             'shortName': 'Bus Stop',
             'icon': {'prefix': 'https://ss3.4sqi.net/img/categories_v2/travel/busstation_',
              'suffix': '.png'},
             'primary': True}],
           'photos': {'count': 0, 'groups': []}},
          'referralId': 'e-0-53622a89498ed84d6853265e-2'}]}]}}



We can ues the `get_category_type` function introduced in the lab assingment to aid in parsing the `.json` file into a Pandas data-frame:


```python
def get_category_type(row):
    try:
        categories_list = row['categories']
    except:
        categories_list = row['venue.categories']
        
    if len(categories_list) == 0:
        return None
    else:
        return categories_list[0]['name']
```

The code used in the lab is applied heire to convert the venue name and relavent information into a Pandas dataframe:


```python
venues = results['response']['groups'][0]['items']
    
nearby_venues = json_normalize(venues) # flatten JSON

# filter columns
filtered_columns = ['venue.name', 'venue.categories', 'venue.location.lat', 'venue.location.lng']
nearby_venues =nearby_venues.loc[:, filtered_columns]

# filter the category for each row
nearby_venues['venue.categories'] = nearby_venues.apply(get_category_type, axis=1)

# clean columns
nearby_venues.columns = [col.split(".")[-1] for col in nearby_venues.columns]

nearby_venues.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>categories</th>
      <th>lat</th>
      <th>lng</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Brookbanks Park</td>
      <td>Park</td>
      <td>43.751976</td>
      <td>-79.332140</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Variety Store</td>
      <td>Food &amp; Drink Shop</td>
      <td>43.751974</td>
      <td>-79.333114</td>
    </tr>
    <tr>
      <th>2</th>
      <td>TTC stop - 44 Valley Woods</td>
      <td>Bus Stop</td>
      <td>43.755402</td>
      <td>-79.333741</td>
    </tr>
  </tbody>
</table>
</div>




```python
print('{} venues were returned by Foursquare.'.format(nearby_venues.shape[0]))
```

    3 venues were returned by Foursquare.
    

All looks well! Once again, we can use the `getNearbyVenues` function introduced in the lab assingment to obtain the venues in each of the neighborhoods (prescriped by their geographic coordinates) using the API:


```python
def getNearbyVenues(names, latitudes, longitudes, radius):
    
    venues_list=[]
    for name, lat, lng, radius in zip(names, latitudes, longitudes, radius):
        print(name)
            
        # create the API request URL
        url = 'https://api.foursquare.com/v2/venues/explore?&client_id={}&client_secret={}&v={}&ll={},{}&radius={}&limit={}'.format(
            CLIENT_ID, 
            CLIENT_SECRET, 
            VERSION, 
            lat, 
            lng, 
            radius, 
            LIMIT)
            
        # make the GET request
        results = requests.get(url).json()["response"]['groups'][0]['items']
        
        # return only relevant information for each nearby venue
        venues_list.append([(
            name, 
            lat, 
            lng, 
            v['venue']['name'], 
            v['venue']['location']['lat'], 
            v['venue']['location']['lng'],  
            v['venue']['categories'][0]['name']) for v in results])

    nearby_venues = pd.DataFrame([item for venue_list in venues_list for item in venue_list])
    nearby_venues.columns = ['Neighborhood', 
                  'Neighborhood Latitude', 
                  'Neighborhood Longitude', 
                  'Venue', 
                  'Venue Latitude', 
                  'Venue Longitude', 
                  'Venue Category']
    
    return(nearby_venues)
```


```python
toronto_venues = getNearbyVenues(names=df_geo_full['Neighborhood'],
                                   latitudes=df_geo_full['Latitude'],
                                   longitudes=df_geo_full['Longitude'],
                                   radius = df_geo_full['MinDist']
                                  )
```

    Parkwoods
    Victoria Village
    Regent Park, Harbourfront
    Lawrence Manor, Lawrence Heights
    Queen's Park, Ontario Provincial Government
    Islington Avenue, Humber Valley Village
    Malvern, Rouge
    Don Mills
    Parkview Hill, Woodbine Gardens
    Garden District, Ryerson
    Glencairn
    West Deane Park, Princess Gardens, Martin Grove, Islington, Cloverdale
    Rouge Hill, Port Union, Highland Creek
    Don Mills
    Woodbine Heights
    St. James Town
    Humewood-Cedarvale
    Eringate, Bloordale Gardens, Old Burnhamthorpe, Markland Wood
    Guildwood, Morningside, West Hill
    The Beaches
    Berczy Park
    Caledonia-Fairbanks
    Woburn
    Leaside
    Central Bay Street
    Christie
    Cedarbrae
    Hillcrest Village
    Bathurst Manor, Wilson Heights, Downsview North
    Thorncliffe Park
    Richmond, Adelaide, King
    Dufferin, Dovercourt Village
    Scarborough Village
    Fairview, Henry Farm, Oriole
    Northwood Park, York University
    East Toronto, Broadview North (Old East York)
    Harbourfront East, Union Station, Toronto Islands
    Little Portugal, Trinity
    Kennedy Park, Ionview, East Birchmount Park
    Bayview Village
    Downsview
    The Danforth West, Riverdale
    Toronto Dominion Centre, Design Exchange
    Brockton, Parkdale Village, Exhibition Place
    Golden Mile, Clairlea, Oakridge
    York Mills, Silver Hills
    Downsview
    India Bazaar, The Beaches West
    Commerce Court, Victoria Hotel
    North Park, Maple Leaf Park, Upwood Park
    Humber Summit
    Cliffside, Cliffcrest, Scarborough Village West
    Willowdale, Newtonbrook
    Downsview
    Studio District
    Bedford Park, Lawrence Manor East
    Del Ray, Mount Dennis, Keelsdale and Silverthorn
    Humberlea, Emery
    Birch Cliff, Cliffside West
    Willowdale, Willowdale East
    Downsview
    Lawrence Park
    Roselawn
    Runnymede, The Junction North
    Weston
    Dorset Park, Wexford Heights, Scarborough Town Centre
    York Mills West
    Davisville North
    Forest Hill North & West, Forest Hill Road Park
    High Park, The Junction South
    Westmount
    Wexford, Maryvale
    Willowdale, Willowdale West
    North Toronto West, Lawrence Park
    The Annex, North Midtown, Yorkville
    Parkdale, Roncesvalles
    Canada Post Gateway Processing Centre
    Kingsview Village, St. Phillips, Martin Grove Gardens, Richview Gardens
    Agincourt
    Davisville
    University of Toronto, Harbord
    Runnymede, Swansea
    Clarks Corners, Tam O'Shanter, Sullivan
    Moore Park, Summerhill East
    Kensington Market, Chinatown, Grange Park
    Milliken, Agincourt North, Steeles East, L'Amoreaux East
    Summerhill West, Rathnelly, South Hill, Forest Hill SE, Deer Park
    CN Tower, King and Spadina, Railway Lands, Harbourfront West, Bathurst Quay, South Niagara, Island airport
    New Toronto, Mimico South, Humber Bay Shores
    South Steeles, Silverstone, Humbergate, Jamestown, Mount Olive, Beaumond Heights, Thistletown, Albion Gardens
    Steeles West, L'Amoreaux West
    Rosedale
    Stn A PO Boxes
    Alderwood, Long Branch
    Northwest, West Humber - Clairville
    Upper Rouge
    St. James Town, Cabbagetown
    First Canadian Place, Underground city
    The Kingsway, Montgomery Road, Old Mill North
    Church and Wellesley
    Business reply mail Processing Centre, South Central Letter Processing Plant Toronto
    Old Mill South, King's Mill Park, Sunnylea, Humber Bay, Mimico NE, The Queensway East, Royal York South East, Kingsway Park South East
    Mimico NW, The Queensway West, South of Bloor, Kingsway Park South West, Royal York South West
    


```python
print(toronto_venues.shape)
toronto_venues.head()
```

    (939, 7)
    




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Neighborhood</th>
      <th>Neighborhood Latitude</th>
      <th>Neighborhood Longitude</th>
      <th>Venue</th>
      <th>Venue Latitude</th>
      <th>Venue Longitude</th>
      <th>Venue Category</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Parkwoods</td>
      <td>43.753259</td>
      <td>-79.329656</td>
      <td>Allwyn's Bakery</td>
      <td>43.759840</td>
      <td>-79.324719</td>
      <td>Caribbean Restaurant</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Parkwoods</td>
      <td>43.753259</td>
      <td>-79.329656</td>
      <td>Donalda Golf &amp; Country Club</td>
      <td>43.752816</td>
      <td>-79.342741</td>
      <td>Golf Course</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Parkwoods</td>
      <td>43.753259</td>
      <td>-79.329656</td>
      <td>Galleria Supermarket</td>
      <td>43.753520</td>
      <td>-79.349518</td>
      <td>Supermarket</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Parkwoods</td>
      <td>43.753259</td>
      <td>-79.329656</td>
      <td>Graydon Hall Manor</td>
      <td>43.763923</td>
      <td>-79.342961</td>
      <td>Event Space</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Parkwoods</td>
      <td>43.753259</td>
      <td>-79.329656</td>
      <td>Naan &amp; Kabob Halal</td>
      <td>43.742903</td>
      <td>-79.305148</td>
      <td>Middle Eastern Restaurant</td>
    </tr>
  </tbody>
</table>
</div>



Onehot encoding is applied to the venue types:


```python
toronto_onehot = pd.get_dummies(toronto_venues[['Venue Category']], prefix = "", prefix_sep = "")
toronto_onehot['Neighborhood'] = toronto_venues['Neighborhood']

fixed_columns = [toronto_onehot.columns[-1]] + list(toronto_onehot.columns[:-1])
toronto_onehot = toronto_onehot[fixed_columns]

toronto_onehot.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Zoo Exhibit</th>
      <th>Afghan Restaurant</th>
      <th>African Restaurant</th>
      <th>Airport</th>
      <th>Airport Food Court</th>
      <th>Airport Lounge</th>
      <th>American Restaurant</th>
      <th>Art Gallery</th>
      <th>Arts &amp; Crafts Store</th>
      <th>Asian Restaurant</th>
      <th>...</th>
      <th>Tunnel</th>
      <th>Turkish Restaurant</th>
      <th>Vegetarian / Vegan Restaurant</th>
      <th>Vietnamese Restaurant</th>
      <th>Warehouse Store</th>
      <th>Wine Bar</th>
      <th>Wings Joint</th>
      <th>Xinjiang Restaurant</th>
      <th>Yoga Studio</th>
      <th>Zoo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 184 columns</p>
</div>




```python
toronto_grouped = toronto_onehot.groupby('Neighborhood').mean().reset_index()
toronto_grouped
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Neighborhood</th>
      <th>Zoo Exhibit</th>
      <th>Afghan Restaurant</th>
      <th>African Restaurant</th>
      <th>Airport</th>
      <th>Airport Food Court</th>
      <th>Airport Lounge</th>
      <th>American Restaurant</th>
      <th>Art Gallery</th>
      <th>Arts &amp; Crafts Store</th>
      <th>...</th>
      <th>Tunnel</th>
      <th>Turkish Restaurant</th>
      <th>Vegetarian / Vegan Restaurant</th>
      <th>Vietnamese Restaurant</th>
      <th>Warehouse Store</th>
      <th>Wine Bar</th>
      <th>Wings Joint</th>
      <th>Xinjiang Restaurant</th>
      <th>Yoga Studio</th>
      <th>Zoo</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Agincourt</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Alderwood, Long Branch</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Bathurst Manor, Wilson Heights, Downsview North</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Bayview Village</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Bedford Park, Lawrence Manor East</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Berczy Park</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.1</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Birch Cliff, Cliffside West</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Brockton, Parkdale Village, Exhibition Place</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.100000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Business reply mail Processing Centre, South C...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>9</th>
      <td>CN Tower, King and Spadina, Railway Lands, Har...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.100000</td>
      <td>0.1</td>
      <td>0.1</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.1</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Caledonia-Fairbanks</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Canada Post Gateway Processing Centre</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Cedarbrae</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.1</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>13</th>
      <td>Central Bay Street</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.1</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>14</th>
      <td>Christie</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.1</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>15</th>
      <td>Church and Wellesley</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>16</th>
      <td>Clarks Corners, Tam O'Shanter, Sullivan</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>17</th>
      <td>Cliffside, Cliffcrest, Scarborough Village West</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>18</th>
      <td>Commerce Court, Victoria Hotel</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>19</th>
      <td>Davisville</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>20</th>
      <td>Davisville North</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>21</th>
      <td>Del Ray, Mount Dennis, Keelsdale and Silverthorn</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>22</th>
      <td>Don Mills</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>23</th>
      <td>Dorset Park, Wexford Heights, Scarborough Town...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>24</th>
      <td>Downsview</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.035714</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.035714</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.071429</td>
      <td>0.0</td>
      <td>0.071429</td>
      <td>0.035714</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>25</th>
      <td>Dufferin, Dovercourt Village</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>26</th>
      <td>East Toronto, Broadview North (Old East York)</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.1</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.100000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>27</th>
      <td>Eringate, Bloordale Gardens, Old Burnhamthorpe...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>28</th>
      <td>Fairview, Henry Farm, Oriole</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.1</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>29</th>
      <td>First Canadian Place, Underground city</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.1</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>68</th>
      <td>Runnymede, Swansea</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>69</th>
      <td>Runnymede, The Junction North</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>70</th>
      <td>Scarborough Village</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.1</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>71</th>
      <td>South Steeles, Silverstone, Humbergate, Jamest...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>72</th>
      <td>St. James Town</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.1</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>73</th>
      <td>St. James Town, Cabbagetown</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>74</th>
      <td>Steeles West, L'Amoreaux West</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>75</th>
      <td>Stn A PO Boxes</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.1</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>76</th>
      <td>Studio District</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>77</th>
      <td>Summerhill West, Rathnelly, South Hill, Forest...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>78</th>
      <td>The Annex, North Midtown, Yorkville</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.1</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>79</th>
      <td>The Beaches</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.1</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>80</th>
      <td>The Danforth West, Riverdale</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>81</th>
      <td>The Kingsway, Montgomery Road, Old Mill North</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>82</th>
      <td>Thorncliffe Park</td>
      <td>0.0</td>
      <td>0.1</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.100000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>83</th>
      <td>Toronto Dominion Centre, Design Exchange</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>84</th>
      <td>University of Toronto, Harbord</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.1</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>85</th>
      <td>Upper Rouge</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>86</th>
      <td>Victoria Village</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>87</th>
      <td>West Deane Park, Princess Gardens, Martin Grov...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.100000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>88</th>
      <td>Westmount</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>89</th>
      <td>Weston</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>90</th>
      <td>Wexford, Maryvale</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.1</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.100000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>91</th>
      <td>Willowdale, Newtonbrook</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>92</th>
      <td>Willowdale, Willowdale East</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>93</th>
      <td>Willowdale, Willowdale West</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.100000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>94</th>
      <td>Woburn</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>95</th>
      <td>Woodbine Heights</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.1</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>96</th>
      <td>York Mills West</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>97</th>
      <td>York Mills, Silver Hills</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>98 rows × 184 columns</p>
</div>



The top five venues for each neighborhood can be determined (using code from the lab):


```python
num_top_venues = 5

for hood in toronto_grouped['Neighborhood']:
    print("----"+hood+"----")
    temp = toronto_grouped[toronto_grouped['Neighborhood'] == hood].T.reset_index()
    temp.columns = ['venue','freq']
    temp = temp.iloc[1:]
    temp['freq'] = temp['freq'].astype(float)
    temp = temp.round({'freq': 2})
    print(temp.sort_values('freq', ascending=False).reset_index(drop=True).head(num_top_venues))
    print('\n')
```

    ----Agincourt----
                       venue  freq
    0   Caribbean Restaurant   0.2
    1   Gym / Fitness Center   0.1
    2      Indian Restaurant   0.1
    3  Sri Lankan Restaurant   0.1
    4            Supermarket   0.1
    
    
    ----Alderwood, Long Branch----
                           venue  freq
    0         Seafood Restaurant   0.1
    1  South American Restaurant   0.1
    2                  Bookstore   0.1
    3                Coffee Shop   0.1
    4              Grocery Store   0.1
    
    
    ----Bathurst Manor, Wilson Heights, Downsview North----
               venue  freq
    0    Coffee Shop   0.2
    1           Bank   0.1
    2     Restaurant   0.1
    3  Deli / Bodega   0.1
    4           Park   0.1
    
    
    ----Bayview Village----
                     venue  freq
    0  Japanese Restaurant   0.2
    1          Gas Station   0.2
    2                 Bank   0.2
    3        Grocery Store   0.1
    4           Restaurant   0.1
    
    
    ----Bedford Park, Lawrence Manor East----
                         venue  freq
    0              Coffee Shop   0.1
    1        Indian Restaurant   0.1
    2  Comfort Food Restaurant   0.1
    3               Restaurant   0.1
    4                     Café   0.1
    
    
    ----Berczy Park----
                     venue  freq
    0       Farmers Market   0.2
    1  Japanese Restaurant   0.1
    2         Liquor Store   0.1
    3               Museum   0.1
    4           Restaurant   0.1
    
    
    ----Birch Cliff, Cliffside West----
                            venue  freq
    0  Construction & Landscaping  0.33
    1                 Pizza Place  0.33
    2                        Café  0.33
    3                 Zoo Exhibit  0.00
    4        Other Great Outdoors  0.00
    
    
    ----Brockton, Parkdale Village, Exhibition Place----
                    venue  freq
    0         Coffee Shop   0.2
    1  Italian Restaurant   0.1
    2            Tea Room   0.1
    3                 Bar   0.1
    4              Bakery   0.1
    
    
    ----Business reply mail Processing Centre, South Central Letter Processing Plant Toronto----
                           venue  freq
    0                    Brewery   0.2
    1                 Comic Shop   0.1
    2                       Park   0.1
    3                Snack Place   0.1
    4  Latin American Restaurant   0.1
    
    
    ----CN Tower, King and Spadina, Railway Lands, Harbourfront West, Bathurst Quay, South Niagara, Island airport----
                  venue  freq
    0   Harbor / Marina   0.2
    1       Coffee Shop   0.1
    2       Music Venue   0.1
    3  Sculpture Garden   0.1
    4              Park   0.1
    
    
    ----Caledonia-Fairbanks----
                      venue  freq
    0    Italian Restaurant   0.2
    1  Caribbean Restaurant   0.1
    2    Falafel Restaurant   0.1
    3           Coffee Shop   0.1
    4             Bike Shop   0.1
    
    
    ----Canada Post Gateway Processing Centre----
                               venue  freq
    0      Middle Eastern Restaurant   0.2
    1  Paper / Office Supplies Store   0.1
    2                     Hobby Shop   0.1
    3             Mexican Restaurant   0.1
    4                   Burger Joint   0.1
    
    
    ----Cedarbrae----
                   venue  freq
    0        Coffee Shop   0.1
    1   Sushi Restaurant   0.1
    2  Indian Restaurant   0.1
    3        Music Store   0.1
    4           Pharmacy   0.1
    
    
    ----Central Bay Street----
                venue  freq
    0           Plaza   0.1
    1         Theater   0.1
    2   Historic Site   0.1
    3     Pizza Place   0.1
    4  Clothing Store   0.1
    
    
    ----Christie----
                           venue  freq
    0                       Café   0.2
    1                       Park   0.1
    2  South American Restaurant   0.1
    3                Coffee Shop   0.1
    4               Cocktail Bar   0.1
    
    
    ----Church and Wellesley----
                venue  freq
    0  Breakfast Spot   0.1
    1       Juice Bar   0.1
    2        Creperie   0.1
    3    Dance Studio   0.1
    4       Bookstore   0.1
    
    
    ----Clarks Corners, Tam O'Shanter, Sullivan----
                    venue  freq
    0  Italian Restaurant   0.1
    1  Chinese Restaurant   0.1
    2    Sushi Restaurant   0.1
    3        Noodle House   0.1
    4     Thai Restaurant   0.1
    
    
    ----Cliffside, Cliffcrest, Scarborough Village West----
                venue  freq
    0  Ice Cream Shop   0.2
    1           Beach   0.2
    2            Park   0.2
    3     Coffee Shop   0.1
    4      Sports Bar   0.1
    
    
    ----Commerce Court, Victoria Hotel----
                      venue  freq
    0                  Café   0.2
    1  Gym / Fitness Center   0.1
    2                Bakery   0.1
    3                   Gym   0.1
    4   Japanese Restaurant   0.1
    
    
    ----Davisville----
                    venue  freq
    0                Café   0.2
    1        Dessert Shop   0.2
    2  Italian Restaurant   0.2
    3         Pizza Place   0.1
    4         Supermarket   0.1
    
    
    ----Davisville North----
                   venue  freq
    0        Coffee Shop   0.2
    1               Café   0.2
    2             Bakery   0.1
    3               Park   0.1
    4  Food & Drink Shop   0.1
    
    
    ----Del Ray, Mount Dennis, Keelsdale and Silverthorn----
                venue  freq
    0     Coffee Shop  0.25
    1      Restaurant  0.25
    2  Discount Store  0.25
    3  Sandwich Place  0.25
    4     Pizza Place  0.00
    
    
    ----Don Mills----
                    venue  freq
    0  Italian Restaurant  0.10
    1                 Gym  0.10
    2                Café  0.10
    3       Shopping Mall  0.10
    4      History Museum  0.05
    
    
    ----Dorset Park, Wexford Heights, Scarborough Town Centre----
                   venue  freq
    0        Coffee Shop   0.2
    1             Bakery   0.1
    2                Gym   0.1
    3       Burger Joint   0.1
    4  Electronics Store   0.1
    
    
    ----Downsview----
                       venue  freq
    0            Coffee Shop  0.11
    1                   Park  0.07
    2            Pizza Place  0.07
    3            Gas Station  0.07
    4  Vietnamese Restaurant  0.07
    
    
    ----Dufferin, Dovercourt Village----
             venue  freq
    0       Bakery   0.2
    1  Coffee Shop   0.2
    2         Café   0.2
    3          Bar   0.1
    4      Brewery   0.1
    
    
    ----East Toronto, Broadview North (Old East York)----
                      venue  freq
    0             Gastropub   0.2
    1                  Café   0.2
    2                Bakery   0.1
    3  Ethiopian Restaurant   0.1
    4   American Restaurant   0.1
    
    
    ----Eringate, Bloordale Gardens, Old Burnhamthorpe, Markland Wood----
                venue  freq
    0     Coffee Shop   0.2
    1  Farmers Market   0.1
    2       Racetrack   0.1
    3   Grocery Store   0.1
    4     Golf Course   0.1
    
    
    ----Fairview, Henry Farm, Oriole----
                           venue  freq
    0  Middle Eastern Restaurant   0.1
    1              Shopping Mall   0.1
    2             Breakfast Spot   0.1
    3        American Restaurant   0.1
    4             Chocolate Shop   0.1
    
    
    ----First Canadian Place, Underground city----
                      venue  freq
    0  Gym / Fitness Center   0.1
    1       Thai Restaurant   0.1
    2                   Pub   0.1
    3           Pizza Place   0.1
    4                  Café   0.1
    
    
    ----Forest Hill North & West, Forest Hill Road Park----
                    venue  freq
    0                Park   0.2
    1                Café   0.2
    2              Bakery   0.1
    3  Italian Restaurant   0.1
    4         Coffee Shop   0.1
    
    
    ----Garden District, Ryerson----
                venue  freq
    0           Plaza   0.1
    1  Sandwich Place   0.1
    2      Comic Shop   0.1
    3     Coffee Shop   0.1
    4  Clothing Store   0.1
    
    
    ----Glencairn----
                           venue  freq
    0                 Restaurant   0.1
    1                  Bike Shop   0.1
    2        Fried Chicken Joint   0.1
    3        Japanese Restaurant   0.1
    4  Latin American Restaurant   0.1
    
    
    ----Golden Mile, Clairlea, Oakridge----
                               venue  freq
    0                    Coffee Shop   0.1
    1  Vegetarian / Vegan Restaurant   0.1
    2             Mexican Restaurant   0.1
    3                   Burger Joint   0.1
    4                 Discount Store   0.1
    
    
    ----Guildwood, Morningside, West Hill----
                    venue  freq
    0                Park   0.2
    1                 Pub   0.1
    2  Athletics & Sports   0.1
    3         Pizza Place   0.1
    4       Smoothie Shop   0.1
    
    
    ----Harbourfront East, Union Station, Toronto Islands----
                       venue  freq
    0                   Park   0.2
    1                  Plaza   0.1
    2                   Lake   0.1
    3  Performing Arts Venue   0.1
    4                  Hotel   0.1
    
    
    ----Hillcrest Village----
                      venue  freq
    0    Chinese Restaurant   0.2
    1  Cantonese Restaurant   0.1
    2       Bubble Tea Shop   0.1
    3                 Hotel   0.1
    4         Grocery Store   0.1
    
    
    ----Humber Summit----
                     venue  freq
    0    Electronics Store   0.2
    1               Bakery   0.1
    2             Pharmacy   0.1
    3  Arts & Crafts Store   0.1
    4        Shopping Mall   0.1
    
    
    ----Humberlea, Emery----
                           venue  freq
    0             Baseball Field   1.0
    1                Zoo Exhibit   0.0
    2            Organic Grocery   0.0
    3  Middle Eastern Restaurant   0.0
    4              Movie Theater   0.0
    
    
    ----Humewood-Cedarvale----
                           venue  freq
    0                       Café   0.2
    1  Middle Eastern Restaurant   0.1
    2                Coffee Shop   0.1
    3                      Field   0.1
    4             Ice Cream Shop   0.1
    
    
    ----India Bazaar, The Beaches West----
                      venue  freq
    0               Brewery   0.2
    1  Fast Food Restaurant   0.1
    2        Ice Cream Shop   0.1
    3        Farmers Market   0.1
    4     Fish & Chips Shop   0.1
    
    
    ----Islington Avenue, Humber Valley Village----
                    venue  freq
    0         Golf Course   0.2
    1    Toy / Game Store   0.1
    2  Italian Restaurant   0.1
    3          Restaurant   0.1
    4    Tapas Restaurant   0.1
    
    
    ----Kennedy Park, Ionview, East Birchmount Park----
                    venue  freq
    0         Coffee Shop   0.3
    1            Pharmacy   0.1
    2  Chinese Restaurant   0.1
    3    Department Store   0.1
    4      Sandwich Place   0.1
    
    
    ----Kensington Market, Chinatown, Grange Park----
                      venue  freq
    0           Record Shop   0.1
    1   Arts & Crafts Store   0.1
    2          Cocktail Bar   0.1
    3  Caribbean Restaurant   0.1
    4                  Café   0.1
    
    
    ----Kingsview Village, St. Phillips, Martin Grove Gardens, Richview Gardens----
                    venue  freq
    0       Smoothie Shop   0.1
    1  Chinese Restaurant   0.1
    2      Sandwich Place   0.1
    3                Bank   0.1
    4         Gas Station   0.1
    
    
    ----Lawrence Manor, Lawrence Heights----
                        venue  freq
    0              Restaurant   0.2
    1  Furniture / Home Store   0.1
    2                Boutique   0.1
    3            Dessert Shop   0.1
    4        Greek Restaurant   0.1
    
    
    ----Lawrence Park----
                           venue  freq
    0              Jewelry Store   1.0
    1                Zoo Exhibit   0.0
    2            Organic Grocery   0.0
    3  Middle Eastern Restaurant   0.0
    4              Movie Theater   0.0
    
    
    ----Leaside----
                   venue  freq
    0  Fish & Chips Shop   0.1
    1          BBQ Joint   0.1
    2         Sports Bar   0.1
    3          Bike Shop   0.1
    4       Liquor Store   0.1
    
    
    ----Little Portugal, Trinity----
                         venue  freq
    0         Cuban Restaurant   0.1
    1              Art Gallery   0.1
    2  New American Restaurant   0.1
    3              Pizza Place   0.1
    4           Ice Cream Shop   0.1
    
    
    ----Malvern, Rouge----
                    venue  freq
    0         Zoo Exhibit   0.6
    1                 Zoo   0.2
    2                 Spa   0.1
    3  Athletics & Sports   0.1
    4  African Restaurant   0.0
    
    
    ----Milliken, Agincourt North, Steeles East, L'Amoreaux East----
                           venue  freq
    0                       Park  0.67
    1                 Playground  0.33
    2                Zoo Exhibit  0.00
    3            Organic Grocery  0.00
    4  Middle Eastern Restaurant  0.00
    
    
    ----Mimico NW, The Queensway West, South of Bloor, Kingsway Park South West, Royal York South West----
               venue  freq
    0  Burrito Place   0.2
    1         Bakery   0.1
    2            Gym   0.1
    3   Burger Joint   0.1
    4     Restaurant   0.1
    
    
    ----Moore Park, Summerhill East----
              venue  freq
    0           Spa   0.2
    1          Park   0.1
    2  Liquor Store   0.1
    3      Tea Room   0.1
    4          Café   0.1
    
    
    ----New Toronto, Mimico South, Humber Bay Shores----
                    venue  freq
    0                Park   0.2
    1              Bakery   0.1
    2  Mexican Restaurant   0.1
    3        Liquor Store   0.1
    4    Sushi Restaurant   0.1
    
    
    ----North Park, Maple Leaf Park, Upwood Park----
                    venue  freq
    0         Coffee Shop   0.2
    1              Bakery   0.1
    2  Chinese Restaurant   0.1
    3        Liquor Store   0.1
    4      Discount Store   0.1
    
    
    ----North Toronto West, Lawrence Park----
                    venue  freq
    0         Coffee Shop   0.2
    1  Italian Restaurant   0.2
    2              Bakery   0.1
    3                Café   0.1
    4         Pizza Place   0.1
    
    
    ----Northwest, West Humber - Clairville----
                    venue  freq
    0         Coffee Shop   0.2
    1  Chinese Restaurant   0.1
    2          Racecourse   0.1
    3   Food & Drink Shop   0.1
    4       Grocery Store   0.1
    
    
    ----Northwood Park, York University----
                           venue  freq
    0                Coffee Shop   0.2
    1  Middle Eastern Restaurant   0.2
    2         Italian Restaurant   0.1
    3                Pizza Place   0.1
    4                 Restaurant   0.1
    
    
    ----Old Mill South, King's Mill Park, Sunnylea, Humber Bay, Mimico NE, The Queensway East, Royal York South East, Kingsway Park South East----
                  venue  freq
    0       Coffee Shop   0.3
    1     Deli / Bodega   0.1
    2           Brewery   0.1
    3  Tapas Restaurant   0.1
    4   Thai Restaurant   0.1
    
    
    ----Parkdale, Roncesvalles----
               venue  freq
    0        Dog Run   0.2
    1  Movie Theater   0.1
    2            Bar   0.1
    3     Playground   0.1
    4    Pizza Place   0.1
    
    
    ----Parkview Hill, Woodbine Gardens----
                      venue  freq
    0  Gym / Fitness Center   0.1
    1    Rock Climbing Spot   0.1
    2               Brewery   0.1
    3                  Park   0.1
    4                Bakery   0.1
    
    
    ----Parkwoods----
                          venue  freq
    0  Mediterranean Restaurant   0.1
    1               Golf Course   0.1
    2               Event Space   0.1
    3               Supermarket   0.1
    4        Italian Restaurant   0.1
    
    
    ----Queen's Park, Ontario Provincial Government----
              venue  freq
    0   Coffee Shop   0.2
    1          Park   0.2
    2   Yoga Studio   0.1
    3      Creperie   0.1
    4  Dance Studio   0.1
    
    
    ----Regent Park, Harbourfront----
                          venue  freq
    0               Coffee Shop   0.3
    1                      Park   0.2
    2                    Bakery   0.1
    3  Mediterranean Restaurant   0.1
    4            Farmers Market   0.1
    
    
    ----Richmond, Adelaide, King----
                          venue  freq
    0      Gym / Fitness Center   0.1
    1                     Hotel   0.1
    2               Pizza Place   0.1
    3                 Speakeasy   0.1
    4  Mediterranean Restaurant   0.1
    
    
    ----Rosedale----
               venue  freq
    0           Park   0.2
    1    Coffee Shop   0.1
    2      BBQ Joint   0.1
    3  Grocery Store   0.1
    4      Juice Bar   0.1
    
    
    ----Roselawn----
             venue  freq
    0         Café   0.2
    1  Coffee Shop   0.2
    2       Bakery   0.1
    3          Gym   0.1
    4  Flower Shop   0.1
    
    
    ----Rouge Hill, Port Union, Highland Creek----
                    venue  freq
    0                Park   0.2
    1              Bakery   0.1
    2  Athletics & Sports   0.1
    3        Burger Joint   0.1
    4          Campground   0.1
    
    
    ----Runnymede, Swansea----
                    venue  freq
    0                Café   0.3
    1  Italian Restaurant   0.2
    2              Bakery   0.1
    3         Coffee Shop   0.1
    4   Fish & Chips Shop   0.1
    
    
    ----Runnymede, The Junction North----
                 venue  freq
    0          Brewery   0.3
    1              Bar   0.1
    2     Burger Joint   0.1
    3       Beer Store   0.1
    4  Thai Restaurant   0.1
    
    
    ----Scarborough Village----
                venue  freq
    0  Ice Cream Shop   0.2
    1  Sandwich Place   0.2
    2     Coffee Shop   0.1
    3     Pizza Place   0.1
    4    Liquor Store   0.1
    
    
    ----South Steeles, Silverstone, Humbergate, Jamestown, Mount Olive, Beaumond Heights, Thistletown, Albion Gardens----
               venue  freq
    0  Grocery Store   0.2
    1         Bakery   0.1
    2    Coffee Shop   0.1
    3     Steakhouse   0.1
    4   Burger Joint   0.1
    
    
    ----St. James Town----
                     venue  freq
    0  Japanese Restaurant   0.1
    1             Creperie   0.1
    2       Farmers Market   0.1
    3           Food Truck   0.1
    4              Theater   0.1
    
    
    ----St. James Town, Cabbagetown----
                     venue  freq
    0                 Park   0.2
    1            Gastropub   0.2
    2     Botanical Garden   0.1
    3           Steakhouse   0.1
    4  Japanese Restaurant   0.1
    
    
    ----Steeles West, L'Amoreaux West----
                      venue  freq
    0  Caribbean Restaurant   0.2
    1    Chinese Restaurant   0.2
    2                Bakery   0.1
    3     Hotpot Restaurant   0.1
    4    Mexican Restaurant   0.1
    
    
    ----Stn A PO Boxes----
                               venue  freq
    0                 Farmers Market   0.2
    1                            Gym   0.1
    2                         Museum   0.1
    3  Vegetarian / Vegan Restaurant   0.1
    4                     Restaurant   0.1
    
    
    ----Studio District----
                venue  freq
    0          Bakery   0.1
    1            Café   0.1
    2     Coffee Shop   0.1
    3       Bookstore   0.1
    4  Ice Cream Shop   0.1
    
    
    ----Summerhill West, Rathnelly, South Hill, Forest Hill SE, Deer Park----
                  venue  freq
    0               Spa   0.2
    1       Coffee Shop   0.1
    2        Bagel Shop   0.1
    3  Sushi Restaurant   0.1
    4          Tea Room   0.1
    
    
    ----The Annex, North Midtown, Yorkville----
                               venue  freq
    0                  Historic Site   0.1
    1  Vegetarian / Vegan Restaurant   0.1
    2             Mexican Restaurant   0.1
    3                           Café   0.1
    4                  Design Studio   0.1
    
    
    ----The Beaches----
                     venue  freq
    0    Health Food Store   0.1
    1                 Park   0.1
    2  Indie Movie Theater   0.1
    3     Toy / Game Store   0.1
    4               Bakery   0.1
    
    
    ----The Danforth West, Riverdale----
                  venue  freq
    0  Greek Restaurant   0.2
    1    Ice Cream Shop   0.2
    2       Pizza Place   0.1
    3    Cosmetics Shop   0.1
    4           Brewery   0.1
    
    
    ----The Kingsway, Montgomery Road, Old Mill North----
                  venue  freq
    0         Pool Hall   0.1
    1      Dessert Shop   0.1
    2      Liquor Store   0.1
    3      Burger Joint   0.1
    4  Sushi Restaurant   0.1
    
    
    ----Thorncliffe Park----
                   venue  freq
    0  Fish & Chips Shop   0.1
    1        Coffee Shop   0.1
    2            Brewery   0.1
    3             Bakery   0.1
    4  Indian Restaurant   0.1
    
    
    ----Toronto Dominion Centre, Design Exchange----
             venue  freq
    0  Coffee Shop   0.2
    1       Bakery   0.1
    2          Gym   0.1
    3        Hotel   0.1
    4          Pub   0.1
    
    
    ----University of Toronto, Harbord----
                  venue  freq
    0      Concert Hall   0.1
    1  Sushi Restaurant   0.1
    2               Bar   0.1
    3          Beer Bar   0.1
    4              Park   0.1
    
    
    ----Upper Rouge----
              venue  freq
    0         Trail  0.25
    1    Playground  0.25
    2   Golf Course  0.25
    3          Farm  0.25
    4  Noodle House  0.00
    
    
    ----Victoria Village----
                           venue  freq
    0  Middle Eastern Restaurant   0.2
    1       Gym / Fitness Center   0.1
    2               Hockey Arena   0.1
    3            Thai Restaurant   0.1
    4          Indian Restaurant   0.1
    
    
    ----West Deane Park, Princess Gardens, Martin Grove, Islington, Cloverdale----
                     venue  freq
    0                  Pub   0.1
    1   Turkish Restaurant   0.1
    2  Sporting Goods Shop   0.1
    3    Fish & Chips Shop   0.1
    4         Burger Joint   0.1
    
    
    ----Westmount----
                           venue  freq
    0                Coffee Shop   0.5
    1                Pizza Place   0.5
    2       Other Great Outdoors   0.0
    3  Middle Eastern Restaurant   0.0
    4              Movie Theater   0.0
    
    
    ----Weston----
              venue  freq
    0   Coffee Shop   0.1
    1   Pizza Place   0.1
    2      Pharmacy   0.1
    3  Liquor Store   0.1
    4   Golf Course   0.1
    
    
    ----Wexford, Maryvale----
                           venue  freq
    0  Middle Eastern Restaurant   0.2
    1         African Restaurant   0.1
    2              Grocery Store   0.1
    3                Supermarket   0.1
    4      Vietnamese Restaurant   0.1
    
    
    ----Willowdale, Newtonbrook----
                           venue  freq
    0        American Restaurant   1.0
    1                Zoo Exhibit   0.0
    2       Other Great Outdoors   0.0
    3  Middle Eastern Restaurant   0.0
    4              Movie Theater   0.0
    
    
    ----Willowdale, Willowdale East----
                    venue  freq
    0                Café   0.2
    1         Coffee Shop   0.1
    2               Hotel   0.1
    3          Steakhouse   0.1
    4  Seafood Restaurant   0.1
    
    
    ----Willowdale, Willowdale West----
                           venue  freq
    0  Middle Eastern Restaurant   0.2
    1                  Bookstore   0.1
    2                Pizza Place   0.1
    3                   Pharmacy   0.1
    4      Vietnamese Restaurant   0.1
    
    
    ----Woburn----
              venue  freq
    0   Coffee Shop   0.2
    1    Restaurant   0.1
    2   Music Store   0.1
    3  Burger Joint   0.1
    4     Juice Bar   0.1
    
    
    ----Woodbine Heights----
                      venue  freq
    0                  Park   0.1
    1                  Café   0.1
    2        Breakfast Spot   0.1
    3  Ethiopian Restaurant   0.1
    4   American Restaurant   0.1
    
    
    ----York Mills West----
                   venue  freq
    0               Park  0.38
    1      Bowling Alley  0.12
    2  Convenience Store  0.12
    3         Restaurant  0.12
    4          Pet Store  0.12
    
    
    ----York Mills, Silver Hills----
                           venue  freq
    0                       Pool  0.25
    1           Business Service  0.25
    2               Tennis Court  0.25
    3                       Park  0.25
    4  Middle Eastern Restaurant  0.00
    
    
    


```python
def return_most_common_venues(row, num_top_venues):
    row_categories = row.iloc[1:]
    row_categories_sorted = row_categories.sort_values(ascending=False)
    
    return row_categories_sorted.index.values[0:num_top_venues]
```


```python
num_top_venues = 10

indicators = ['st', 'nd', 'rd']

# create columns according to number of top venues
columns = ['Neighborhood']
for ind in np.arange(num_top_venues):
    try:
        columns.append('{}{} Most Common Venue'.format(ind+1, indicators[ind]))
    except:
        columns.append('{}th Most Common Venue'.format(ind+1))

# create a new dataframe
neighborhoods_venues_sorted = pd.DataFrame(columns=columns)
neighborhoods_venues_sorted['Neighborhood'] = toronto_grouped['Neighborhood']

for ind in np.arange(toronto_grouped.shape[0]):
    neighborhoods_venues_sorted.iloc[ind, 1:] = return_most_common_venues(toronto_grouped.iloc[ind, :], num_top_venues)

neighborhoods_venues_sorted.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Neighborhood</th>
      <th>1st Most Common Venue</th>
      <th>2nd Most Common Venue</th>
      <th>3rd Most Common Venue</th>
      <th>4th Most Common Venue</th>
      <th>5th Most Common Venue</th>
      <th>6th Most Common Venue</th>
      <th>7th Most Common Venue</th>
      <th>8th Most Common Venue</th>
      <th>9th Most Common Venue</th>
      <th>10th Most Common Venue</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Agincourt</td>
      <td>Caribbean Restaurant</td>
      <td>Gym / Fitness Center</td>
      <td>Breakfast Spot</td>
      <td>Sri Lankan Restaurant</td>
      <td>Chinese Restaurant</td>
      <td>Cantonese Restaurant</td>
      <td>Supermarket</td>
      <td>Bakery</td>
      <td>Indian Restaurant</td>
      <td>Design Studio</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Alderwood, Long Branch</td>
      <td>Grocery Store</td>
      <td>Bookstore</td>
      <td>New American Restaurant</td>
      <td>Café</td>
      <td>Burger Joint</td>
      <td>Seafood Restaurant</td>
      <td>South American Restaurant</td>
      <td>Coffee Shop</td>
      <td>Pizza Place</td>
      <td>Gourmet Shop</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Bathurst Manor, Wilson Heights, Downsview North</td>
      <td>Coffee Shop</td>
      <td>Restaurant</td>
      <td>Mediterranean Restaurant</td>
      <td>Ski Chalet</td>
      <td>Middle Eastern Restaurant</td>
      <td>Bridal Shop</td>
      <td>Bank</td>
      <td>Deli / Bodega</td>
      <td>Park</td>
      <td>Creperie</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Bayview Village</td>
      <td>Bank</td>
      <td>Gas Station</td>
      <td>Japanese Restaurant</td>
      <td>Café</td>
      <td>Grocery Store</td>
      <td>Chinese Restaurant</td>
      <td>Restaurant</td>
      <td>Doner Restaurant</td>
      <td>Dog Run</td>
      <td>Discount Store</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Bedford Park, Lawrence Manor East</td>
      <td>Coffee Shop</td>
      <td>Comfort Food Restaurant</td>
      <td>Juice Bar</td>
      <td>Pub</td>
      <td>Italian Restaurant</td>
      <td>Café</td>
      <td>Restaurant</td>
      <td>Sushi Restaurant</td>
      <td>Indian Restaurant</td>
      <td>Thai Restaurant</td>
    </tr>
  </tbody>
</table>
</div>



### Clustering the Neighborhoods


```python
kclusters = 5

toronto_grouped_clustering = toronto_grouped.drop('Neighborhood', 1)
kmeans = KMeans(n_clusters = kclusters, random_state = 0).fit(toronto_grouped_clustering)
kmeans.labels_[0:10]
```




    array([2, 1, 3, 2, 1, 2, 1, 3, 0, 0])




```python
neighborhoods_venues_sorted.insert(0, 'Cluster Labels', kmeans.labels_)
```


```python
toronto_merged = df_geo
toronto_merged = toronto_merged.join(neighborhoods_venues_sorted.set_index('Neighborhood'), on='Neighborhood')
toronto_merged = toronto_merged.dropna()
toronto_merged['Cluster Labels'] = toronto_merged['Cluster Labels'].astype(int)
toronto_merged.head(7)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>PostalCode</th>
      <th>Borough</th>
      <th>Neighborhood</th>
      <th>Latitude</th>
      <th>Longitude</th>
      <th>Cluster Labels</th>
      <th>1st Most Common Venue</th>
      <th>2nd Most Common Venue</th>
      <th>3rd Most Common Venue</th>
      <th>4th Most Common Venue</th>
      <th>5th Most Common Venue</th>
      <th>6th Most Common Venue</th>
      <th>7th Most Common Venue</th>
      <th>8th Most Common Venue</th>
      <th>9th Most Common Venue</th>
      <th>10th Most Common Venue</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>M3A</td>
      <td>North York</td>
      <td>Parkwoods</td>
      <td>43.753259</td>
      <td>-79.329656</td>
      <td>2</td>
      <td>Coffee Shop</td>
      <td>Caribbean Restaurant</td>
      <td>Event Space</td>
      <td>Middle Eastern Restaurant</td>
      <td>Supermarket</td>
      <td>Italian Restaurant</td>
      <td>Bagel Shop</td>
      <td>Mediterranean Restaurant</td>
      <td>Gym</td>
      <td>Golf Course</td>
    </tr>
    <tr>
      <th>1</th>
      <td>M4A</td>
      <td>North York</td>
      <td>Victoria Village</td>
      <td>43.725882</td>
      <td>-79.315572</td>
      <td>2</td>
      <td>Middle Eastern Restaurant</td>
      <td>Gym / Fitness Center</td>
      <td>History Museum</td>
      <td>Mediterranean Restaurant</td>
      <td>Indian Restaurant</td>
      <td>Thai Restaurant</td>
      <td>Hockey Arena</td>
      <td>Rock Climbing Spot</td>
      <td>Grocery Store</td>
      <td>Creperie</td>
    </tr>
    <tr>
      <th>2</th>
      <td>M5A</td>
      <td>Downtown Toronto</td>
      <td>Regent Park, Harbourfront</td>
      <td>43.654260</td>
      <td>-79.360636</td>
      <td>3</td>
      <td>Coffee Shop</td>
      <td>Park</td>
      <td>Mediterranean Restaurant</td>
      <td>Bakery</td>
      <td>Farmers Market</td>
      <td>Historic Site</td>
      <td>Dessert Shop</td>
      <td>Eastern European Restaurant</td>
      <td>Doner Restaurant</td>
      <td>Dog Run</td>
    </tr>
    <tr>
      <th>3</th>
      <td>M6A</td>
      <td>North York</td>
      <td>Lawrence Manor, Lawrence Heights</td>
      <td>43.718518</td>
      <td>-79.464763</td>
      <td>2</td>
      <td>Restaurant</td>
      <td>Greek Restaurant</td>
      <td>Furniture / Home Store</td>
      <td>Dessert Shop</td>
      <td>Sushi Restaurant</td>
      <td>Athletics &amp; Sports</td>
      <td>Fried Chicken Joint</td>
      <td>Boutique</td>
      <td>Vietnamese Restaurant</td>
      <td>Cosmetics Shop</td>
    </tr>
    <tr>
      <th>4</th>
      <td>M7A</td>
      <td>Downtown Toronto</td>
      <td>Queen's Park, Ontario Provincial Government</td>
      <td>43.662301</td>
      <td>-79.389494</td>
      <td>0</td>
      <td>Coffee Shop</td>
      <td>Park</td>
      <td>Bubble Tea Shop</td>
      <td>Sandwich Place</td>
      <td>Creperie</td>
      <td>Arts &amp; Crafts Store</td>
      <td>Dance Studio</td>
      <td>Yoga Studio</td>
      <td>Convenience Store</td>
      <td>Cosmetics Shop</td>
    </tr>
    <tr>
      <th>5</th>
      <td>M9A</td>
      <td>Etobicoke</td>
      <td>Islington Avenue, Humber Valley Village</td>
      <td>43.667856</td>
      <td>-79.532242</td>
      <td>1</td>
      <td>Golf Course</td>
      <td>Restaurant</td>
      <td>French Restaurant</td>
      <td>Bakery</td>
      <td>Café</td>
      <td>Toy / Game Store</td>
      <td>Italian Restaurant</td>
      <td>Tapas Restaurant</td>
      <td>Garden</td>
      <td>Dance Studio</td>
    </tr>
    <tr>
      <th>6</th>
      <td>M1B</td>
      <td>Scarborough</td>
      <td>Malvern, Rouge</td>
      <td>43.806686</td>
      <td>-79.194353</td>
      <td>2</td>
      <td>Zoo Exhibit</td>
      <td>Zoo</td>
      <td>Athletics &amp; Sports</td>
      <td>Spa</td>
      <td>Deli / Bodega</td>
      <td>Electronics Store</td>
      <td>Eastern European Restaurant</td>
      <td>Doner Restaurant</td>
      <td>Dog Run</td>
      <td>Discount Store</td>
    </tr>
  </tbody>
</table>
</div>



### Map of the Clustered Neighborhoods:


```python
# create map
map_clusters = folium.Map(location = [43.7, -79.4], zoom_start = 11)

# set color scheme for the clusters
x = np.arange(kclusters)
ys = [i + x + (i*x)**2 for i in range(kclusters)]
colors_array = cm.rainbow(np.linspace(0, 1, len(ys)))
rainbow = [colors.rgb2hex(i) for i in colors_array]

# add markers to the map
markers_colors = []
for lat, lon, poi, cluster in zip(toronto_merged['Latitude'], toronto_merged['Longitude'], toronto_merged['Neighborhood'], toronto_merged['Cluster Labels']):
    label = folium.Popup(str(poi) + ' Cluster ' + str(cluster), parse_html=True)
    folium.CircleMarker(
        [lat, lon],
        radius=5,
        popup=label,
        color=rainbow[cluster-1],
        fill=True,
        fill_color=rainbow[cluster-1],
        fill_opacity=0.7).add_to(map_clusters)
       
map_clusters
```




<div style="width:100%;"><div style="position:relative;width:100%;height:0;padding-bottom:60%;"><span style="color:#565656">Make this Notebook Trusted to load map: File -> Trust Notebook</span><iframe src="about:blank" style="position:absolute;width:100%;height:100%;left:0;top:0;border:none !important;" data-html=PCFET0NUWVBFIGh0bWw+CjxoZWFkPiAgICAKICAgIDxtZXRhIGh0dHAtZXF1aXY9ImNvbnRlbnQtdHlwZSIgY29udGVudD0idGV4dC9odG1sOyBjaGFyc2V0PVVURi04IiAvPgogICAgPHNjcmlwdD5MX1BSRUZFUl9DQU5WQVMgPSBmYWxzZTsgTF9OT19UT1VDSCA9IGZhbHNlOyBMX0RJU0FCTEVfM0QgPSBmYWxzZTs8L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2FqYXguZ29vZ2xlYXBpcy5jb20vYWpheC9saWJzL2pxdWVyeS8xLjExLjEvanF1ZXJ5Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvanMvYm9vdHN0cmFwLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHNyYz0iaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvTGVhZmxldC5hd2Vzb21lLW1hcmtlcnMvMi4wLjIvbGVhZmxldC5hd2Vzb21lLW1hcmtlcnMuanMiPjwvc2NyaXB0PgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2xlYWZsZXRAMS4yLjAvZGlzdC9sZWFmbGV0LmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL21heGNkbi5ib290c3RyYXBjZG4uY29tL2Jvb3RzdHJhcC8zLjIuMC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9tYXhjZG4uYm9vdHN0cmFwY2RuLmNvbS9ib290c3RyYXAvMy4yLjAvY3NzL2Jvb3RzdHJhcC10aGVtZS5taW4uY3NzIi8+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vbWF4Y2RuLmJvb3RzdHJhcGNkbi5jb20vZm9udC1hd2Vzb21lLzQuNi4zL2Nzcy9mb250LWF3ZXNvbWUubWluLmNzcyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9MZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy8yLjAuMi9sZWFmbGV0LmF3ZXNvbWUtbWFya2Vycy5jc3MiLz4KICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0iaHR0cHM6Ly9yYXdnaXQuY29tL3B5dGhvbi12aXN1YWxpemF0aW9uL2ZvbGl1bS9tYXN0ZXIvZm9saXVtL3RlbXBsYXRlcy9sZWFmbGV0LmF3ZXNvbWUucm90YXRlLmNzcyIvPgogICAgPHN0eWxlPmh0bWwsIGJvZHkge3dpZHRoOiAxMDAlO2hlaWdodDogMTAwJTttYXJnaW46IDA7cGFkZGluZzogMDt9PC9zdHlsZT4KICAgIDxzdHlsZT4jbWFwIHtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtib3R0b206MDtyaWdodDowO2xlZnQ6MDt9PC9zdHlsZT4KICAgIAogICAgICAgICAgICA8c3R5bGU+ICNtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUgewogICAgICAgICAgICAgICAgcG9zaXRpb24gOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAgIHdpZHRoIDogMTAwLjAlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAuMCU7CiAgICAgICAgICAgICAgICBsZWZ0OiAwLjAlOwogICAgICAgICAgICAgICAgdG9wOiAwLjAlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICA8L3N0eWxlPgogICAgICAgIAo8L2hlYWQ+Cjxib2R5PiAgICAKICAgIAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJmb2xpdW0tbWFwIiBpZD0ibWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlIiA+PC9kaXY+CiAgICAgICAgCjwvYm9keT4KPHNjcmlwdD4gICAgCiAgICAKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGJvdW5kcyA9IG51bGw7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgdmFyIG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSA9IEwubWFwKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2VudGVyOiBbNDMuNywtNzkuNF0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tOiAxMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEJvdW5kczogYm91bmRzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJzOiBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmxkQ29weUp1bXA6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JzOiBMLkNSUy5FUFNHMzg1NwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHRpbGVfbGF5ZXJfNWIyMGFiODIyNTA1NDgzNDgyMTk0ZmI3MzBlNzRmZWMgPSBMLnRpbGVMYXllcigKICAgICAgICAgICAgICAgICdodHRwczovL3tzfS50aWxlLm9wZW5zdHJlZXRtYXAub3JnL3t6fS97eH0ve3l9LnBuZycsCiAgICAgICAgICAgICAgICB7CiAgImF0dHJpYnV0aW9uIjogbnVsbCwKICAiZGV0ZWN0UmV0aW5hIjogZmFsc2UsCiAgIm1heFpvb20iOiAxOCwKICAibWluWm9vbSI6IDEsCiAgIm5vV3JhcCI6IGZhbHNlLAogICJzdWJkb21haW5zIjogImFiYyIKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzhhM2ViYjM4NjZjMzQyYzJhZGU1OTg1N2ZlZmUwMTQzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzUzMjU4NiwtNzkuMzI5NjU2NV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjMDBiNWViIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzAwYjVlYiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kMWNkZTIwMzM5YWU0MWI3YTAxMDFiNTcwZWIyZTdmZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zNGMwYzI5NzNhMTM0Y2M1YWNmZTkxY2RkMGE3OTRkZCA9ICQoJzxkaXYgaWQ9Imh0bWxfMzRjMGMyOTczYTEzNGNjNWFjZmU5MWNkZDBhNzk0ZGQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlBhcmt3b29kcyBDbHVzdGVyIDI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2QxY2RlMjAzMzlhZTQxYjdhMDEwMWI1NzBlYjJlN2ZkLnNldENvbnRlbnQoaHRtbF8zNGMwYzI5NzNhMTM0Y2M1YWNmZTkxY2RkMGE3OTRkZCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84YTNlYmIzODY2YzM0MmMyYWRlNTk4NTdmZWZlMDE0My5iaW5kUG9wdXAocG9wdXBfZDFjZGUyMDMzOWFlNDFiN2EwMTAxYjU3MGViMmU3ZmQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNmM2MWVlYjI1ODQwNDZlYWI1NTc4OTJiYWEzMDFhMGEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MjU4ODIyOTk5OTk5OTUsLTc5LjMxNTU3MTU5OTk5OTk4XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiMwMGI1ZWIiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMDBiNWViIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzU1YzVjYWZkMTM0MzRkZDhiNGUwNmE0YjdhNTc4NWFmID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzYyZjU4MWJhNTA1ODQ1ZWI4YTU0MWEwMzVjNTQxZGNjID0gJCgnPGRpdiBpZD0iaHRtbF82MmY1ODFiYTUwNTg0NWViOGE1NDFhMDM1YzU0MWRjYyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VmljdG9yaWEgVmlsbGFnZSBDbHVzdGVyIDI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzU1YzVjYWZkMTM0MzRkZDhiNGUwNmE0YjdhNTc4NWFmLnNldENvbnRlbnQoaHRtbF82MmY1ODFiYTUwNTg0NWViOGE1NDFhMDM1YzU0MWRjYyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82YzYxZWViMjU4NDA0NmVhYjU1Nzg5MmJhYTMwMWEwYS5iaW5kUG9wdXAocG9wdXBfNTVjNWNhZmQxMzQzNGRkOGI0ZTA2YTRiN2E1Nzg1YWYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZjRjYWYwMjYyYmYwNGRmZjlkYjcyZjgzZDEwNTk0NzggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTQyNTk5LC03OS4zNjA2MzU5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2M1MDBmZGVkNTA5NTRkYzJhOGExNDdjNTYzYmI0ZmYxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2FhNmUyMjhjNTM4ZTQyMzI5MDBiOWU3ZWY2MGY2NGNmID0gJCgnPGRpdiBpZD0iaHRtbF9hYTZlMjI4YzUzOGU0MjMyOTAwYjllN2VmNjBmNjRjZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UmVnZW50IFBhcmssIEhhcmJvdXJmcm9udCBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2M1MDBmZGVkNTA5NTRkYzJhOGExNDdjNTYzYmI0ZmYxLnNldENvbnRlbnQoaHRtbF9hYTZlMjI4YzUzOGU0MjMyOTAwYjllN2VmNjBmNjRjZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mNGNhZjAyNjJiZjA0ZGZmOWRiNzJmODNkMTA1OTQ3OC5iaW5kUG9wdXAocG9wdXBfYzUwMGZkZWQ1MDk1NGRjMmE4YTE0N2M1NjNiYjRmZjEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTQ5ZjVkNTY2YzJmNGZmYjk4NTQ5M2FhMzFhMmI3MWMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTg1MTc5OTk5OTk5OTYsLTc5LjQ2NDc2MzI5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiMwMGI1ZWIiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMDBiNWViIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzAzNjhkYTAzNDQ3MjQ2NDE4YTk3NjE3ODg3MzI0MmE1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzFkNTc4ZDJjOTU3MjRmNDdhMTViYjZhMGU3YjYzY2YxID0gJCgnPGRpdiBpZD0iaHRtbF8xZDU3OGQyYzk1NzI0ZjQ3YTE1YmI2YTBlN2I2M2NmMSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TGF3cmVuY2UgTWFub3IsIExhd3JlbmNlIEhlaWdodHMgQ2x1c3RlciAyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wMzY4ZGEwMzQ0NzI0NjQxOGE5NzYxNzg4NzMyNDJhNS5zZXRDb250ZW50KGh0bWxfMWQ1NzhkMmM5NTcyNGY0N2ExNWJiNmEwZTdiNjNjZjEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTQ5ZjVkNTY2YzJmNGZmYjk4NTQ5M2FhMzFhMmI3MWMuYmluZFBvcHVwKHBvcHVwXzAzNjhkYTAzNDQ3MjQ2NDE4YTk3NjE3ODg3MzI0MmE1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzQ0ZDM0MDUxYWNmZjRhMjk5NzczMWEwODk2Y2UzOGYxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjYyMzAxNSwtNzkuMzg5NDkzOF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9lNGMxNzcxZTI4ZWM0MzNjOWI4N2QyMTlhMzc5N2RjNCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yZWVjMDBjYTk5YWY0MWZiOGU5OWU0NTJjZjFiMzhhMiA9ICQoJzxkaXYgaWQ9Imh0bWxfMmVlYzAwY2E5OWFmNDFmYjhlOTllNDUyY2YxYjM4YTIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlF1ZWVuJiMzOTtzIFBhcmssIE9udGFyaW8gUHJvdmluY2lhbCBHb3Zlcm5tZW50IENsdXN0ZXIgMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZTRjMTc3MWUyOGVjNDMzYzliODdkMjE5YTM3OTdkYzQuc2V0Q29udGVudChodG1sXzJlZWMwMGNhOTlhZjQxZmI4ZTk5ZTQ1MmNmMWIzOGEyKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzQ0ZDM0MDUxYWNmZjRhMjk5NzczMWEwODk2Y2UzOGYxLmJpbmRQb3B1cChwb3B1cF9lNGMxNzcxZTI4ZWM0MzNjOWI4N2QyMTlhMzc5N2RjNCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wOGQ3YzIzMWVmNGQ0ZDZlOTA3ZGQ4NWE2MDM4YzlkMyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2Nzg1NTYsLTc5LjUzMjI0MjQwMDAwMDAyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzdhODhjN2JkOTVjZjQ4OTg4MjNmMjI1MWQ3OTZiMTY0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzM0NWRhNzExNGQ3OTRiZTNhYTFmN2UyMDlkM2ZlNzI2ID0gJCgnPGRpdiBpZD0iaHRtbF8zNDVkYTcxMTRkNzk0YmUzYWExZjdlMjA5ZDNmZTcyNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SXNsaW5ndG9uIEF2ZW51ZSwgSHVtYmVyIFZhbGxleSBWaWxsYWdlIENsdXN0ZXIgMTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfN2E4OGM3YmQ5NWNmNDg5ODgyM2YyMjUxZDc5NmIxNjQuc2V0Q29udGVudChodG1sXzM0NWRhNzExNGQ3OTRiZTNhYTFmN2UyMDlkM2ZlNzI2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzA4ZDdjMjMxZWY0ZDRkNmU5MDdkZDg1YTYwMzhjOWQzLmJpbmRQb3B1cChwb3B1cF83YTg4YzdiZDk1Y2Y0ODk4ODIzZjIyNTFkNzk2YjE2NCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yYmZiNjdhODgyNDc0NGRjOTU0NTBlMDlmZDc2MGIxZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjgwNjY4NjI5OTk5OTk5NiwtNzkuMTk0MzUzNDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzAwYjVlYiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMwMGI1ZWIiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZjMxMjlmOTNjZjk4NDMzMGI3MTZjZjgxMDhlZTcyOGMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZmZjMjQxNDAyZjRmNGIwMWE1OTU1OWZkMWQ1M2FjNDkgPSAkKCc8ZGl2IGlkPSJodG1sX2ZmYzI0MTQwMmY0ZjRiMDFhNTk1NTlmZDFkNTNhYzQ5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5NYWx2ZXJuLCBSb3VnZSBDbHVzdGVyIDI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2YzMTI5ZjkzY2Y5ODQzMzBiNzE2Y2Y4MTA4ZWU3MjhjLnNldENvbnRlbnQoaHRtbF9mZmMyNDE0MDJmNGY0YjAxYTU5NTU5ZmQxZDUzYWM0OSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yYmZiNjdhODgyNDc0NGRjOTU0NTBlMDlmZDc2MGIxZC5iaW5kUG9wdXAocG9wdXBfZjMxMjlmOTNjZjk4NDMzMGI3MTZjZjgxMDhlZTcyOGMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMmFlNGZkMmExODRhNDk0ZWEzNzQ1OWI3ODgwYzI3MmUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NDU5MDU3OTk5OTk5OTYsLTc5LjM1MjE4OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mYjc1YjlmZjY1ZmU0ZGZlYWFlMjA5MTZjMWRmNDg5YiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xZjM2MTcyMzMxY2I0N2E5ODc2MWJmNDgyZjYxYTc0OSA9ICQoJzxkaXYgaWQ9Imh0bWxfMWYzNjE3MjMzMWNiNDdhOTg3NjFiZjQ4MmY2MWE3NDkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvbiBNaWxscyBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ZiNzViOWZmNjVmZTRkZmVhYWUyMDkxNmMxZGY0ODliLnNldENvbnRlbnQoaHRtbF8xZjM2MTcyMzMxY2I0N2E5ODc2MWJmNDgyZjYxYTc0OSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yYWU0ZmQyYTE4NGE0OTRlYTM3NDU5Yjc4ODBjMjcyZS5iaW5kUG9wdXAocG9wdXBfZmI3NWI5ZmY2NWZlNGRmZWFhZTIwOTE2YzFkZjQ4OWIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTM3Y2FhNGQwNmFlNDhlZGI2MDRlMTgzZDNiYjgxNjkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDYzOTcyLC03OS4zMDk5MzddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjQxYzIwOTQzNWE5NGNmODg3OTU0NmJhMjRlOGE5Y2IgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMjlhN2MwMDMxYjYxNGY4NjhhMjBmODUyMmJmNDRhMWYgPSAkKCc8ZGl2IGlkPSJodG1sXzI5YTdjMDAzMWI2MTRmODY4YTIwZjg1MjJiZjQ0YTFmIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5QYXJrdmlldyBIaWxsLCBXb29kYmluZSBHYXJkZW5zIENsdXN0ZXIgMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNjQxYzIwOTQzNWE5NGNmODg3OTU0NmJhMjRlOGE5Y2Iuc2V0Q29udGVudChodG1sXzI5YTdjMDAzMWI2MTRmODY4YTIwZjg1MjJiZjQ0YTFmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzEzN2NhYTRkMDZhZTQ4ZWRiNjA0ZTE4M2QzYmI4MTY5LmJpbmRQb3B1cChwb3B1cF82NDFjMjA5NDM1YTk0Y2Y4ODc5NTQ2YmEyNGU4YTljYik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81OTk4Y2UwNzA4ZWU0YmFiODQzZjdhZGE4NTcyYzBkMiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1NzE2MTgsLTc5LjM3ODkzNzA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzdkOTQzM2Q1MTc1ZTQ4NGJiZTk0MWU0OTA0MWU5Y2I2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Q1MDU4ODEwYmE0YTQ2N2I5YTUzMmNiMDQ3NDhjYTgxID0gJCgnPGRpdiBpZD0iaHRtbF9kNTA1ODgxMGJhNGE0NjdiOWE1MzJjYjA0NzQ4Y2E4MSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+R2FyZGVuIERpc3RyaWN0LCBSeWVyc29uIENsdXN0ZXIgMTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfN2Q5NDMzZDUxNzVlNDg0YmJlOTQxZTQ5MDQxZTljYjYuc2V0Q29udGVudChodG1sX2Q1MDU4ODEwYmE0YTQ2N2I5YTUzMmNiMDQ3NDhjYTgxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzU5OThjZTA3MDhlZTRiYWI4NDNmN2FkYTg1NzJjMGQyLmJpbmRQb3B1cChwb3B1cF83ZDk0MzNkNTE3NWU0ODRiYmU5NDFlNDkwNDFlOWNiNik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8xY2FiY2NlOWY2ZjE0MjM4YmJhZWUxZTczYTZkNjI0ZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcwOTU3NywtNzkuNDQ1MDcyNTk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzAwYjVlYiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMwMGI1ZWIiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZDljZDkzNWU4ZDRkNDI4NmE0MDNiOGZkYzU4ZjE4NzMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMDc0ODFjMzU3M2E3NDZiNmEzMzFkZWYxMzAxMzg2MmIgPSAkKCc8ZGl2IGlkPSJodG1sXzA3NDgxYzM1NzNhNzQ2YjZhMzMxZGVmMTMwMTM4NjJiIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5HbGVuY2Fpcm4gQ2x1c3RlciAyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kOWNkOTM1ZThkNGQ0Mjg2YTQwM2I4ZmRjNThmMTg3My5zZXRDb250ZW50KGh0bWxfMDc0ODFjMzU3M2E3NDZiNmEzMzFkZWYxMzAxMzg2MmIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMWNhYmNjZTlmNmYxNDIzOGJiYWVlMWU3M2E2ZDYyNGQuYmluZFBvcHVwKHBvcHVwX2Q5Y2Q5MzVlOGQ0ZDQyODZhNDAzYjhmZGM1OGYxODczKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzMyZTVhOTliNmEzMTQ5MWFhMmFjZWEyZjg3NWMzYjVjID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjUwOTQzMiwtNzkuNTU0NzI0NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjQwNzhkOTA4MjllNDhlY2E0MGYyYzI2NmI2NjRiODQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNDhmNjZkOTMwMDg3NDVjYjk0ZTRiYjViYTc1ODQ5ZWEgPSAkKCc8ZGl2IGlkPSJodG1sXzQ4ZjY2ZDkzMDA4NzQ1Y2I5NGU0YmI1YmE3NTg0OWVhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5XZXN0IERlYW5lIFBhcmssIFByaW5jZXNzIEdhcmRlbnMsIE1hcnRpbiBHcm92ZSwgSXNsaW5ndG9uLCBDbG92ZXJkYWxlIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNjQwNzhkOTA4MjllNDhlY2E0MGYyYzI2NmI2NjRiODQuc2V0Q29udGVudChodG1sXzQ4ZjY2ZDkzMDA4NzQ1Y2I5NGU0YmI1YmE3NTg0OWVhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzMyZTVhOTliNmEzMTQ5MWFhMmFjZWEyZjg3NWMzYjVjLmJpbmRQb3B1cChwb3B1cF82NDA3OGQ5MDgyOWU0OGVjYTQwZjJjMjY2YjY2NGI4NCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85MDExOTVjNDIwNjQ0ODU0ODRmNTAyMTdlMDBmZTc3YyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4NDUzNTEsLTc5LjE2MDQ5NzA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzM1OWE4MzUwMTlmZDRjYjY4OGE3MzkwOTM5YWI0NTAwID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2NhY2MwYzBkZTg0NTQ5NmRiOTA2NGNlMjJiNzExYjRiID0gJCgnPGRpdiBpZD0iaHRtbF9jYWNjMGMwZGU4NDU0OTZkYjkwNjRjZTIyYjcxMWI0YiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Um91Z2UgSGlsbCwgUG9ydCBVbmlvbiwgSGlnaGxhbmQgQ3JlZWsgQ2x1c3RlciAwPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zNTlhODM1MDE5ZmQ0Y2I2ODhhNzM5MDkzOWFiNDUwMC5zZXRDb250ZW50KGh0bWxfY2FjYzBjMGRlODQ1NDk2ZGI5MDY0Y2UyMmI3MTFiNGIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTAxMTk1YzQyMDY0NDg1NDg0ZjUwMjE3ZTAwZmU3N2MuYmluZFBvcHVwKHBvcHVwXzM1OWE4MzUwMTlmZDRjYjY4OGE3MzkwOTM5YWI0NTAwKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzk0YjU4ZWRiMmQ5YzQ3ZTNiYzQxNzBkZjQ4M2EzYmFkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI1ODk5NzAwMDAwMDEsLTc5LjM0MDkyM10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zNzRkYjdlNGUzZWQ0OGFjODViNWFlOTBhY2ExNWVkMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hODQ0ZDUwN2E0NTc0YzAwOWU1Njc2YjJlMzE5MjFjOSA9ICQoJzxkaXYgaWQ9Imh0bWxfYTg0NGQ1MDdhNDU3NGMwMDllNTY3NmIyZTMxOTIxYzkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvbiBNaWxscyBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzM3NGRiN2U0ZTNlZDQ4YWM4NWI1YWU5MGFjYTE1ZWQzLnNldENvbnRlbnQoaHRtbF9hODQ0ZDUwN2E0NTc0YzAwOWU1Njc2YjJlMzE5MjFjOSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85NGI1OGVkYjJkOWM0N2UzYmM0MTcwZGY0ODNhM2JhZC5iaW5kUG9wdXAocG9wdXBfMzc0ZGI3ZTRlM2VkNDhhYzg1YjVhZTkwYWNhMTVlZDMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNGI1ZDg3ZmEzNzc2NGNhNGI4YWM0ODNlMDg0MjZjYjMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTUzNDM5MDAwMDAwMDUsLTc5LjMxODM4ODddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTRkMDY1MGM2NGNmNDdiMzk2OGZjOTA3NjUzMGFkMzEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTc4YTQzY2M3YjVjNDY1NDg2YjNhN2Y2MzUxNzBkNWEgPSAkKCc8ZGl2IGlkPSJodG1sXzE3OGE0M2NjN2I1YzQ2NTQ4NmIzYTdmNjM1MTcwZDVhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Xb29kYmluZSBIZWlnaHRzIENsdXN0ZXIgMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTRkMDY1MGM2NGNmNDdiMzk2OGZjOTA3NjUzMGFkMzEuc2V0Q29udGVudChodG1sXzE3OGE0M2NjN2I1YzQ2NTQ4NmIzYTdmNjM1MTcwZDVhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzRiNWQ4N2ZhMzc3NjRjYTRiOGFjNDgzZTA4NDI2Y2IzLmJpbmRQb3B1cChwb3B1cF85NGQwNjUwYzY0Y2Y0N2IzOTY4ZmM5MDc2NTMwYWQzMSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wZDAxNjYzYmQyNDQ0YjY1YTM1ZWY0YzcwNDZiZjA0MiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1MTQ5MzksLTc5LjM3NTQxNzldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzAwYjVlYiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMwMGI1ZWIiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZWJiMWI0ZGY2MWJmNGNmMDllNWM1NmE4MTc1YzIyMmQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjNhZGQwN2IzYjBmNDE5MTgyMWM2M2I5MzExMzMyNDAgPSAkKCc8ZGl2IGlkPSJodG1sX2YzYWRkMDdiM2IwZjQxOTE4MjFjNjNiOTMxMTMzMjQwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5TdC4gSmFtZXMgVG93biBDbHVzdGVyIDI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ViYjFiNGRmNjFiZjRjZjA5ZTVjNTZhODE3NWMyMjJkLnNldENvbnRlbnQoaHRtbF9mM2FkZDA3YjNiMGY0MTkxODIxYzYzYjkzMTEzMzI0MCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wZDAxNjYzYmQyNDQ0YjY1YTM1ZWY0YzcwNDZiZjA0Mi5iaW5kUG9wdXAocG9wdXBfZWJiMWI0ZGY2MWJmNGNmMDllNWM1NmE4MTc1YzIyMmQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODg3NmRjNTM4M2Q1NDFkM2E0OTUwYTE3ZDVmMDE3N2MgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTM3ODEzLC03OS40MjgxOTE0MDAwMDAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84MTAxYTc2MGQ2MTI0MTBmODM1NjZiMGE4NzE5YjExNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8xOGQ5NDk3NmExMDQ0NTMzYjhkYmZhMjcyMjg0NWNjMyA9ICQoJzxkaXYgaWQ9Imh0bWxfMThkOTQ5NzZhMTA0NDUzM2I4ZGJmYTI3MjI4NDVjYzMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkh1bWV3b29kLUNlZGFydmFsZSBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzgxMDFhNzYwZDYxMjQxMGY4MzU2NmIwYTg3MTliMTE3LnNldENvbnRlbnQoaHRtbF8xOGQ5NDk3NmExMDQ0NTMzYjhkYmZhMjcyMjg0NWNjMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84ODc2ZGM1MzgzZDU0MWQzYTQ5NTBhMTdkNWYwMTc3Yy5iaW5kUG9wdXAocG9wdXBfODEwMWE3NjBkNjEyNDEwZjgzNTY2YjBhODcxOWIxMTcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfN2JkOTQ5ODM3Nzg0NDA4MWE3MDYxOGQwNTQ2ZjJmNjYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDM1MTUyLC03OS41NzcyMDA3OTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zOTg0ZTM3OWY1MzE0MTg4YTRiYzhhMjQ3MmYzNGFiYiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85ZTMzOWQ4OWJjNGQ0MDJiOGQ3OWEzMWVhZmU0ZjZjOCA9ICQoJzxkaXYgaWQ9Imh0bWxfOWUzMzlkODliYzRkNDAyYjhkNzlhMzFlYWZlNGY2YzgiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkVyaW5nYXRlLCBCbG9vcmRhbGUgR2FyZGVucywgT2xkIEJ1cm5oYW10aG9ycGUsIE1hcmtsYW5kIFdvb2QgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zOTg0ZTM3OWY1MzE0MTg4YTRiYzhhMjQ3MmYzNGFiYi5zZXRDb250ZW50KGh0bWxfOWUzMzlkODliYzRkNDAyYjhkNzlhMzFlYWZlNGY2YzgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfN2JkOTQ5ODM3Nzg0NDA4MWE3MDYxOGQwNTQ2ZjJmNjYuYmluZFBvcHVwKHBvcHVwXzM5ODRlMzc5ZjUzMTQxODhhNGJjOGEyNDcyZjM0YWJiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2MwNzUwOTZiYTI3YzQ5MzBhYzZiOTJkMzI3ZWIzNDFmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzYzNTcyNiwtNzkuMTg4NzExNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF83YzRkMzgxYWUwZGE0ZTNkOTZlMWI1YWQxMjYyNDhmNiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wMmQxMWQxMDlhYzk0MWZkYjVkZTg5Nzg3ZTBkOGM3OSA9ICQoJzxkaXYgaWQ9Imh0bWxfMDJkMTFkMTA5YWM5NDFmZGI1ZGU4OTc4N2UwZDhjNzkiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkd1aWxkd29vZCwgTW9ybmluZ3NpZGUsIFdlc3QgSGlsbCBDbHVzdGVyIDA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzdjNGQzODFhZTBkYTRlM2Q5NmUxYjVhZDEyNjI0OGY2LnNldENvbnRlbnQoaHRtbF8wMmQxMWQxMDlhYzk0MWZkYjVkZTg5Nzg3ZTBkOGM3OSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jMDc1MDk2YmEyN2M0OTMwYWM2YjkyZDMyN2ViMzQxZi5iaW5kUG9wdXAocG9wdXBfN2M0ZDM4MWFlMGRhNGUzZDk2ZTFiNWFkMTI2MjQ4ZjYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMWYzMDViZTFkYjNkNDY3Zjg4N2RiMzJmMTQyY2UyOWMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NzYzNTczOTk5OTk5OSwtNzkuMjkzMDMxMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82Y2QzMzMzYzIyMzM0M2Y1OGE3ZTYzNWJiNDQzMTg4ZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81MjU0YmE2YjE5MWI0YzEzYmU1MmQ4Y2NiZmE4NzViYiA9ICQoJzxkaXYgaWQ9Imh0bWxfNTI1NGJhNmIxOTFiNGMxM2JlNTJkOGNjYmZhODc1YmIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBCZWFjaGVzIENsdXN0ZXIgMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNmNkMzMzM2MyMjMzNDNmNThhN2U2MzViYjQ0MzE4OGYuc2V0Q29udGVudChodG1sXzUyNTRiYTZiMTkxYjRjMTNiZTUyZDhjY2JmYTg3NWJiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzFmMzA1YmUxZGIzZDQ2N2Y4ODdkYjMyZjE0MmNlMjljLmJpbmRQb3B1cChwb3B1cF82Y2QzMzMzYzIyMzM0M2Y1OGE3ZTYzNWJiNDQzMTg4Zik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zZTg4NGQ4MjA5MGI0YjRhOTUzZmM3Mzk5MzQ2NjI5NCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0NDc3MDc5OTk5OTk5NiwtNzkuMzczMzA2NF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjMDBiNWViIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzAwYjVlYiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81YjBhMDc1YTBhOGQ0ZDE4YWIwYjcyYmVhNDMyOTIzMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lOTlkNWFjNGM1NTU0MjNiYTc1NzkwYTc3ODRmYzQwYiA9ICQoJzxkaXYgaWQ9Imh0bWxfZTk5ZDVhYzRjNTU1NDIzYmE3NTc5MGE3Nzg0ZmM0MGIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJlcmN6eSBQYXJrIENsdXN0ZXIgMjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNWIwYTA3NWEwYThkNGQxOGFiMGI3MmJlYTQzMjkyMzAuc2V0Q29udGVudChodG1sX2U5OWQ1YWM0YzU1NTQyM2JhNzU3OTBhNzc4NGZjNDBiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzNlODg0ZDgyMDkwYjRiNGE5NTNmYzczOTkzNDY2Mjk0LmJpbmRQb3B1cChwb3B1cF81YjBhMDc1YTBhOGQ0ZDE4YWIwYjcyYmVhNDMyOTIzMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8xY2FjYzM3N2ViYWE0ZjMyYjk3ODY0NWQ5YTFkNjBhYiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY4OTAyNTYsLTc5LjQ1MzUxMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wMWExYjQ4OWUwZWM0ZmM3YTU2OTVjZTkyZjkwNTJlZCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iOGVlODVhMDAwYjM0YTFjOTE5Njk1YzhhNTJhYTc1MCA9ICQoJzxkaXYgaWQ9Imh0bWxfYjhlZTg1YTAwMGIzNGExYzkxOTY5NWM4YTUyYWE3NTAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNhbGVkb25pYS1GYWlyYmFua3MgQ2x1c3RlciAxPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wMWExYjQ4OWUwZWM0ZmM3YTU2OTVjZTkyZjkwNTJlZC5zZXRDb250ZW50KGh0bWxfYjhlZTg1YTAwMGIzNGExYzkxOTY5NWM4YTUyYWE3NTApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMWNhY2MzNzdlYmFhNGYzMmI5Nzg2NDVkOWExZDYwYWIuYmluZFBvcHVwKHBvcHVwXzAxYTFiNDg5ZTBlYzRmYzdhNTY5NWNlOTJmOTA1MmVkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2RkODM0ZDczZDBiNDQ1MzI4OWJjOWQ2MWU0N2U2OWQ2ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzcwOTkyMSwtNzkuMjE2OTE3NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMTdkYjdmNzIwNjI0NDVmNDlhOGIwM2FiNTgyZWI4YjIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODIwNmE3MWNlMjVkNGMzNjhhMmE0ZTVkNjYwNGE4NjAgPSAkKCc8ZGl2IGlkPSJodG1sXzgyMDZhNzFjZTI1ZDRjMzY4YTJhNGU1ZDY2MDRhODYwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Xb2J1cm4gQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xN2RiN2Y3MjA2MjQ0NWY0OWE4YjAzYWI1ODJlYjhiMi5zZXRDb250ZW50KGh0bWxfODIwNmE3MWNlMjVkNGMzNjhhMmE0ZTVkNjYwNGE4NjApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZGQ4MzRkNzNkMGI0NDUzMjg5YmM5ZDYxZTQ3ZTY5ZDYuYmluZFBvcHVwKHBvcHVwXzE3ZGI3ZjcyMDYyNDQ1ZjQ5YThiMDNhYjU4MmViOGIyKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2I4ZDdmZjFhNzIwNDQ4YmZiMjdhNzc2ZDUxMTE3YmMwID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA5MDYwNCwtNzkuMzYzNDUxN10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zN2I5MjE2YjA2OTU0Zjc4OWE5NzQzY2I2NjZmNTU5YSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iZDc4ZjFhMmUxYzY0NDdlOWY3ZGNiZDQ4NTBmMzA4NyA9ICQoJzxkaXYgaWQ9Imh0bWxfYmQ3OGYxYTJlMWM2NDQ3ZTlmN2RjYmQ0ODUwZjMwODciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkxlYXNpZGUgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zN2I5MjE2YjA2OTU0Zjc4OWE5NzQzY2I2NjZmNTU5YS5zZXRDb250ZW50KGh0bWxfYmQ3OGYxYTJlMWM2NDQ3ZTlmN2RjYmQ0ODUwZjMwODcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYjhkN2ZmMWE3MjA0NDhiZmIyN2E3NzZkNTExMTdiYzAuYmluZFBvcHVwKHBvcHVwXzM3YjkyMTZiMDY5NTRmNzg5YTk3NDNjYjY2NmY1NTlhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzcxYTcwZTMzMjQ2YjQzMTY5ZmEzNWEwOWE5MmRkYWM5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjU3OTUyNCwtNzkuMzg3MzgyNl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wZWE1OTk3OTQ2Mzg0YTFiYmFjNTlhOWM4NWU5MTdlZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80MWVhMTAxOTY2N2M0Mjc2YjZlZTVlMzQwM2RlNTJkNyA9ICQoJzxkaXYgaWQ9Imh0bWxfNDFlYTEwMTk2NjdjNDI3NmI2ZWU1ZTM0MDNkZTUyZDciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNlbnRyYWwgQmF5IFN0cmVldCBDbHVzdGVyIDA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzBlYTU5OTc5NDYzODRhMWJiYWM1OWE5Yzg1ZTkxN2VmLnNldENvbnRlbnQoaHRtbF80MWVhMTAxOTY2N2M0Mjc2YjZlZTVlMzQwM2RlNTJkNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl83MWE3MGUzMzI0NmI0MzE2OWZhMzVhMDlhOTJkZGFjOS5iaW5kUG9wdXAocG9wdXBfMGVhNTk5Nzk0NjM4NGExYmJhYzU5YTljODVlOTE3ZWYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZDM4NDhjYTgyNmIyNGRkZTkwM2QzMjY0MDQ5ZWU5ODcgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Njk1NDIsLTc5LjQyMjU2MzddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMzUyYWQ2N2U0MTEzNDI2OTk2MThiZThmY2VjNzA3MTggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNzQyMjZmYzg5NjM0NDliOTk0N2I2NmUzYTVkNmViMDMgPSAkKCc8ZGl2IGlkPSJodG1sXzc0MjI2ZmM4OTYzNDQ5Yjk5NDdiNjZlM2E1ZDZlYjAzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaHJpc3RpZSBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzM1MmFkNjdlNDExMzQyNjk5NjE4YmU4ZmNlYzcwNzE4LnNldENvbnRlbnQoaHRtbF83NDIyNmZjODk2MzQ0OWI5OTQ3YjY2ZTNhNWQ2ZWIwMyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9kMzg0OGNhODI2YjI0ZGRlOTAzZDMyNjQwNDllZTk4Ny5iaW5kUG9wdXAocG9wdXBfMzUyYWQ2N2U0MTEzNDI2OTk2MThiZThmY2VjNzA3MTgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZGY3Zjc5ZTQ1YjAyNDQ1N2JlNDZjMWMyNjU4NjljMDIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NzMxMzYsLTc5LjIzOTQ3NjA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzk4ZTg5NWU3ZTEzMDRhZDM4MDAyMTY3YjUyNTk5Y2NjID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2U5NmEyNDMyMDdhMTQ4ZmM4YTUyYWExMzRlYzJlMTg5ID0gJCgnPGRpdiBpZD0iaHRtbF9lOTZhMjQzMjA3YTE0OGZjOGE1MmFhMTM0ZWMyZTE4OSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2VkYXJicmFlIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOThlODk1ZTdlMTMwNGFkMzgwMDIxNjdiNTI1OTljY2Muc2V0Q29udGVudChodG1sX2U5NmEyNDMyMDdhMTQ4ZmM4YTUyYWExMzRlYzJlMTg5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2RmN2Y3OWU0NWIwMjQ0NTdiZTQ2YzFjMjY1ODY5YzAyLmJpbmRQb3B1cChwb3B1cF85OGU4OTVlN2UxMzA0YWQzODAwMjE2N2I1MjU5OWNjYyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mZTA2OWJjOGM4NzE0ZmU5YTk4NmZlZGU2OWUxODE1NyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjgwMzc2MjIsLTc5LjM2MzQ1MTddLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzAwYjVlYiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMwMGI1ZWIiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMTg3MGVlMGFlMWI2NDQ5NmI5OTRhODUxMGUyY2NjYjQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYmQzMWZhMTc0MDBjNDIxNDk5NGMwYzlmYWUxYmRkNzUgPSAkKCc8ZGl2IGlkPSJodG1sX2JkMzFmYTE3NDAwYzQyMTQ5OTRjMGM5ZmFlMWJkZDc1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5IaWxsY3Jlc3QgVmlsbGFnZSBDbHVzdGVyIDI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzE4NzBlZTBhZTFiNjQ0OTZiOTk0YTg1MTBlMmNjY2I0LnNldENvbnRlbnQoaHRtbF9iZDMxZmExNzQwMGM0MjE0OTk0YzBjOWZhZTFiZGQ3NSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9mZTA2OWJjOGM4NzE0ZmU5YTk4NmZlZGU2OWUxODE1Ny5iaW5kUG9wdXAocG9wdXBfMTg3MGVlMGFlMWI2NDQ5NmI5OTRhODUxMGUyY2NjYjQpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOWEwNWE3YTQ3NGMxNGMxZjg5Zjc2MGY5MDUzNWI3ZGYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NTQzMjgzLC03OS40NDIyNTkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzgyYjEyNzUxYzEzNDQwYzNhYWFkZTdlMWQxYjIzNzA0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzRlZjE4NWU5OTNmYTRhM2U5NzFjNzlkYTIyN2EwOGY0ID0gJCgnPGRpdiBpZD0iaHRtbF80ZWYxODVlOTkzZmE0YTNlOTcxYzc5ZGEyMjdhMDhmNCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmF0aHVyc3QgTWFub3IsIFdpbHNvbiBIZWlnaHRzLCBEb3duc3ZpZXcgTm9ydGggQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84MmIxMjc1MWMxMzQ0MGMzYWFhZGU3ZTFkMWIyMzcwNC5zZXRDb250ZW50KGh0bWxfNGVmMTg1ZTk5M2ZhNGEzZTk3MWM3OWRhMjI3YTA4ZjQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOWEwNWE3YTQ3NGMxNGMxZjg5Zjc2MGY5MDUzNWI3ZGYuYmluZFBvcHVwKHBvcHVwXzgyYjEyNzUxYzEzNDQwYzNhYWFkZTdlMWQxYjIzNzA0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzhlN2E2OWZjZWI5MDRmNjdiODBkOGU4MzY2YzZlZGEyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA1MzY4OSwtNzkuMzQ5MzcxOTAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfODZhZDMwMzk4YjgyNDAwY2EzMDE3ZDFlYjdiNjg0ZmQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNTRjNGQxMTVhMzI0NDM4ODk3OTRkYTkyNWMwOGI2MjYgPSAkKCc8ZGl2IGlkPSJodG1sXzU0YzRkMTE1YTMyNDQzODg5Nzk0ZGE5MjVjMDhiNjI2IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaG9ybmNsaWZmZSBQYXJrIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfODZhZDMwMzk4YjgyNDAwY2EzMDE3ZDFlYjdiNjg0ZmQuc2V0Q29udGVudChodG1sXzU0YzRkMTE1YTMyNDQzODg5Nzk0ZGE5MjVjMDhiNjI2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzhlN2E2OWZjZWI5MDRmNjdiODBkOGU4MzY2YzZlZGEyLmJpbmRQb3B1cChwb3B1cF84NmFkMzAzOThiODI0MDBjYTMwMTdkMWViN2I2ODRmZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zZDllZWVjYzdlZGM0NDQzOTU5ZTA5YmRkNGI2MTZlYiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1MDU3MTIwMDAwMDAxLC03OS4zODQ1Njc1XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiMwMGI1ZWIiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMDBiNWViIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzk4MTk4ODg1ZjVjMjRjNjFhOGNjMmYxYmU0NDQ3YzI0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2JlZWU1MzNhNzk1MTQ5OTI5YzA0ZDZjOGMzNGJjZTEwID0gJCgnPGRpdiBpZD0iaHRtbF9iZWVlNTMzYTc5NTE0OTkyOWMwNGQ2YzhjMzRiY2UxMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UmljaG1vbmQsIEFkZWxhaWRlLCBLaW5nIENsdXN0ZXIgMjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfOTgxOTg4ODVmNWMyNGM2MWE4Y2MyZjFiZTQ0NDdjMjQuc2V0Q29udGVudChodG1sX2JlZWU1MzNhNzk1MTQ5OTI5YzA0ZDZjOGMzNGJjZTEwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzNkOWVlZWNjN2VkYzQ0NDM5NTllMDliZGQ0YjYxNmViLmJpbmRQb3B1cChwb3B1cF85ODE5ODg4NWY1YzI0YzYxYThjYzJmMWJlNDQ0N2MyNCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8xZGMxYjI5MTcwNzQ0NzVmODI5Yjk3NjBjNDFjYzY5NyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY2OTAwNTEwMDAwMDAxLC03OS40NDIyNTkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzA5YjM0YzM1MWM0NjRkNjZiYjM4ZWI5YjM1YTc3ODM3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzEyZTIzMzBlZGUyNzQ4ZjFhYWE1MjhkNTM2ZTQxNTYwID0gJCgnPGRpdiBpZD0iaHRtbF8xMmUyMzMwZWRlMjc0OGYxYWFhNTI4ZDUzNmU0MTU2MCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RHVmZmVyaW4sIERvdmVyY291cnQgVmlsbGFnZSBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzA5YjM0YzM1MWM0NjRkNjZiYjM4ZWI5YjM1YTc3ODM3LnNldENvbnRlbnQoaHRtbF8xMmUyMzMwZWRlMjc0OGYxYWFhNTI4ZDUzNmU0MTU2MCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8xZGMxYjI5MTcwNzQ0NzVmODI5Yjk3NjBjNDFjYzY5Ny5iaW5kUG9wdXAocG9wdXBfMDliMzRjMzUxYzQ2NGQ2NmJiMzhlYjliMzVhNzc4MzcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNGU2ZWE1ODhjN2Q5NGM0NWJiNDc5OGRlYjc1ZjZiM2YgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43NDQ3MzQyLC03OS4yMzk0NzYwOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8xYmVmMjUwOGQ3ZDM0NWNmYmEzY2ViNzk5Yjg5ZDY2NiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84MWUyMmM2NGE2ZWI0NTczYTQ0OWExNmYxMDIwODQ2YSA9ICQoJzxkaXYgaWQ9Imh0bWxfODFlMjJjNjRhNmViNDU3M2E0NDlhMTZmMTAyMDg0NmEiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlNjYXJib3JvdWdoIFZpbGxhZ2UgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8xYmVmMjUwOGQ3ZDM0NWNmYmEzY2ViNzk5Yjg5ZDY2Ni5zZXRDb250ZW50KGh0bWxfODFlMjJjNjRhNmViNDU3M2E0NDlhMTZmMTAyMDg0NmEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNGU2ZWE1ODhjN2Q5NGM0NWJiNDc5OGRlYjc1ZjZiM2YuYmluZFBvcHVwKHBvcHVwXzFiZWYyNTA4ZDdkMzQ1Y2ZiYTNjZWI3OTliODlkNjY2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzBkNDEwNjcyYmNkOTRlOTM4NDMxMWFkNDNlNGFkZTdmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzc4NTE3NSwtNzkuMzQ2NTU1N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjMDBiNWViIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzAwYjVlYiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8zODk5NGQ3NDI1ZDc0ZWIzOGFkMGYzMDRiNDY5ZWNjNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8yM2Y5MTZhZDczMWY0OTkyYjVlNjAxOGY2YWMwYjI5YyA9ICQoJzxkaXYgaWQ9Imh0bWxfMjNmOTE2YWQ3MzFmNDk5MmI1ZTYwMThmNmFjMGIyOWMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkZhaXJ2aWV3LCBIZW5yeSBGYXJtLCBPcmlvbGUgQ2x1c3RlciAyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zODk5NGQ3NDI1ZDc0ZWIzOGFkMGYzMDRiNDY5ZWNjNS5zZXRDb250ZW50KGh0bWxfMjNmOTE2YWQ3MzFmNDk5MmI1ZTYwMThmNmFjMGIyOWMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMGQ0MTA2NzJiY2Q5NGU5Mzg0MzExYWQ0M2U0YWRlN2YuYmluZFBvcHVwKHBvcHVwXzM4OTk0ZDc0MjVkNzRlYjM4YWQwZjMwNGI0NjllY2M1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzUxODZlN2Y5MDc1MDQ4OTBhYjcyNWIxNzc2ZTU5NzZhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzY3OTgwMywtNzkuNDg3MjYxOTAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZTFjNDk1NzU5NzZlNDE1MGFhZGNkYTJiYTQ4ZTNhYzEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMDY5NGEzZTEyNjJjNDIyMTllOWYyNWYxMTAxYTRmMDAgPSAkKCc8ZGl2IGlkPSJodG1sXzA2OTRhM2UxMjYyYzQyMjE5ZTlmMjVmMTEwMWE0ZjAwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ob3J0aHdvb2QgUGFyaywgWW9yayBVbml2ZXJzaXR5IENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZTFjNDk1NzU5NzZlNDE1MGFhZGNkYTJiYTQ4ZTNhYzEuc2V0Q29udGVudChodG1sXzA2OTRhM2UxMjYyYzQyMjE5ZTlmMjVmMTEwMWE0ZjAwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzUxODZlN2Y5MDc1MDQ4OTBhYjcyNWIxNzc2ZTU5NzZhLmJpbmRQb3B1cChwb3B1cF9lMWM0OTU3NTk3NmU0MTUwYWFkY2RhMmJhNDhlM2FjMSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lOWQ3ZDE1NDYzN2Y0OGUzYjM1YjJiZmU0YTBmOGZmOSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY4NTM0NywtNzkuMzM4MTA2NV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81MjFlMWY1NDE5YjA0MGI0OWM3MTU5ZTgyNjA4NDM3YiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zZWFhZDY0YWYzNjI0NzdiYWM2NDYxZTBiNGYyZWM1YyA9ICQoJzxkaXYgaWQ9Imh0bWxfM2VhYWQ2NGFmMzYyNDc3YmFjNjQ2MWUwYjRmMmVjNWMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkVhc3QgVG9yb250bywgQnJvYWR2aWV3IE5vcnRoIChPbGQgRWFzdCBZb3JrKSBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzUyMWUxZjU0MTliMDQwYjQ5YzcxNTllODI2MDg0MzdiLnNldENvbnRlbnQoaHRtbF8zZWFhZDY0YWYzNjI0NzdiYWM2NDYxZTBiNGYyZWM1Yyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9lOWQ3ZDE1NDYzN2Y0OGUzYjM1YjJiZmU0YTBmOGZmOS5iaW5kUG9wdXAocG9wdXBfNTIxZTFmNTQxOWIwNDBiNDljNzE1OWU4MjYwODQzN2IpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNDgxNmFlN2ZmYTIxNGZhN2JjZmE1M2RlZDk4YTcyMmYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDA4MTU3LC03OS4zODE3NTIyOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84ZWM3MjJlZTg1Yzk0MDY2YTFmYzI3NTRmOGM0YWUxNyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mNGQyMTQ4NWE3YWI0ODQxOTZiNGY3MjM4ZDhhMzc3YyA9ICQoJzxkaXYgaWQ9Imh0bWxfZjRkMjE0ODVhN2FiNDg0MTk2YjRmNzIzOGQ4YTM3N2MiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkhhcmJvdXJmcm9udCBFYXN0LCBVbmlvbiBTdGF0aW9uLCBUb3JvbnRvIElzbGFuZHMgQ2x1c3RlciAwPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84ZWM3MjJlZTg1Yzk0MDY2YTFmYzI3NTRmOGM0YWUxNy5zZXRDb250ZW50KGh0bWxfZjRkMjE0ODVhN2FiNDg0MTk2YjRmNzIzOGQ4YTM3N2MpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNDgxNmFlN2ZmYTIxNGZhN2JjZmE1M2RlZDk4YTcyMmYuYmluZFBvcHVwKHBvcHVwXzhlYzcyMmVlODVjOTQwNjZhMWZjMjc1NGY4YzRhZTE3KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2FmNzliNTM2ODNiMzQ3ZTBhOGYwMDQ2YzBjYjNhZDgxID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjQ3OTI2NzAwMDAwMDA2LC03OS40MTk3NDk3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiMwMGI1ZWIiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMDBiNWViIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzgxM2U2MzdmNTFiODRmZWNhNTY0MmRlNzNjZjVhYjQ4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2IzNDI5ZmQyN2JlMjQzMjA4MmVhYTg2NTQ4ODgwOTg3ID0gJCgnPGRpdiBpZD0iaHRtbF9iMzQyOWZkMjdiZTI0MzIwODJlYWE4NjU0ODg4MDk4NyIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TGl0dGxlIFBvcnR1Z2FsLCBUcmluaXR5IENsdXN0ZXIgMjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfODEzZTYzN2Y1MWI4NGZlY2E1NjQyZGU3M2NmNWFiNDguc2V0Q29udGVudChodG1sX2IzNDI5ZmQyN2JlMjQzMjA4MmVhYTg2NTQ4ODgwOTg3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2FmNzliNTM2ODNiMzQ3ZTBhOGYwMDQ2YzBjYjNhZDgxLmJpbmRQb3B1cChwb3B1cF84MTNlNjM3ZjUxYjg0ZmVjYTU2NDJkZTczY2Y1YWI0OCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80MzBiNzIzOTcxMWY0MDVjYWExZTY1OWIxMzAyMzNiNSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcyNzkyOTIsLTc5LjI2MjAyOTQwMDAwMDAyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2ZlYjRjZGM0MjhhNzQ1Yjc4N2JhODk1ZTE0NDhmMzExID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2ZiZWIyYzhlNDQwOTQ4MGQ5MjMzZTliOGNiNDI4NDEwID0gJCgnPGRpdiBpZD0iaHRtbF9mYmViMmM4ZTQ0MDk0ODBkOTIzM2U5YjhjYjQyODQxMCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+S2VubmVkeSBQYXJrLCBJb252aWV3LCBFYXN0IEJpcmNobW91bnQgUGFyayBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ZlYjRjZGM0MjhhNzQ1Yjc4N2JhODk1ZTE0NDhmMzExLnNldENvbnRlbnQoaHRtbF9mYmViMmM4ZTQ0MDk0ODBkOTIzM2U5YjhjYjQyODQxMCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl80MzBiNzIzOTcxMWY0MDVjYWExZTY1OWIxMzAyMzNiNS5iaW5kUG9wdXAocG9wdXBfZmViNGNkYzQyOGE3NDViNzg3YmE4OTVlMTQ0OGYzMTEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMmJjYzdjNzMzYzgyNGE1M2E3ZjFkZDM2NjNlYjkwYWYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43ODY5NDczLC03OS4zODU5NzVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzAwYjVlYiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMwMGI1ZWIiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNDMxZTM5OGIzNWIwNDVmNDkwZGFiNTM2MzQ3MDBjNGQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMzEzMWE3MDExNzVhNGQ5ZmI2NWYwYTE2MThkZTQ4ZWUgPSAkKCc8ZGl2IGlkPSJodG1sXzMxMzFhNzAxMTc1YTRkOWZiNjVmMGExNjE4ZGU0OGVlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CYXl2aWV3IFZpbGxhZ2UgQ2x1c3RlciAyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80MzFlMzk4YjM1YjA0NWY0OTBkYWI1MzYzNDcwMGM0ZC5zZXRDb250ZW50KGh0bWxfMzEzMWE3MDExNzVhNGQ5ZmI2NWYwYTE2MThkZTQ4ZWUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMmJjYzdjNzMzYzgyNGE1M2E3ZjFkZDM2NjNlYjkwYWYuYmluZFBvcHVwKHBvcHVwXzQzMWUzOThiMzViMDQ1ZjQ5MGRhYjUzNjM0NzAwYzRkKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzZiZDNjZjNjNzcwOTQzNmI5OTZjYTA1MDUwZjMyMGZkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzM3NDczMjAwMDAwMDA0LC03OS40NjQ3NjMyOTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81YzU3ZDNmMDRiNGI0ZjFiOWI0ZmY0MzUxMWNmYzQ5NyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zNGViNTNjYmYwNTE0ZjliOTc4ZTNkMzRhZDY0NTliZSA9ICQoJzxkaXYgaWQ9Imh0bWxfMzRlYjUzY2JmMDUxNGY5Yjk3OGUzZDM0YWQ2NDU5YmUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvd25zdmlldyBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzVjNTdkM2YwNGI0YjRmMWI5YjRmZjQzNTExY2ZjNDk3LnNldENvbnRlbnQoaHRtbF8zNGViNTNjYmYwNTE0ZjliOTc4ZTNkMzRhZDY0NTliZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82YmQzY2YzYzc3MDk0MzZiOTk2Y2EwNTA1MGYzMjBmZC5iaW5kUG9wdXAocG9wdXBfNWM1N2QzZjA0YjRiNGYxYjliNGZmNDM1MTFjZmM0OTcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZDhmZmFhODk2YzJhNGQ4NmJhM2FhYmU0YmQzZjBkZWEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Nzk1NTcxLC03OS4zNTIxODhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzAwYjVlYiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMwMGI1ZWIiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfY2ViODQ4MTFhZTRlNGYwZTkwYTNjMWNiYzVlZmYwMjMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTAyMjE0M2I0OTU0NDkzYzkxM2YxNGIzY2Q3YmNiYjggPSAkKCc8ZGl2IGlkPSJodG1sXzEwMjIxNDNiNDk1NDQ5M2M5MTNmMTRiM2NkN2JjYmI4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgRGFuZm9ydGggV2VzdCwgUml2ZXJkYWxlIENsdXN0ZXIgMjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfY2ViODQ4MTFhZTRlNGYwZTkwYTNjMWNiYzVlZmYwMjMuc2V0Q29udGVudChodG1sXzEwMjIxNDNiNDk1NDQ5M2M5MTNmMTRiM2NkN2JjYmI4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2Q4ZmZhYTg5NmMyYTRkODZiYTNhYWJlNGJkM2YwZGVhLmJpbmRQb3B1cChwb3B1cF9jZWI4NDgxMWFlNGU0ZjBlOTBhM2MxY2JjNWVmZjAyMyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zNjZmMTk3NzI3NDQ0MzlmYWZmMTI1MmQ0MGMxZmEzZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0NzE3NjgsLTc5LjM4MTU3NjQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzcxNTE4Mjg0MDQyNDQyODBhNDJmMWQ1MTFlNTEzNTI4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzM0Mjc3Njg0MzgyZjQ4ZTJiNjFiODljYTY1N2IzMTAyID0gJCgnPGRpdiBpZD0iaHRtbF8zNDI3NzY4NDM4MmY0OGUyYjYxYjg5Y2E2NTdiMzEwMiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VG9yb250byBEb21pbmlvbiBDZW50cmUsIERlc2lnbiBFeGNoYW5nZSBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzcxNTE4Mjg0MDQyNDQyODBhNDJmMWQ1MTFlNTEzNTI4LnNldENvbnRlbnQoaHRtbF8zNDI3NzY4NDM4MmY0OGUyYjYxYjg5Y2E2NTdiMzEwMik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zNjZmMTk3NzI3NDQ0MzlmYWZmMTI1MmQ0MGMxZmEzZi5iaW5kUG9wdXAocG9wdXBfNzE1MTgyODQwNDI0NDI4MGE0MmYxZDUxMWU1MTM1MjgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYWM2ZGFhYjlhODEzNDhhY2I3ZmNlNjM1YzY1MjJiNjkgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42MzY4NDcyLC03OS40MjgxOTE0MDAwMDAwMl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wNGJmMmVmNmIzZDE0NWY2YmVkZTNlYWU0NjRjMjdjMCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84NTk0ZDMxNzgxNDY0MGIwOTdhMjRlNzMwZjJmOWZjMyA9ICQoJzxkaXYgaWQ9Imh0bWxfODU5NGQzMTc4MTQ2NDBiMDk3YTI0ZTczMGYyZjlmYzMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkJyb2NrdG9uLCBQYXJrZGFsZSBWaWxsYWdlLCBFeGhpYml0aW9uIFBsYWNlIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMDRiZjJlZjZiM2QxNDVmNmJlZGUzZWFlNDY0YzI3YzAuc2V0Q29udGVudChodG1sXzg1OTRkMzE3ODE0NjQwYjA5N2EyNGU3MzBmMmY5ZmMzKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2FjNmRhYWI5YTgxMzQ4YWNiN2ZjZTYzNWM2NTIyYjY5LmJpbmRQb3B1cChwb3B1cF8wNGJmMmVmNmIzZDE0NWY2YmVkZTNlYWU0NjRjMjdjMCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lMTExZWY5MzE4ZWM0NjgyODU4YjYzNzAyY2NiNTI3NyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcxMTExMTcwMDAwMDAwNCwtNzkuMjg0NTc3Ml0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF84NDlhMTQwYTdhNTI0M2ViOTYzNThjOGNlZTAwMmMzOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80NGUxN2Y0YjU2Y2Y0YTEyODdhMjViYjRhOTE1NjdlZSA9ICQoJzxkaXYgaWQ9Imh0bWxfNDRlMTdmNGI1NmNmNGExMjg3YTI1YmI0YTkxNTY3ZWUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkdvbGRlbiBNaWxlLCBDbGFpcmxlYSwgT2FrcmlkZ2UgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84NDlhMTQwYTdhNTI0M2ViOTYzNThjOGNlZTAwMmMzOC5zZXRDb250ZW50KGh0bWxfNDRlMTdmNGI1NmNmNGExMjg3YTI1YmI0YTkxNTY3ZWUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZTExMWVmOTMxOGVjNDY4Mjg1OGI2MzcwMmNjYjUyNzcuYmluZFBvcHVwKHBvcHVwXzg0OWExNDBhN2E1MjQzZWI5NjM1OGM4Y2VlMDAyYzM4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2FiNGFjNGNkYjJlODRhZmI5Zjc2OTcxOTVkYzllNzE1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzU3NDkwMiwtNzkuMzc0NzE0MDk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYWJiZDY3MzZiNDBlNDJiNzhkNTVmNmFiYWM2YzI5ZjYgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMDA0MWM2NTFjNGM2NDAzYmJiNDFiNzE3NTI5NjQwNTkgPSAkKCc8ZGl2IGlkPSJodG1sXzAwNDFjNjUxYzRjNjQwM2JiYjQxYjcxNzUyOTY0MDU5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Zb3JrIE1pbGxzLCBTaWx2ZXIgSGlsbHMgQ2x1c3RlciAwPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hYmJkNjczNmI0MGU0MmI3OGQ1NWY2YWJhYzZjMjlmNi5zZXRDb250ZW50KGh0bWxfMDA0MWM2NTFjNGM2NDAzYmJiNDFiNzE3NTI5NjQwNTkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYWI0YWM0Y2RiMmU4NGFmYjlmNzY5NzE5NWRjOWU3MTUuYmluZFBvcHVwKHBvcHVwX2FiYmQ2NzM2YjQwZTQyYjc4ZDU1ZjZhYmFjNmMyOWY2KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzM4Njg1ZmZkMDM1YTQ5N2Y5NWM0YWFkNzVkM2RlMzQ0ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzM5MDE0NiwtNzkuNTA2OTQzNl0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODBmZmI0IiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwZmZiNCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9iNjk1NTZmZjQ5NzE0ZWUwOTBjMzNhNTg1ODgzYmJmYSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hZTE2ODNiMzBkYjM0Nzk2ODY0NGVhZjdlNTM3YzI2ZiA9ICQoJzxkaXYgaWQ9Imh0bWxfYWUxNjgzYjMwZGIzNDc5Njg2NDRlYWY3ZTUzN2MyNmYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRvd25zdmlldyBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2I2OTU1NmZmNDk3MTRlZTA5MGMzM2E1ODU4ODNiYmZhLnNldENvbnRlbnQoaHRtbF9hZTE2ODNiMzBkYjM0Nzk2ODY0NGVhZjdlNTM3YzI2Zik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zODY4NWZmZDAzNWE0OTdmOTVjNGFhZDc1ZDNkZTM0NC5iaW5kUG9wdXAocG9wdXBfYjY5NTU2ZmY0OTcxNGVlMDkwYzMzYTU4NTg4M2JiZmEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNmEyMjZmYjllOTIzNDYwMzk1OTZjMjZlOTQ3MmVlYmYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Njg5OTg1LC03OS4zMTU1NzE1OTk5OTk5OF0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82NzAzMGIzM2FhYjY0MWY3YjQwNTVkNmZiMTIxOGRhNiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81MzliODljOWZkODk0NWM0YjAyNDIwY2M5ZmMzZWFlMiA9ICQoJzxkaXYgaWQ9Imh0bWxfNTM5Yjg5YzlmZDg5NDVjNGIwMjQyMGNjOWZjM2VhZTIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkluZGlhIEJhemFhciwgVGhlIEJlYWNoZXMgV2VzdCBDbHVzdGVyIDA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzY3MDMwYjMzYWFiNjQxZjdiNDA1NWQ2ZmIxMjE4ZGE2LnNldENvbnRlbnQoaHRtbF81MzliODljOWZkODk0NWM0YjAyNDIwY2M5ZmMzZWFlMik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82YTIyNmZiOWU5MjM0NjAzOTU5NmMyNmU5NDcyZWViZi5iaW5kUG9wdXAocG9wdXBfNjcwMzBiMzNhYWI2NDFmN2I0MDU1ZDZmYjEyMThkYTYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNTA1MTc2NDBhZGE5NGMxNWJhYjI4NGEyNjk1MDEwMzYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NDgxOTg1LC03OS4zNzk4MTY5MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF82YmFiMzRlMDJmZDk0OWZmYTgxNGUzNGUyYTk0ODcwMiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9hYmM0YmE0MDk5ZmY0YzU3YmI0Y2Y1YTJkM2JiNDAxYyA9ICQoJzxkaXYgaWQ9Imh0bWxfYWJjNGJhNDA5OWZmNGM1N2JiNGNmNWEyZDNiYjQwMWMiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNvbW1lcmNlIENvdXJ0LCBWaWN0b3JpYSBIb3RlbCBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzZiYWIzNGUwMmZkOTQ5ZmZhODE0ZTM0ZTJhOTQ4NzAyLnNldENvbnRlbnQoaHRtbF9hYmM0YmE0MDk5ZmY0YzU3YmI0Y2Y1YTJkM2JiNDAxYyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81MDUxNzY0MGFkYTk0YzE1YmFiMjg0YTI2OTUwMTAzNi5iaW5kUG9wdXAocG9wdXBfNmJhYjM0ZTAyZmQ5NDlmZmE4MTRlMzRlMmE5NDg3MDIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfODJkNzU2ZTI0MDQwNDc5ZjllNmZiY2FhMmJmY2FkMmYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTM3NTYyMDAwMDAwMDYsLTc5LjQ5MDA3MzhdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNGVmYWI3OWVhMGZhNGU2M2I3Y2I5MmMwOWQyMzhiZmQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYTExZGFkOGEwMDIwNGQwMjk1YjAyZDQ0YTFlZTE0YmEgPSAkKCc8ZGl2IGlkPSJodG1sX2ExMWRhZDhhMDAyMDRkMDI5NWIwMmQ0NGExZWUxNGJhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ob3J0aCBQYXJrLCBNYXBsZSBMZWFmIFBhcmssIFVwd29vZCBQYXJrIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNGVmYWI3OWVhMGZhNGU2M2I3Y2I5MmMwOWQyMzhiZmQuc2V0Q29udGVudChodG1sX2ExMWRhZDhhMDAyMDRkMDI5NWIwMmQ0NGExZWUxNGJhKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzgyZDc1NmUyNDA0MDQ3OWY5ZTZmYmNhYTJiZmNhZDJmLmJpbmRQb3B1cChwb3B1cF80ZWZhYjc5ZWEwZmE0ZTYzYjdjYjkyYzA5ZDIzOGJmZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85NzhiYWQyYWZiM2I0ZjNkOWE4ZjRlNWUyMzA5MjZhZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1NjMwMzMsLTc5LjU2NTk2MzI5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiMwMGI1ZWIiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMDBiNWViIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzQwM2RjZTc2MzU2YTQyZTJhZDNhZTI0Zjc2OTQ1YTM3ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzE5OWE1NmQ5NWZhMTQ0Yjc5ZWFmMGYyZmRiMzlhMDVlID0gJCgnPGRpdiBpZD0iaHRtbF8xOTlhNTZkOTVmYTE0NGI3OWVhZjBmMmZkYjM5YTA1ZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SHVtYmVyIFN1bW1pdCBDbHVzdGVyIDI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzQwM2RjZTc2MzU2YTQyZTJhZDNhZTI0Zjc2OTQ1YTM3LnNldENvbnRlbnQoaHRtbF8xOTlhNTZkOTVmYTE0NGI3OWVhZjBmMmZkYjM5YTA1ZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85NzhiYWQyYWZiM2I0ZjNkOWE4ZjRlNWUyMzA5MjZhZS5iaW5kUG9wdXAocG9wdXBfNDAzZGNlNzYzNTZhNDJlMmFkM2FlMjRmNzY5NDVhMzcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfYjBkZTdiNGUyZTBkNDcyYmIwMzJiMDg1YzZmYTQwYTYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTYzMTYsLTc5LjIzOTQ3NjA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzNiYTViZmQxZDdhZjRlM2FiZmY2NTIxN2IzYzAxMjY5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2FlNTExZjlkMmY1OTRiYzhhZjY2Y2NiYTM1ZTZhOGQxID0gJCgnPGRpdiBpZD0iaHRtbF9hZTUxMWY5ZDJmNTk0YmM4YWY2NmNjYmEzNWU2YThkMSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Q2xpZmZzaWRlLCBDbGlmZmNyZXN0LCBTY2FyYm9yb3VnaCBWaWxsYWdlIFdlc3QgQ2x1c3RlciAwPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8zYmE1YmZkMWQ3YWY0ZTNhYmZmNjUyMTdiM2MwMTI2OS5zZXRDb250ZW50KGh0bWxfYWU1MTFmOWQyZjU5NGJjOGFmNjZjY2JhMzVlNmE4ZDEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYjBkZTdiNGUyZTBkNDcyYmIwMzJiMDg1YzZmYTQwYTYuYmluZFBvcHVwKHBvcHVwXzNiYTViZmQxZDdhZjRlM2FiZmY2NTIxN2IzYzAxMjY5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzNiMGQ1NTQyZmU1YzRmNTFhNzQ4MDk3ZGJkYTkzMzY5ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzg5MDUzLC03OS40MDg0OTI3OTk5OTk5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjMDBiNWViIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzAwYjVlYiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81MTdhNTIyZDgxZjY0NzgyYjBmYTVmNzg5NTQ0MmMxMyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81OWU1ZGMxNmQ0YmE0OTk3YTk4ODgyYWU1MzJiNmZiNCA9ICQoJzxkaXYgaWQ9Imh0bWxfNTllNWRjMTZkNGJhNDk5N2E5ODg4MmFlNTMyYjZmYjQiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldpbGxvd2RhbGUsIE5ld3RvbmJyb29rIENsdXN0ZXIgMjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTE3YTUyMmQ4MWY2NDc4MmIwZmE1Zjc4OTU0NDJjMTMuc2V0Q29udGVudChodG1sXzU5ZTVkYzE2ZDRiYTQ5OTdhOTg4ODJhZTUzMmI2ZmI0KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzNiMGQ1NTQyZmU1YzRmNTFhNzQ4MDk3ZGJkYTkzMzY5LmJpbmRQb3B1cChwb3B1cF81MTdhNTIyZDgxZjY0NzgyYjBmYTVmNzg5NTQ0MmMxMyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8xMTIyZGJiNDk0ODc0YzQyODIzZmRhNjI3ZTM3NzVjMyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcyODQ5NjQsLTc5LjQ5NTY5NzQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzBiZGE0MjE0ZWYwNDQwZTViYjllMjljYTVkZjk1ZTM4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzBiMzk5ZWI2Njc5NzQzZWY5NWFmYzdlMjM0M2VmZWVlID0gJCgnPGRpdiBpZD0iaHRtbF8wYjM5OWViNjY3OTc0M2VmOTVhZmM3ZTIzNDNlZmVlZSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG93bnN2aWV3IENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMGJkYTQyMTRlZjA0NDBlNWJiOWUyOWNhNWRmOTVlMzguc2V0Q29udGVudChodG1sXzBiMzk5ZWI2Njc5NzQzZWY5NWFmYzdlMjM0M2VmZWVlKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzExMjJkYmI0OTQ4NzRjNDI4MjNmZGE2MjdlMzc3NWMzLmJpbmRQb3B1cChwb3B1cF8wYmRhNDIxNGVmMDQ0MGU1YmI5ZTI5Y2E1ZGY5NWUzOCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81NmJiNWM3NWM1MWM0ZDE5YWJjYjE3OTZmMjQwMTZmNSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1OTUyNTUsLTc5LjM0MDkyM10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hYjcyYWMzZGRiZWI0YTA0YTBiNTQ0Nzc4NGE4NGViZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF85NzBkZGQwZDA1ZTc0MDk1OWYxNDU3MGIyY2Q5Njc3MCA9ICQoJzxkaXYgaWQ9Imh0bWxfOTcwZGRkMGQwNWU3NDA5NTlmMTQ1NzBiMmNkOTY3NzAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlN0dWRpbyBEaXN0cmljdCBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2FiNzJhYzNkZGJlYjRhMDRhMGI1NDQ3Nzg0YTg0ZWJmLnNldENvbnRlbnQoaHRtbF85NzBkZGQwZDA1ZTc0MDk1OWYxNDU3MGIyY2Q5Njc3MCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81NmJiNWM3NWM1MWM0ZDE5YWJjYjE3OTZmMjQwMTZmNS5iaW5kUG9wdXAocG9wdXBfYWI3MmFjM2RkYmViNGEwNGEwYjU0NDc3ODRhODRlYmYpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMmZkM2ZiNjQ1MTNjNDVmZjg4OGIzYjgwMjI2ZDA1YzYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MzMyODI1LC03OS40MTk3NDk3XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzUxY2MzMDI4OTA2YzRjOTdhMWEwY2UwODgxYjY4NzJiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2I5ODg2MTRiY2QzMTQ3NzBiODgwMWQ3NDg2YTRlOGZiID0gJCgnPGRpdiBpZD0iaHRtbF9iOTg4NjE0YmNkMzE0NzcwYjg4MDFkNzQ4NmE0ZThmYiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QmVkZm9yZCBQYXJrLCBMYXdyZW5jZSBNYW5vciBFYXN0IENsdXN0ZXIgMTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTFjYzMwMjg5MDZjNGM5N2ExYTBjZTA4ODFiNjg3MmIuc2V0Q29udGVudChodG1sX2I5ODg2MTRiY2QzMTQ3NzBiODgwMWQ3NDg2YTRlOGZiKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzJmZDNmYjY0NTEzYzQ1ZmY4ODhiM2I4MDIyNmQwNWM2LmJpbmRQb3B1cChwb3B1cF81MWNjMzAyODkwNmM0Yzk3YTFhMGNlMDg4MWI2ODcyYik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl84NjlmMWFmNmFlMTk0MDQ0ODEzY2VlZTUzNjczZTU3YSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY5MTExNTgsLTc5LjQ3NjAxMzI5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzgxYmRhNDFiMTUxZDQxNzY4MzljNzA2NzQ3ZWJkMWMzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2Q3YjFmODg5MmQ0YTQyZTlhNzI2NDk5MTQ2NmQzYTRmID0gJCgnPGRpdiBpZD0iaHRtbF9kN2IxZjg4OTJkNGE0MmU5YTcyNjQ5OTE0NjZkM2E0ZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RGVsIFJheSwgTW91bnQgRGVubmlzLCBLZWVsc2RhbGUgYW5kIFNpbHZlcnRob3JuIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfODFiZGE0MWIxNTFkNDE3NjgzOWM3MDY3NDdlYmQxYzMuc2V0Q29udGVudChodG1sX2Q3YjFmODg5MmQ0YTQyZTlhNzI2NDk5MTQ2NmQzYTRmKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzg2OWYxYWY2YWUxOTQwNDQ4MTNjZWVlNTM2NzNlNTdhLmJpbmRQb3B1cChwb3B1cF84MWJkYTQxYjE1MWQ0MTc2ODM5YzcwNjc0N2ViZDFjMyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl81MzU4NGU1NDg4MWU0ODRmOTFmZTgxYzZhMjk4YzdmZCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcyNDc2NTksLTc5LjUzMjI0MjQwMDAwMDAyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZmIzNjAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmZiMzYwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzY3ODA4N2ZlZGE2MTRlMjM5OTYwNWE4YzVmZTg3YzJhID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzM2M2EwNTE2ZmE0MTQzMWNhMzM5MmIzMGE3YzJiNmJmID0gJCgnPGRpdiBpZD0iaHRtbF8zNjNhMDUxNmZhNDE0MzFjYTMzOTJiMzBhN2MyYjZiZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+SHVtYmVybGVhLCBFbWVyeSBDbHVzdGVyIDQ8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzY3ODA4N2ZlZGE2MTRlMjM5OTYwNWE4YzVmZTg3YzJhLnNldENvbnRlbnQoaHRtbF8zNjNhMDUxNmZhNDE0MzFjYTMzOTJiMzBhN2MyYjZiZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81MzU4NGU1NDg4MWU0ODRmOTFmZTgxYzZhMjk4YzdmZC5iaW5kUG9wdXAocG9wdXBfNjc4MDg3ZmVkYTYxNGUyMzk5NjA1YThjNWZlODdjMmEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMjQ5OWNhNGFjOTlkNDhkOWIzZDViOTMyYzkxNGFhYTYgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42OTI2NTcwMDAwMDAwMDQsLTc5LjI2NDg0ODFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZjdlMzBlMzc1ZDE1NDliYzkzZDQ2OTBhNzZhZDExNGIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNzc4M2E2NWIwYzFlNGE0YmFmYWFhOGI5ZjI0Yzg2MDQgPSAkKCc8ZGl2IGlkPSJodG1sXzc3ODNhNjViMGMxZTRhNGJhZmFhYThiOWYyNGM4NjA0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CaXJjaCBDbGlmZiwgQ2xpZmZzaWRlIFdlc3QgQ2x1c3RlciAxPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mN2UzMGUzNzVkMTU0OWJjOTNkNDY5MGE3NmFkMTE0Yi5zZXRDb250ZW50KGh0bWxfNzc4M2E2NWIwYzFlNGE0YmFmYWFhOGI5ZjI0Yzg2MDQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMjQ5OWNhNGFjOTlkNDhkOWIzZDViOTMyYzkxNGFhYTYuYmluZFBvcHVwKHBvcHVwX2Y3ZTMwZTM3NWQxNTQ5YmM5M2Q0NjkwYTc2YWQxMTRiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2Y0MjJhZDYxMjUxODQzNGViMjBlMzQzNGZmYTEyYWMyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzcwMTE5OSwtNzkuNDA4NDkyNzk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZGFhY2M1NWU2NmVlNGExYWFkY2UwM2VhZjNjYjdlYjkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZGZiZDcxZGQ5NzIwNGVmN2JiOGQxMDUyZGMzNmFkOGEgPSAkKCc8ZGl2IGlkPSJodG1sX2RmYmQ3MWRkOTcyMDRlZjdiYjhkMTA1MmRjMzZhZDhhIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5XaWxsb3dkYWxlLCBXaWxsb3dkYWxlIEVhc3QgQ2x1c3RlciAxPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kYWFjYzU1ZTY2ZWU0YTFhYWRjZTAzZWFmM2NiN2ViOS5zZXRDb250ZW50KGh0bWxfZGZiZDcxZGQ5NzIwNGVmN2JiOGQxMDUyZGMzNmFkOGEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZjQyMmFkNjEyNTE4NDM0ZWIyMGUzNDM0ZmZhMTJhYzIuYmluZFBvcHVwKHBvcHVwX2RhYWNjNTVlNjZlZTRhMWFhZGNlMDNlYWYzY2I3ZWI5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2JhM2ZiNTcyZjgzMTQ5YTI5NjRlN2E2N2M3ZTdkNjFkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzYxNjMxMywtNzkuNTIwOTk5NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMDJmOWExMjBmMWI4NGVhYWJmNTk2MzBhYmZhOTViODkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNjY1MTkzMmQxOGIzNDE5MmJhNjdkYzE2MjNjYWY3NDMgPSAkKCc8ZGl2IGlkPSJodG1sXzY2NTE5MzJkMThiMzQxOTJiYTY3ZGMxNjIzY2FmNzQzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Eb3duc3ZpZXcgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wMmY5YTEyMGYxYjg0ZWFhYmY1OTYzMGFiZmE5NWI4OS5zZXRDb250ZW50KGh0bWxfNjY1MTkzMmQxOGIzNDE5MmJhNjdkYzE2MjNjYWY3NDMpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYmEzZmI1NzJmODMxNDlhMjk2NGU3YTY3YzdlN2Q2MWQuYmluZFBvcHVwKHBvcHVwXzAyZjlhMTIwZjFiODRlYWFiZjU5NjMwYWJmYTk1Yjg5KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzZjODU3OGMyOTg3MTRiNjhiNTQwYWJkOTYwMTYyMWEzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzI4MDIwNSwtNzkuMzg4NzkwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjMDBiNWViIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzAwYjVlYiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF8wMjc0ZWZhZWU3NmE0MTc2YjA0OTVlZjlkYmQxZTRjNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9lMWNkNTk2Njk4YjU0YjhhOTUyM2E1ZTliZmVhY2Q4MiA9ICQoJzxkaXYgaWQ9Imh0bWxfZTFjZDU5NjY5OGI1NGI4YTk1MjNhNWU5YmZlYWNkODIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkxhd3JlbmNlIFBhcmsgQ2x1c3RlciAyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wMjc0ZWZhZWU3NmE0MTc2YjA0OTVlZjlkYmQxZTRjNS5zZXRDb250ZW50KGh0bWxfZTFjZDU5NjY5OGI1NGI4YTk1MjNhNWU5YmZlYWNkODIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfNmM4NTc4YzI5ODcxNGI2OGI1NDBhYmQ5NjAxNjIxYTMuYmluZFBvcHVwKHBvcHVwXzAyNzRlZmFlZTc2YTQxNzZiMDQ5NWVmOWRiZDFlNGM1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2E3NDZjOWFlYWY4NzQ3ZDY4NjhlYTAyYTU3ZTI2ZTU2ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzExNjk0OCwtNzkuNDE2OTM1NTk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNjExNGQ0M2Y5YjljNDU1NzlhOTBlNjFjNGQ2M2E5ZDIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYWVmZDgzZTBjN2IwNDdhOWIzYThmMDFmNWU0ZDAxMTAgPSAkKCc8ZGl2IGlkPSJodG1sX2FlZmQ4M2UwYzdiMDQ3YTliM2E4ZjAxZjVlNGQwMTEwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Sb3NlbGF3biBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzYxMTRkNDNmOWI5YzQ1NTc5YTkwZTYxYzRkNjNhOWQyLnNldENvbnRlbnQoaHRtbF9hZWZkODNlMGM3YjA0N2E5YjNhOGYwMWY1ZTRkMDExMCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9hNzQ2YzlhZWFmODc0N2Q2ODY4ZWEwMmE1N2UyNmU1Ni5iaW5kUG9wdXAocG9wdXBfNjExNGQ0M2Y5YjljNDU1NzlhOTBlNjFjNGQ2M2E5ZDIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNjFmNDYyMGY3OGVkNGY2NmJkMTRhNjNjMzg5MjhiOTEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NzMxODUyOTk5OTk5OSwtNzkuNDg3MjYxOTAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNmJkNzc3NjE3ODE3NGJmZDhiYWYyZjZjZGM2MjU1YWMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOWEwODhmM2VhNWFhNDQ1MGE4MjkxM2RjNDVlN2Y1Y2UgPSAkKCc8ZGl2IGlkPSJodG1sXzlhMDg4ZjNlYTVhYTQ0NTBhODI5MTNkYzQ1ZTdmNWNlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5SdW5ueW1lZGUsIFRoZSBKdW5jdGlvbiBOb3J0aCBDbHVzdGVyIDA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzZiZDc3NzYxNzgxNzRiZmQ4YmFmMmY2Y2RjNjI1NWFjLnNldENvbnRlbnQoaHRtbF85YTA4OGYzZWE1YWE0NDUwYTgyOTEzZGM0NWU3ZjVjZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl82MWY0NjIwZjc4ZWQ0ZjY2YmQxNGE2M2MzODkyOGI5MS5iaW5kUG9wdXAocG9wdXBfNmJkNzc3NjE3ODE3NGJmZDhiYWYyZjZjZGM2MjU1YWMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNWJiOWNkNGFiOGM4NGQzYzlkN2Q5NDc2MjEyOTI5NTUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDY4NzYsLTc5LjUxODE4ODQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiMwMGI1ZWIiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMDBiNWViIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzEyNDY4OGViZjJiZjQyMmU4MWQyNTdhNmJlNDk2YWM4ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzg4YzhmYThhNzExNjQwZGViYjljZjIyYThkNTQzMjYxID0gJCgnPGRpdiBpZD0iaHRtbF84OGM4ZmE4YTcxMTY0MGRlYmI5Y2YyMmE4ZDU0MzI2MSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+V2VzdG9uIENsdXN0ZXIgMjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMTI0Njg4ZWJmMmJmNDIyZTgxZDI1N2E2YmU0OTZhYzguc2V0Q29udGVudChodG1sXzg4YzhmYThhNzExNjQwZGViYjljZjIyYThkNTQzMjYxKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzViYjljZDRhYjhjODRkM2M5ZDdkOTQ3NjIxMjkyOTU1LmJpbmRQb3B1cChwb3B1cF8xMjQ2ODhlYmYyYmY0MjJlODFkMjU3YTZiZTQ5NmFjOCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wYmM2OWUzMTdkYmM0N2I4YjBkMWVhOGM2NTNlMGRlMiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc1NzQwOTYsLTc5LjI3MzMwNDAwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MGZmYjQiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODBmZmI0IiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2E1YTIyNGY0ZmYyNzRjYjFiYzZkMzZkZWY0NTYwODNiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzUwNTk3ZGM3NGZlZDRiNDRhZjc4MjgzMTJkYzNhMTgxID0gJCgnPGRpdiBpZD0iaHRtbF81MDU5N2RjNzRmZWQ0YjQ0YWY3ODI4MzEyZGMzYTE4MSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+RG9yc2V0IFBhcmssIFdleGZvcmQgSGVpZ2h0cywgU2NhcmJvcm91Z2ggVG93biBDZW50cmUgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9hNWEyMjRmNGZmMjc0Y2IxYmM2ZDM2ZGVmNDU2MDgzYi5zZXRDb250ZW50KGh0bWxfNTA1OTdkYzc0ZmVkNGI0NGFmNzgyODMxMmRjM2ExODEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMGJjNjllMzE3ZGJjNDdiOGIwZDFlYThjNjUzZTBkZTIuYmluZFBvcHVwKHBvcHVwX2E1YTIyNGY0ZmYyNzRjYjFiYzZkMzZkZWY0NTYwODNiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzY4YTBhNjZlNjVhNjRkOTA5NzI1NTRlM2U0YWYxY2MzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzUyNzU4Mjk5OTk5OTk2LC03OS40MDAwNDkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2JiYTUzZTRiMTQxNzRiZThiMGU2NTIxMTMyODM3N2E0ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzcxMDBjNjBhMmFmYzQxN2M4YzVkNTZmMDcxNjI4ZDliID0gJCgnPGRpdiBpZD0iaHRtbF83MTAwYzYwYTJhZmM0MTdjOGM1ZDU2ZjA3MTYyOGQ5YiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+WW9yayBNaWxscyBXZXN0IENsdXN0ZXIgMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYmJhNTNlNGIxNDE3NGJlOGIwZTY1MjExMzI4Mzc3YTQuc2V0Q29udGVudChodG1sXzcxMDBjNjBhMmFmYzQxN2M4YzVkNTZmMDcxNjI4ZDliKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzY4YTBhNjZlNjVhNjRkOTA5NzI1NTRlM2U0YWYxY2MzLmJpbmRQb3B1cChwb3B1cF9iYmE1M2U0YjE0MTc0YmU4YjBlNjUyMTEzMjgzNzdhNCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9lYjdlNjU0NTc0MGU0M2Q5OTA5YWFkYmY4Y2NlNDc2ZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjcxMjc1MTEsLTc5LjM5MDE5NzVdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMTU1OGZjOGU3YzE1NDBhY2JhZTBiMmE5N2JiNjE4MGQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzI5NmQ3MGMzMmI4NDQ1NDhiMmU1OGRlMGMxMDRmMmMgPSAkKCc8ZGl2IGlkPSJodG1sX2MyOTZkNzBjMzJiODQ0NTQ4YjJlNThkZTBjMTA0ZjJjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5EYXZpc3ZpbGxlIE5vcnRoIENsdXN0ZXIgMTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMTU1OGZjOGU3YzE1NDBhY2JhZTBiMmE5N2JiNjE4MGQuc2V0Q29udGVudChodG1sX2MyOTZkNzBjMzJiODQ0NTQ4YjJlNThkZTBjMTA0ZjJjKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2ViN2U2NTQ1NzQwZTQzZDk5MDlhYWRiZjhjY2U0NzZmLmJpbmRQb3B1cChwb3B1cF8xNTU4ZmM4ZTdjMTU0MGFjYmFlMGIyYTk3YmI2MTgwZCk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85OGMzZjQ0MmQyNGI0NDVkYWNkOWIwZjgyYTEzOWNjMCA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY5Njk0NzYsLTc5LjQxMTMwNzIwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzA0NjljNGZmOTNiYjQ1MmJiMjM4NTljYmUwMmI4NmEzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzUxYTVhMzg3NjVmYjQ2ZmRhZDRhOWVhMmY4YjI1NTI5ID0gJCgnPGRpdiBpZD0iaHRtbF81MWE1YTM4NzY1ZmI0NmZkYWQ0YTllYTJmOGIyNTUyOSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+Rm9yZXN0IEhpbGwgTm9ydGggJmFtcDsgV2VzdCwgRm9yZXN0IEhpbGwgUm9hZCBQYXJrIENsdXN0ZXIgMTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMDQ2OWM0ZmY5M2JiNDUyYmIyMzg1OWNiZTAyYjg2YTMuc2V0Q29udGVudChodG1sXzUxYTVhMzg3NjVmYjQ2ZmRhZDRhOWVhMmY4YjI1NTI5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzk4YzNmNDQyZDI0YjQ0NWRhY2Q5YjBmODJhMTM5Y2MwLmJpbmRQb3B1cChwb3B1cF8wNDY5YzRmZjkzYmI0NTJiYjIzODU5Y2JlMDJiODZhMyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8xN2RiNzJkYjMyOGM0ZDA1YTUxYWM1MjE0YWZhMmQ0ZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY5NjMxOSwtNzkuNTMyMjQyNDAwMDAwMDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNmZiYTlkMzc1MWYwNDc1OTlhYjE5MTU5ZTY3MGE1OGIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYzYzZWUxNDk5ZGQ3NGM3ZTlmZDNlZjY5NWQxYzZhMjAgPSAkKCc8ZGl2IGlkPSJodG1sX2M2M2VlMTQ5OWRkNzRjN2U5ZmQzZWY2OTVkMWM2YTIwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5XZXN0bW91bnQgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF82ZmJhOWQzNzUxZjA0NzU5OWFiMTkxNTllNjcwYTU4Yi5zZXRDb250ZW50KGh0bWxfYzYzZWUxNDk5ZGQ3NGM3ZTlmZDNlZjY5NWQxYzZhMjApOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMTdkYjcyZGIzMjhjNGQwNWE1MWFjNTIxNGFmYTJkNGUuYmluZFBvcHVwKHBvcHVwXzZmYmE5ZDM3NTFmMDQ3NTk5YWIxOTE1OWU2NzBhNThiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzk1MDFkMWJhNDljOTQ2M2Y5ODk4OWQ3NmIyZTE2ZTAzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzUwMDcxNTAwMDAwMDA0LC03OS4yOTU4NDkxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiMwMGI1ZWIiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMDBiNWViIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2Q1YjdmZGQxZDhjODQ3ZTk4Zjc2MTBlYmZlZWExMzI1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzVkNGVmYzM0ZTU5ODRhN2ViZjBhZTE0MGMwYWMxMGVmID0gJCgnPGRpdiBpZD0iaHRtbF81ZDRlZmMzNGU1OTg0YTdlYmYwYWUxNDBjMGFjMTBlZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+V2V4Zm9yZCwgTWFyeXZhbGUgQ2x1c3RlciAyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9kNWI3ZmRkMWQ4Yzg0N2U5OGY3NjEwZWJmZWVhMTMyNS5zZXRDb250ZW50KGh0bWxfNWQ0ZWZjMzRlNTk4NGE3ZWJmMGFlMTQwYzBhYzEwZWYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTUwMWQxYmE0OWM5NDYzZjk4OTg5ZDc2YjJlMTZlMDMuYmluZFBvcHVwKHBvcHVwX2Q1YjdmZGQxZDhjODQ3ZTk4Zjc2MTBlYmZlZWExMzI1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2JkYTMwNjY5NTc4YzRlNWU5MzU3MzFkYmZlZjI4YWQzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzgyNzM2NCwtNzkuNDQyMjU5M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjMDBiNWViIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzAwYjVlYiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85OWU3NGQxZDAwOTc0NzRhODE4YTA2OThkZWQ4N2Q4ZSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8wOWFlNGYyZmYzMDE0NWMyODVlZjQ0YjlmZWU5NWJiNyA9ICQoJzxkaXYgaWQ9Imh0bWxfMDlhZTRmMmZmMzAxNDVjMjg1ZWY0NGI5ZmVlOTViYjciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPldpbGxvd2RhbGUsIFdpbGxvd2RhbGUgV2VzdCBDbHVzdGVyIDI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzk5ZTc0ZDFkMDA5NzQ3NGE4MThhMDY5OGRlZDg3ZDhlLnNldENvbnRlbnQoaHRtbF8wOWFlNGYyZmYzMDE0NWMyODVlZjQ0YjlmZWU5NWJiNyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9iZGEzMDY2OTU3OGM0ZTVlOTM1NzMxZGJmZWYyOGFkMy5iaW5kUG9wdXAocG9wdXBfOTllNzRkMWQwMDk3NDc0YTgxOGEwNjk4ZGVkODdkOGUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTk0MjFmNTZlZWU4NDJkMTkxYzE5ODFlMDM5Zjg1NTUgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MTUzODM0LC03OS40MDU2Nzg0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mYTg1ZGQyNjk0MDQ0NGEyOTU5MWM2Y2I3OGQ4MjM0MyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF80YWM1ZGVmMzA0MzM0OTI0YTgyNmZkY2Y4MTU2YzExZiA9ICQoJzxkaXYgaWQ9Imh0bWxfNGFjNWRlZjMwNDMzNDkyNGE4MjZmZGNmODE1NmMxMWYiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPk5vcnRoIFRvcm9udG8gV2VzdCwgTGF3cmVuY2UgUGFyayBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2ZhODVkZDI2OTQwNDQ0YTI5NTkxYzZjYjc4ZDgyMzQzLnNldENvbnRlbnQoaHRtbF80YWM1ZGVmMzA0MzM0OTI0YTgyNmZkY2Y4MTU2YzExZik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85OTQyMWY1NmVlZTg0MmQxOTFjMTk4MWUwMzlmODU1NS5iaW5kUG9wdXAocG9wdXBfZmE4NWRkMjY5NDA0NDRhMjk1OTFjNmNiNzhkODIzNDMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNjYwZTc1OWJkZDg2NDUyYzk4NjJiYjNhYWU3YzQ4OTggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NzI3MDk3LC03OS40MDU2Nzg0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9hMmYyNzU0NzIxZDc0NTQ0OGIwNDBmZDliM2RiMTQ4NyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mMGM0ZmNjM2EzYzQ0NWY3OGY0YjAxNGJjZTZlMGQyNSA9ICQoJzxkaXYgaWQ9Imh0bWxfZjBjNGZjYzNhM2M0NDVmNzhmNGIwMTRiY2U2ZTBkMjUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlRoZSBBbm5leCwgTm9ydGggTWlkdG93biwgWW9ya3ZpbGxlIENsdXN0ZXIgMTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfYTJmMjc1NDcyMWQ3NDU0NDhiMDQwZmQ5YjNkYjE0ODcuc2V0Q29udGVudChodG1sX2YwYzRmY2MzYTNjNDQ1Zjc4ZjRiMDE0YmNlNmUwZDI1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzY2MGU3NTliZGQ4NjQ1MmM5ODYyYmIzYWFlN2M0ODk4LmJpbmRQb3B1cChwb3B1cF9hMmYyNzU0NzIxZDc0NTQ0OGIwNDBmZDliM2RiMTQ4Nyk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl85ZmI5ZTlmMDM3NGI0NGZhOTE5ODQ4NDlmMmM0YjVjZSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0ODk1OTcsLTc5LjQ1NjMyNV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9jZjJlM2M5NDA1M2I0ZGVkYmYwNGIyZjMyNWQxZWFkYiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF84OWIwZjQ4ZjA2ZTY0ODg5OGQyMTE4MjQ3OTNhNjZmNSA9ICQoJzxkaXYgaWQ9Imh0bWxfODliMGY0OGYwNmU2NDg4OThkMjExODI0NzkzYTY2ZjUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlBhcmtkYWxlLCBSb25jZXN2YWxsZXMgQ2x1c3RlciAwPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jZjJlM2M5NDA1M2I0ZGVkYmYwNGIyZjMyNWQxZWFkYi5zZXRDb250ZW50KGh0bWxfODliMGY0OGYwNmU2NDg4OThkMjExODI0NzkzYTY2ZjUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOWZiOWU5ZjAzNzRiNDRmYTkxOTg0ODQ5ZjJjNGI1Y2UuYmluZFBvcHVwKHBvcHVwX2NmMmUzYzk0MDUzYjRkZWRiZjA0YjJmMzI1ZDFlYWRiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2JkMzM0NTZlYTY3OTRmNTJiZDU3Nzc1MGY0ODQzYTgzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjM2OTY1NiwtNzkuNjE1ODE4OTk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzAwYjVlYiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMwMGI1ZWIiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNTFiZmNkNjU3ZTA1NGNjZTgyNmEwNzdmMTVjMmE2ZTUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOGFhMDFlYWI5YWU1NDI4ODlkY2Q1NmY1MjM2ODlkYjggPSAkKCc8ZGl2IGlkPSJodG1sXzhhYTAxZWFiOWFlNTQyODg5ZGNkNTZmNTIzNjg5ZGI4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DYW5hZGEgUG9zdCBHYXRld2F5IFByb2Nlc3NpbmcgQ2VudHJlIENsdXN0ZXIgMjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTFiZmNkNjU3ZTA1NGNjZTgyNmEwNzdmMTVjMmE2ZTUuc2V0Q29udGVudChodG1sXzhhYTAxZWFiOWFlNTQyODg5ZGNkNTZmNTIzNjg5ZGI4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2JkMzM0NTZlYTY3OTRmNTJiZDU3Nzc1MGY0ODQzYTgzLmJpbmRQb3B1cChwb3B1cF81MWJmY2Q2NTdlMDU0Y2NlODI2YTA3N2YxNWMyYTZlNSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl83YmFkNTYyZDEyNDE0NjYwYjE2NDI3NzJmYmQ2OWU2ZiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY4ODkwNTQsLTc5LjU1NDcyNDQwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiMwMGI1ZWIiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMDBiNWViIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzlkOTI3N2U1MjFlMDQxOGRhNjAwZTMyZWZkYjA0N2Y1ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzVjYTQxNjdiMjYzYTRmN2NiOTM4N2FhMDg5MTc4ODliID0gJCgnPGRpdiBpZD0iaHRtbF81Y2E0MTY3YjI2M2E0ZjdjYjkzODdhYTA4OTE3ODg5YiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+S2luZ3N2aWV3IFZpbGxhZ2UsIFN0LiBQaGlsbGlwcywgTWFydGluIEdyb3ZlIEdhcmRlbnMsIFJpY2h2aWV3IEdhcmRlbnMgQ2x1c3RlciAyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85ZDkyNzdlNTIxZTA0MThkYTYwMGUzMmVmZGIwNDdmNS5zZXRDb250ZW50KGh0bWxfNWNhNDE2N2IyNjNhNGY3Y2I5Mzg3YWEwODkxNzg4OWIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfN2JhZDU2MmQxMjQxNDY2MGIxNjQyNzcyZmJkNjllNmYuYmluZFBvcHVwKHBvcHVwXzlkOTI3N2U1MjFlMDQxOGRhNjAwZTMyZWZkYjA0N2Y1KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzAzODNkNzEzYTg0ODRlMjY5YmM4YmZmMzRhYmRiY2M1ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzk0MjAwMywtNzkuMjYyMDI5NDAwMDAwMDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzAwYjVlYiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMwMGI1ZWIiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOGY1NmY1YzU4NDI4NGNiMmI3NTU0ZWUyMzVmYTA2NGMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfMTJhNjQzMmY0ZDEzNDJlNDg5YzY2ODVjMDRkZmYyM2QgPSAkKCc8ZGl2IGlkPSJodG1sXzEyYTY0MzJmNGQxMzQyZTQ4OWM2Njg1YzA0ZGZmMjNkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5BZ2luY291cnQgQ2x1c3RlciAyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84ZjU2ZjVjNTg0Mjg0Y2IyYjc1NTRlZTIzNWZhMDY0Yy5zZXRDb250ZW50KGh0bWxfMTJhNjQzMmY0ZDEzNDJlNDg5YzY2ODVjMDRkZmYyM2QpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMDM4M2Q3MTNhODQ4NGUyNjliYzhiZmYzNGFiZGJjYzUuYmluZFBvcHVwKHBvcHVwXzhmNTZmNWM1ODQyODRjYjJiNzU1NGVlMjM1ZmEwNjRjKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2JkZDNlZDhiNjUxNDRhNTc5MGI5M2Q4NzgwYjNmZTlhID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNzA0MzI0NCwtNzkuMzg4NzkwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjODAwMGZmIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzgwMDBmZiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9mYTIzNzc1NmMzMzM0Y2YwYjA4ODViZjc2ZDNhMjZkZiA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF82NmNmMjk0OWNlNTk0M2VlOWJkZDIyMzkzMGYxMjk5ZSA9ICQoJzxkaXYgaWQ9Imh0bWxfNjZjZjI5NDljZTU5NDNlZTliZGQyMjM5MzBmMTI5OWUiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkRhdmlzdmlsbGUgQ2x1c3RlciAxPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mYTIzNzc1NmMzMzM0Y2YwYjA4ODViZjc2ZDNhMjZkZi5zZXRDb250ZW50KGh0bWxfNjZjZjI5NDljZTU5NDNlZTliZGQyMjM5MzBmMTI5OWUpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYmRkM2VkOGI2NTE0NGE1NzkwYjkzZDg3ODBiM2ZlOWEuYmluZFBvcHVwKHBvcHVwX2ZhMjM3NzU2YzMzMzRjZjBiMDg4NWJmNzZkM2EyNmRmKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzlmZjEyMDQ4Zjg0MzQ3NmI5YzMwMzBlMThjZWE5Yzc3ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjYyNjk1NiwtNzkuNDAwMDQ5M10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF9kMTllNDhlZGRhM2E0NWIxODlkMTBhMzk0OWE2NzE4NyA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9mMTdkM2FhZDFjNGU0N2E0YjYyMzJiZTU1YjkwZjA4MCA9ICQoJzxkaXYgaWQ9Imh0bWxfZjE3ZDNhYWQxYzRlNDdhNGI2MjMyYmU1NWI5MGYwODAiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlVuaXZlcnNpdHkgb2YgVG9yb250bywgSGFyYm9yZCBDbHVzdGVyIDA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2QxOWU0OGVkZGEzYTQ1YjE4OWQxMGEzOTQ5YTY3MTg3LnNldENvbnRlbnQoaHRtbF9mMTdkM2FhZDFjNGU0N2E0YjYyMzJiZTU1YjkwZjA4MCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl85ZmYxMjA0OGY4NDM0NzZiOWMzMDMwZTE4Y2VhOWM3Ny5iaW5kUG9wdXAocG9wdXBfZDE5ZTQ4ZWRkYTNhNDViMTg5ZDEwYTM5NDlhNjcxODcpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfZTc5ODQ4MmIxMWU1NDhkMmI0YTAyMWJkOWJkNWQyMjEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTE1NzA2LC03OS40ODQ0NDk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2NjNjRkYzc0NGRmZTRmYmNhZWY0MWU5MWVmZjRlZDg2ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzFkMDc4ZGI1MzllNTQ1ODJiYmE1OTkwYTI2NjQ0OGM1ID0gJCgnPGRpdiBpZD0iaHRtbF8xZDA3OGRiNTM5ZTU0NTgyYmJhNTk5MGEyNjY0NDhjNSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+UnVubnltZWRlLCBTd2Fuc2VhIENsdXN0ZXIgMTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfY2M2NGRjNzQ0ZGZlNGZiY2FlZjQxZTkxZWZmNGVkODYuc2V0Q29udGVudChodG1sXzFkMDc4ZGI1MzllNTQ1ODJiYmE1OTkwYTI2NjQ0OGM1KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2U3OTg0ODJiMTFlNTQ4ZDJiNGEwMjFiZDliZDVkMjIxLmJpbmRQb3B1cChwb3B1cF9jYzY0ZGM3NDRkZmU0ZmJjYWVmNDFlOTFlZmY0ZWQ4Nik7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl80NTA3NDg2MzNlNTU0YzA4YWM2YTdiNDI5YmI1NDU3MSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc4MTYzNzUsLTc5LjMwNDMwMjFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzAwYjVlYiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMwMGI1ZWIiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZDFjZDYwNzgxY2ZmNGI0YzgxZmVhYTllZGNjMGNmN2UgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODcwY2E2MDZjOTRhNGI2NGJkNDZjMDNiOWFjZDc5YzkgPSAkKCc8ZGl2IGlkPSJodG1sXzg3MGNhNjA2Yzk0YTRiNjRiZDQ2YzAzYjlhY2Q3OWM5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DbGFya3MgQ29ybmVycywgVGFtIE8mIzM5O1NoYW50ZXIsIFN1bGxpdmFuIENsdXN0ZXIgMjwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfZDFjZDYwNzgxY2ZmNGI0YzgxZmVhYTllZGNjMGNmN2Uuc2V0Q29udGVudChodG1sXzg3MGNhNjA2Yzk0YTRiNjRiZDQ2YzAzYjlhY2Q3OWM5KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzQ1MDc0ODYzM2U1NTRjMDhhYzZhN2I0MjliYjU0NTcxLmJpbmRQb3B1cChwb3B1cF9kMWNkNjA3ODFjZmY0YjRjODFmZWFhOWVkY2MwY2Y3ZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zMjBlMGZkNDE1ZmQ0ZWJlODQzNTkzOTRjNmEwMDRjYyA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY4OTU3NDMsLTc5LjM4MzE1OTkwMDAwMDAxXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzJkMTNmYzA4ODY4NDQ3NGFiMDk3MjQyN2M5NWQ0NzllID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzRmNDYyODY4YjRjNTRhYmNhNjk5MWNhZTk0YzkxOWU2ID0gJCgnPGRpdiBpZD0iaHRtbF80ZjQ2Mjg2OGI0YzU0YWJjYTY5OTFjYWU5NGM5MTllNiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TW9vcmUgUGFyaywgU3VtbWVyaGlsbCBFYXN0IENsdXN0ZXIgMTwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMmQxM2ZjMDg4Njg0NDc0YWIwOTcyNDI3Yzk1ZDQ3OWUuc2V0Q29udGVudChodG1sXzRmNDYyODY4YjRjNTRhYmNhNjk5MWNhZTk0YzkxOWU2KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzMyMGUwZmQ0MTVmZDRlYmU4NDM1OTM5NGM2YTAwNGNjLmJpbmRQb3B1cChwb3B1cF8yZDEzZmMwODg2ODQ0NzRhYjA5NzI0MjdjOTVkNDc5ZSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8zODE3YzkyZjVkYTA0MzQ3OTIyZmIwZTA3NmYzNzVlYiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY1MzIwNTcsLTc5LjQwMDA0OTNdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwMDBmZiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MDAwZmYiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfOTBkMzhiMjcyMDhjNDFlNDgzYjA5NzdkOGY4MDZkM2IgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfODA3OGYyYTdiNWEyNDY4NmFjMjI2ODkxMWM1ODYyOTMgPSAkKCc8ZGl2IGlkPSJodG1sXzgwNzhmMmE3YjVhMjQ2ODZhYzIyNjg5MTFjNTg2MjkzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5LZW5zaW5ndG9uIE1hcmtldCwgQ2hpbmF0b3duLCBHcmFuZ2UgUGFyayBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzkwZDM4YjI3MjA4YzQxZTQ4M2IwOTc3ZDhmODA2ZDNiLnNldENvbnRlbnQoaHRtbF84MDc4ZjJhN2I1YTI0Njg2YWMyMjY4OTExYzU4NjI5Myk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8zODE3YzkyZjVkYTA0MzQ3OTIyZmIwZTA3NmYzNzVlYi5iaW5kUG9wdXAocG9wdXBfOTBkMzhiMjcyMDhjNDFlNDgzYjA5NzdkOGY4MDZkM2IpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMTEyOTQ3ZTVlZDAzNDBhY2JlZDY1ZjA2MWE4MDUxYjggPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My44MTUyNTIyLC03OS4yODQ1NzcyXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzNjMjBmNjk5NGJhMjQ1MzRiMzRhOWU2OWEwZjY0OGQ5ID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzE3MzAwNjg0MmVkODQzMTRhMWYyOTVkMGJkZjY1M2Y4ID0gJCgnPGRpdiBpZD0iaHRtbF8xNzMwMDY4NDJlZDg0MzE0YTFmMjk1ZDBiZGY2NTNmOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+TWlsbGlrZW4sIEFnaW5jb3VydCBOb3J0aCwgU3RlZWxlcyBFYXN0LCBMJiMzOTtBbW9yZWF1eCBFYXN0IENsdXN0ZXIgMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfM2MyMGY2OTk0YmEyNDUzNGIzNGE5ZTY5YTBmNjQ4ZDkuc2V0Q29udGVudChodG1sXzE3MzAwNjg0MmVkODQzMTRhMWYyOTVkMGJkZjY1M2Y4KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzExMjk0N2U1ZWQwMzQwYWNiZWQ2NWYwNjFhODA1MWI4LmJpbmRQb3B1cChwb3B1cF8zYzIwZjY5OTRiYTI0NTM0YjM0YTllNjlhMGY2NDhkOSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9hYmIwZDk2MDBiNDQ0YTM0YWQyY2UzMDQxZmQ2NGE3YSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY4NjQxMjI5OTk5OTk5LC03OS40MDAwNDkzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzliOTI1MGQwMmZiYTRhOWJhZDVhMTYzNWY1ZGNjZGIzID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2RmNGRkZTlmZDhlYjQ5YzNhZjBmZmIyNGE2ZjVlMTYyID0gJCgnPGRpdiBpZD0iaHRtbF9kZjRkZGU5ZmQ4ZWI0OWMzYWYwZmZiMjRhNmY1ZTE2MiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U3VtbWVyaGlsbCBXZXN0LCBSYXRobmVsbHksIFNvdXRoIEhpbGwsIEZvcmVzdCBIaWxsIFNFLCBEZWVyIFBhcmsgQ2x1c3RlciAxPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF85YjkyNTBkMDJmYmE0YTliYWQ1YTE2MzVmNWRjY2RiMy5zZXRDb250ZW50KGh0bWxfZGY0ZGRlOWZkOGViNDljM2FmMGZmYjI0YTZmNWUxNjIpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfYWJiMGQ5NjAwYjQ0NGEzNGFkMmNlMzA0MWZkNjRhN2EuYmluZFBvcHVwKHBvcHVwXzliOTI1MGQwMmZiYTRhOWJhZDVhMTYzNWY1ZGNjZGIzKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2NiNjY3YjhkMjZmNzQ4YTRhNWUwZTAzMjBhNGI0MWExID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjI4OTQ2NywtNzkuMzk0NDE5OV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF80NTk4Yzg3N2JkMGQ0ODAwODExZTQzYjRhZGNlMzVlOCA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF81YzI5NGZiZWU1Y2Q0Y2Q5OWQ0ZmQ3MWMxMzg3ZTY3NyA9ICQoJzxkaXYgaWQ9Imh0bWxfNWMyOTRmYmVlNWNkNGNkOTlkNGZkNzFjMTM4N2U2NzciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPkNOIFRvd2VyLCBLaW5nIGFuZCBTcGFkaW5hLCBSYWlsd2F5IExhbmRzLCBIYXJib3VyZnJvbnQgV2VzdCwgQmF0aHVyc3QgUXVheSwgU291dGggTmlhZ2FyYSwgSXNsYW5kIGFpcnBvcnQgQ2x1c3RlciAwPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF80NTk4Yzg3N2JkMGQ0ODAwODExZTQzYjRhZGNlMzVlOC5zZXRDb250ZW50KGh0bWxfNWMyOTRmYmVlNWNkNGNkOTlkNGZkNzFjMTM4N2U2NzcpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfY2I2NjdiOGQyNmY3NDhhNGE1ZTBlMDMyMGE0YjQxYTEuYmluZFBvcHVwKHBvcHVwXzQ1OThjODc3YmQwZDQ4MDA4MTFlNDNiNGFkY2UzNWU4KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzg2YWEyZDk0MWUxZTRmNmY4ZWVhNzk2Yzc1NmE3Y2I2ID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjA1NjQ2NiwtNzkuNTAxMzIwNzAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfYTJkYTU1NDdlZWUxNDg4ZDg2ZWFiMThjYTU4YWYwZWUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjc0ZjUzY2RkN2ZmNDMyMDg1YjgwNjZjM2NjNDc3NTMgPSAkKCc8ZGl2IGlkPSJodG1sX2Y3NGY1M2NkZDdmZjQzMjA4NWI4MDY2YzNjYzQ3NzUzIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5OZXcgVG9yb250bywgTWltaWNvIFNvdXRoLCBIdW1iZXIgQmF5IFNob3JlcyBDbHVzdGVyIDA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2EyZGE1NTQ3ZWVlMTQ4OGQ4NmVhYjE4Y2E1OGFmMGVlLnNldENvbnRlbnQoaHRtbF9mNzRmNTNjZGQ3ZmY0MzIwODViODA2NmMzY2M0Nzc1Myk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl84NmFhMmQ5NDFlMWU0ZjZmOGVlYTc5NmM3NTZhN2NiNi5iaW5kUG9wdXAocG9wdXBfYTJkYTU1NDdlZWUxNDg4ZDg2ZWFiMThjYTU4YWYwZWUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNDJjMzNlODJmOWE1NGEzNDk2OWUxYTQwZTNjYzRmODMgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43Mzk0MTYzOTk5OTk5OTYsLTc5LjU4ODQzNjldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMGE5OGI1OTEyM2I2NDg4OGE5MTgzNzJhMGMwMzE4ZTkgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNDdiOWVmOGFmNzBjNDE3NDk3YjZjODZhMDNjOTQyOWQgPSAkKCc8ZGl2IGlkPSJodG1sXzQ3YjllZjhhZjcwYzQxNzQ5N2I2Yzg2YTAzYzk0MjlkIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Tb3V0aCBTdGVlbGVzLCBTaWx2ZXJzdG9uZSwgSHVtYmVyZ2F0ZSwgSmFtZXN0b3duLCBNb3VudCBPbGl2ZSwgQmVhdW1vbmQgSGVpZ2h0cywgVGhpc3RsZXRvd24sIEFsYmlvbiBHYXJkZW5zIENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfMGE5OGI1OTEyM2I2NDg4OGE5MTgzNzJhMGMwMzE4ZTkuc2V0Q29udGVudChodG1sXzQ3YjllZjhhZjcwYzQxNzQ5N2I2Yzg2YTAzYzk0MjlkKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzQyYzMzZTgyZjlhNTRhMzQ5NjllMWE0MGUzY2M0ZjgzLmJpbmRQb3B1cChwb3B1cF8wYTk4YjU5MTIzYjY0ODg4YTkxODM3MmEwYzAzMThlOSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8wNTNjZDdmNDdhMDQ0NmM2YThiOTE0OGI0MDNkNzJjNSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjc5OTUyNTIwMDAwMDAwNSwtNzkuMzE4Mzg4N10sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjMDBiNWViIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiIzAwYjVlYiIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF85NzUxMDA5MThmNjE0MWRhOTRlM2Y4NTQ0MTk5MGI2MSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF8zMGMzMGFlYjRhYTM0OTllODViN2Q0Mjk3MjY0OTZmMiA9ICQoJzxkaXYgaWQ9Imh0bWxfMzBjMzBhZWI0YWEzNDk5ZTg1YjdkNDI5NzI2NDk2ZjIiIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlN0ZWVsZXMgV2VzdCwgTCYjMzk7QW1vcmVhdXggV2VzdCBDbHVzdGVyIDI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzk3NTEwMDkxOGY2MTQxZGE5NGUzZjg1NDQxOTkwYjYxLnNldENvbnRlbnQoaHRtbF8zMGMzMGFlYjRhYTM0OTllODViN2Q0Mjk3MjY0OTZmMik7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8wNTNjZDdmNDdhMDQ0NmM2YThiOTE0OGI0MDNkNzJjNS5iaW5kUG9wdXAocG9wdXBfOTc1MTAwOTE4ZjYxNDFkYTk0ZTNmODU0NDE5OTBiNjEpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNDhmNjA1ZjMyMzIzNDdlZGFjZGJjNzhlODVjZjM3ZmEgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42Nzk1NjI2LC03OS4zNzc1Mjk0MDAwMDAwMV0sCiAgICAgICAgICAgICAgICB7CiAgImJ1YmJsaW5nTW91c2VFdmVudHMiOiB0cnVlLAogICJjb2xvciI6ICIjZmYwMDAwIiwKICAiZGFzaEFycmF5IjogbnVsbCwKICAiZGFzaE9mZnNldCI6IG51bGwsCiAgImZpbGwiOiB0cnVlLAogICJmaWxsQ29sb3IiOiAiI2ZmMDAwMCIsCiAgImZpbGxPcGFjaXR5IjogMC43LAogICJmaWxsUnVsZSI6ICJldmVub2RkIiwKICAibGluZUNhcCI6ICJyb3VuZCIsCiAgImxpbmVKb2luIjogInJvdW5kIiwKICAib3BhY2l0eSI6IDEuMCwKICAicmFkaXVzIjogNSwKICAic3Ryb2tlIjogdHJ1ZSwKICAid2VpZ2h0IjogMwp9CiAgICAgICAgICAgICAgICApLmFkZFRvKG1hcF9mZjQ2NDgxNGU5OTg0MGQxYjU3OGY3MjkwNmQzMWRhZSk7CiAgICAgICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBwb3B1cF81NjQ2YWMzMTVkOTM0ZjQxODdhMjA1YjIzMzBkMmZjNSA9IEwucG9wdXAoe21heFdpZHRoOiAnMzAwJ30pOwoKICAgICAgICAgICAgCiAgICAgICAgICAgICAgICB2YXIgaHRtbF9iNjRkNmNlYTBhN2E0Njg0OTI3ZTI1Nzc0OGEyNjg0NyA9ICQoJzxkaXYgaWQ9Imh0bWxfYjY0ZDZjZWEwYTdhNDY4NDkyN2UyNTc3NDhhMjY4NDciIHN0eWxlPSJ3aWR0aDogMTAwLjAlOyBoZWlnaHQ6IDEwMC4wJTsiPlJvc2VkYWxlIENsdXN0ZXIgMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTY0NmFjMzE1ZDkzNGY0MTg3YTIwNWIyMzMwZDJmYzUuc2V0Q29udGVudChodG1sX2I2NGQ2Y2VhMGE3YTQ2ODQ5MjdlMjU3NzQ4YTI2ODQ3KTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyXzQ4ZjYwNWYzMjMyMzQ3ZWRhY2RiYzc4ZTg1Y2YzN2ZhLmJpbmRQb3B1cChwb3B1cF81NjQ2YWMzMTVkOTM0ZjQxODdhMjA1YjIzMzBkMmZjNSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl9mN2IzNTJjZTJjMmY0ZGU1OTg0ZTA4OGM4YTFiYWJlMiA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0NjQzNTIsLTc5LjM3NDg0NTk5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2M2NzVkMjkwNGRjYzQwOGNhOWZkMDRiMjI5NzY1YWFiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2FkNjZlZDE5NTQxMjQ2NDI5YjJhY2U1NDY0OWExMjJhID0gJCgnPGRpdiBpZD0iaHRtbF9hZDY2ZWQxOTU0MTI0NjQyOWIyYWNlNTQ2NDlhMTIyYSIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U3RuIEEgUE8gQm94ZXMgQ2x1c3RlciAwPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9jNjc1ZDI5MDRkY2M0MDhjYTlmZDA0YjIyOTc2NWFhYi5zZXRDb250ZW50KGh0bWxfYWQ2NmVkMTk1NDEyNDY0MjliMmFjZTU0NjQ5YTEyMmEpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfZjdiMzUyY2UyYzJmNGRlNTk4NGUwODhjOGExYmFiZTIuYmluZFBvcHVwKHBvcHVwX2M2NzVkMjkwNGRjYzQwOGNhOWZkMDRiMjI5NzY1YWFiKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2M5NWIzNDM0YTc0ZjQzNWViN2M4N2E2MWU1NTVmZWMzID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjAyNDEzNzAwMDAwMDEsLTc5LjU0MzQ4NDA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiM4MDAwZmYiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjODAwMGZmIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzg0ZjQ4ODRjMGY3NjRkMzVhNDEzYjFhZjhiZDQ4OGFiID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzBiNDgwYmY0NGIwYTQwNDFiNzAzM2E3ZDhiNmQ1NWU4ID0gJCgnPGRpdiBpZD0iaHRtbF8wYjQ4MGJmNDRiMGE0MDQxYjcwMzNhN2Q4YjZkNTVlOCIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+QWxkZXJ3b29kLCBMb25nIEJyYW5jaCBDbHVzdGVyIDE8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzg0ZjQ4ODRjMGY3NjRkMzVhNDEzYjFhZjhiZDQ4OGFiLnNldENvbnRlbnQoaHRtbF8wYjQ4MGJmNDRiMGE0MDQxYjcwMzNhN2Q4YjZkNTVlOCk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jOTViMzQzNGE3NGY0MzVlYjdjODdhNjFlNTU1ZmVjMy5iaW5kUG9wdXAocG9wdXBfODRmNDg4NGMwZjc2NGQzNWE0MTNiMWFmOGJkNDg4YWIpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfNTZlNzIzMDEyMWNiNDFkOWJjZTdkZmE4MzhjMWM1OTAgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My43MDY3NDgyOTk5OTk5OTQsLTc5LjU5NDA1NDRdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNzY5ZmExNzIxNzUxNGVmNWFiZDJiMDExMjUwMjI2NGUgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjY3MzIxNGJkNGY4NGQ4MmE5OWFlZTQ0NmExNjM5N2MgPSAkKCc8ZGl2IGlkPSJodG1sX2Y2NzMyMTRiZDRmODRkODJhOTlhZWU0NDZhMTYzOTdjIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5Ob3J0aHdlc3QsIFdlc3QgSHVtYmVyIC0gQ2xhaXJ2aWxsZSBDbHVzdGVyIDM8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwXzc2OWZhMTcyMTc1MTRlZjVhYmQyYjAxMTI1MDIyNjRlLnNldENvbnRlbnQoaHRtbF9mNjczMjE0YmQ0Zjg0ZDgyYTk5YWVlNDQ2YTE2Mzk3Yyk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl81NmU3MjMwMTIxY2I0MWQ5YmNlN2RmYTgzOGMxYzU5MC5iaW5kUG9wdXAocG9wdXBfNzY5ZmExNzIxNzUxNGVmNWFiZDJiMDExMjUwMjI2NGUpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfOTVlNzg0MzQwYTI1NDgyNjkxYjY2NzdhNzhjZDM5ZTIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My44MzYxMjQ3MDAwMDAwMDYsLTc5LjIwNTYzNjA5OTk5OTk5XSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiMwMGI1ZWIiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjMDBiNWViIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwX2I0OTBkODNhZTJiYTQ5N2VhOTc4MTMxOWIyZDNiN2MxID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sX2QyOGJlYzM0MjZiZTQ4Zjc4ODE0ZWZiMTE5MGNiZWRmID0gJCgnPGRpdiBpZD0iaHRtbF9kMjhiZWMzNDI2YmU0OGY3ODgxNGVmYjExOTBjYmVkZiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+VXBwZXIgUm91Z2UgQ2x1c3RlciAyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9iNDkwZDgzYWUyYmE0OTdlYTk3ODEzMTliMmQzYjdjMS5zZXRDb250ZW50KGh0bWxfZDI4YmVjMzQyNmJlNDhmNzg4MTRlZmIxMTkwY2JlZGYpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfOTVlNzg0MzQwYTI1NDgyNjkxYjY2NzdhNzhjZDM5ZTIuYmluZFBvcHVwKHBvcHVwX2I0OTBkODNhZTJiYTQ5N2VhOTc4MTMxOWIyZDNiN2MxKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2I0Zjc5YTdlNDNjNTQ1MGM5MDg5YjE1YzU5NjBhOGUyID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY3OTY3LC03OS4zNjc2NzUzXSwKICAgICAgICAgICAgICAgIHsKICAiYnViYmxpbmdNb3VzZUV2ZW50cyI6IHRydWUsCiAgImNvbG9yIjogIiNmZjAwMDAiLAogICJkYXNoQXJyYXkiOiBudWxsLAogICJkYXNoT2Zmc2V0IjogbnVsbCwKICAiZmlsbCI6IHRydWUsCiAgImZpbGxDb2xvciI6ICIjZmYwMDAwIiwKICAiZmlsbE9wYWNpdHkiOiAwLjcsCiAgImZpbGxSdWxlIjogImV2ZW5vZGQiLAogICJsaW5lQ2FwIjogInJvdW5kIiwKICAibGluZUpvaW4iOiAicm91bmQiLAogICJvcGFjaXR5IjogMS4wLAogICJyYWRpdXMiOiA1LAogICJzdHJva2UiOiB0cnVlLAogICJ3ZWlnaHQiOiAzCn0KICAgICAgICAgICAgICAgICkuYWRkVG8obWFwX2ZmNDY0ODE0ZTk5ODQwZDFiNTc4ZjcyOTA2ZDMxZGFlKTsKICAgICAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIHBvcHVwXzU3MTJlZDk2NmY1MDQ4NTQ5ZTkxNWRjMjZiZmVkNjExID0gTC5wb3B1cCh7bWF4V2lkdGg6ICczMDAnfSk7CgogICAgICAgICAgICAKICAgICAgICAgICAgICAgIHZhciBodG1sXzNmMDQxYzFmNTA1NDQ1MWFiNDU0YzZmMDZhY2E5YTliID0gJCgnPGRpdiBpZD0iaHRtbF8zZjA0MWMxZjUwNTQ0NTFhYjQ1NGM2ZjA2YWNhOWE5YiIgc3R5bGU9IndpZHRoOiAxMDAuMCU7IGhlaWdodDogMTAwLjAlOyI+U3QuIEphbWVzIFRvd24sIENhYmJhZ2V0b3duIENsdXN0ZXIgMDwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTcxMmVkOTY2ZjUwNDg1NDllOTE1ZGMyNmJmZWQ2MTEuc2V0Q29udGVudChodG1sXzNmMDQxYzFmNTA1NDQ1MWFiNDU0YzZmMDZhY2E5YTliKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2I0Zjc5YTdlNDNjNTQ1MGM5MDg5YjE1YzU5NjBhOGUyLmJpbmRQb3B1cChwb3B1cF81NzEyZWQ5NjZmNTA0ODU0OWU5MTVkYzI2YmZlZDYxMSk7CgogICAgICAgICAgICAKICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgY2lyY2xlX21hcmtlcl8yMjQ0NjM0MzM4Mjk0Y2E3OTFlMmRlNmIwMzRkNmY2OSA9IEwuY2lyY2xlTWFya2VyKAogICAgICAgICAgICAgICAgWzQzLjY0ODQyOTIsLTc5LjM4MjI4MDJdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzAwYjVlYiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMwMGI1ZWIiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZjMzZTc0OTdjY2ZhNDRiNTlmMjg0MGM0YzBlYzMxMzggPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfYjQwYWU0ZTkyNzVjNGMzZGJmN2U2YTQ3OWNmM2QzNGUgPSAkKCc8ZGl2IGlkPSJodG1sX2I0MGFlNGU5Mjc1YzRjM2RiZjdlNmE0NzljZjNkMzRlIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5GaXJzdCBDYW5hZGlhbiBQbGFjZSwgVW5kZXJncm91bmQgY2l0eSBDbHVzdGVyIDI8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2YzM2U3NDk3Y2NmYTQ0YjU5ZjI4NDBjNGMwZWMzMTM4LnNldENvbnRlbnQoaHRtbF9iNDBhZTRlOTI3NWM0YzNkYmY3ZTZhNDc5Y2YzZDM0ZSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl8yMjQ0NjM0MzM4Mjk0Y2E3OTFlMmRlNmIwMzRkNmY2OS5iaW5kUG9wdXAocG9wdXBfZjMzZTc0OTdjY2ZhNDRiNTlmMjg0MGM0YzBlYzMxMzgpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfM2YwYWQ1NmY5MjI3NGZjNzhiOGU2MDk4NjQxNDBmOWQgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NTM2NTM2MDAwMDAwMDUsLTc5LjUwNjk0MzZdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzAwYjVlYiIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiMwMGI1ZWIiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZjUxMjUzZDExYzFiNGFjYzhiMDgwNmE0NDJhMzJlOWIgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfOGRiNmVmOGMxOGYyNDdhN2EyMmE0ZjUyMmY5OTEzYjQgPSAkKCc8ZGl2IGlkPSJodG1sXzhkYjZlZjhjMThmMjQ3YTdhMjJhNGY1MjJmOTkxM2I0IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5UaGUgS2luZ3N3YXksIE1vbnRnb21lcnkgUm9hZCwgT2xkIE1pbGwgTm9ydGggQ2x1c3RlciAyPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF9mNTEyNTNkMTFjMWI0YWNjOGIwODA2YTQ0MmEzMmU5Yi5zZXRDb250ZW50KGh0bWxfOGRiNmVmOGMxOGYyNDdhN2EyMmE0ZjUyMmY5OTEzYjQpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfM2YwYWQ1NmY5MjI3NGZjNzhiOGU2MDk4NjQxNDBmOWQuYmluZFBvcHVwKHBvcHVwX2Y1MTI1M2QxMWMxYjRhY2M4YjA4MDZhNDQyYTMyZTliKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2M0NTI1ZjdjYmFmNTRjMjliN2YxZGZmOGYxMGQ2NmVkID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjY1ODU5OSwtNzkuMzgzMTU5OTAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfZDYyYzNlYTAwNDFlNDlmNzllYWI4M2IxMmQ3NWZmMDMgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfZjIwZTc5YWM3NDA0NDIzNDhkZDBlZWI4NDFlMmE3YjUgPSAkKCc8ZGl2IGlkPSJodG1sX2YyMGU3OWFjNzQwNDQyMzQ4ZGQwZWViODQxZTJhN2I1IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5DaHVyY2ggYW5kIFdlbGxlc2xleSBDbHVzdGVyIDA8L2Rpdj4nKVswXTsKICAgICAgICAgICAgICAgIHBvcHVwX2Q2MmMzZWEwMDQxZTQ5Zjc5ZWFiODNiMTJkNzVmZjAzLnNldENvbnRlbnQoaHRtbF9mMjBlNzlhYzc0MDQ0MjM0OGRkMGVlYjg0MWUyYTdiNSk7CiAgICAgICAgICAgIAoKICAgICAgICAgICAgY2lyY2xlX21hcmtlcl9jNDUyNWY3Y2JhZjU0YzI5YjdmMWRmZjhmMTBkNjZlZC5iaW5kUG9wdXAocG9wdXBfZDYyYzNlYTAwNDFlNDlmNzllYWI4M2IxMmQ3NWZmMDMpOwoKICAgICAgICAgICAgCiAgICAgICAgCiAgICAKICAgICAgICAgICAgdmFyIGNpcmNsZV9tYXJrZXJfMmVlNWRmMWY5ZTVmNGQ5ZmJkMGJhZjgyYTE5ZGJlMzIgPSBMLmNpcmNsZU1hcmtlcigKICAgICAgICAgICAgICAgIFs0My42NjI3NDM5LC03OS4zMjE1NThdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiI2ZmMDAwMCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiNmZjAwMDAiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfODBiNmVkMDA4ODI0NDgwNjlhMzNiMGMwM2MxYzI3YmEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNDI0NTlmNTg0YmY0NGMzZmI5MmJiOTU5MzIyM2MzNzggPSAkKCc8ZGl2IGlkPSJodG1sXzQyNDU5ZjU4NGJmNDRjM2ZiOTJiYjk1OTMyMjNjMzc4IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5CdXNpbmVzcyByZXBseSBtYWlsIFByb2Nlc3NpbmcgQ2VudHJlLCBTb3V0aCBDZW50cmFsIExldHRlciBQcm9jZXNzaW5nIFBsYW50IFRvcm9udG8gQ2x1c3RlciAwPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF84MGI2ZWQwMDg4MjQ0ODA2OWEzM2IwYzAzYzFjMjdiYS5zZXRDb250ZW50KGh0bWxfNDI0NTlmNTg0YmY0NGMzZmI5MmJiOTU5MzIyM2MzNzgpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMmVlNWRmMWY5ZTVmNGQ5ZmJkMGJhZjgyYTE5ZGJlMzIuYmluZFBvcHVwKHBvcHVwXzgwYjZlZDAwODgyNDQ4MDY5YTMzYjBjMDNjMWMyN2JhKTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyXzExNzQ2MWFlZjQ1ZjRlMzE5ZDdmMWJiMzY4ZjNhMDVmID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjM2MjU3OSwtNzkuNDk4NTA5MDk5OTk5OTldLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfMGQxZjczMzQ5OTgyNDkzM2ExY2E2ZjhkYjkzNmQwOTQgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNGQ3MjZiNWM0N2NjNGMyZmExZjQ1ODU3OTM3YTc0YjkgPSAkKCc8ZGl2IGlkPSJodG1sXzRkNzI2YjVjNDdjYzRjMmZhMWY0NTg1NzkzN2E3NGI5IiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5PbGQgTWlsbCBTb3V0aCwgS2luZyYjMzk7cyBNaWxsIFBhcmssIFN1bm55bGVhLCBIdW1iZXIgQmF5LCBNaW1pY28gTkUsIFRoZSBRdWVlbnN3YXkgRWFzdCwgUm95YWwgWW9yayBTb3V0aCBFYXN0LCBLaW5nc3dheSBQYXJrIFNvdXRoIEVhc3QgQ2x1c3RlciAzPC9kaXY+JylbMF07CiAgICAgICAgICAgICAgICBwb3B1cF8wZDFmNzMzNDk5ODI0OTMzYTFjYTZmOGRiOTM2ZDA5NC5zZXRDb250ZW50KGh0bWxfNGQ3MjZiNWM0N2NjNGMyZmExZjQ1ODU3OTM3YTc0YjkpOwogICAgICAgICAgICAKCiAgICAgICAgICAgIGNpcmNsZV9tYXJrZXJfMTE3NDYxYWVmNDVmNGUzMTlkN2YxYmIzNjhmM2EwNWYuYmluZFBvcHVwKHBvcHVwXzBkMWY3MzM0OTk4MjQ5MzNhMWNhNmY4ZGI5MzZkMDk0KTsKCiAgICAgICAgICAgIAogICAgICAgIAogICAgCiAgICAgICAgICAgIHZhciBjaXJjbGVfbWFya2VyX2Y4YWQ4MTU5Yjc4ZjRjNDNiNGIwMjc4OGZhMDQ2NjBlID0gTC5jaXJjbGVNYXJrZXIoCiAgICAgICAgICAgICAgICBbNDMuNjI4ODQwOCwtNzkuNTIwOTk5NDAwMDAwMDFdLAogICAgICAgICAgICAgICAgewogICJidWJibGluZ01vdXNlRXZlbnRzIjogdHJ1ZSwKICAiY29sb3IiOiAiIzgwZmZiNCIsCiAgImRhc2hBcnJheSI6IG51bGwsCiAgImRhc2hPZmZzZXQiOiBudWxsLAogICJmaWxsIjogdHJ1ZSwKICAiZmlsbENvbG9yIjogIiM4MGZmYjQiLAogICJmaWxsT3BhY2l0eSI6IDAuNywKICAiZmlsbFJ1bGUiOiAiZXZlbm9kZCIsCiAgImxpbmVDYXAiOiAicm91bmQiLAogICJsaW5lSm9pbiI6ICJyb3VuZCIsCiAgIm9wYWNpdHkiOiAxLjAsCiAgInJhZGl1cyI6IDUsCiAgInN0cm9rZSI6IHRydWUsCiAgIndlaWdodCI6IDMKfQogICAgICAgICAgICAgICAgKS5hZGRUbyhtYXBfZmY0NjQ4MTRlOTk4NDBkMWI1NzhmNzI5MDZkMzFkYWUpOwogICAgICAgICAgICAKICAgIAogICAgICAgICAgICB2YXIgcG9wdXBfNTI3OGVmNzEzZWIxNDI3NGI2MTMxNjYwMTBhM2EyYzEgPSBMLnBvcHVwKHttYXhXaWR0aDogJzMwMCd9KTsKCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgdmFyIGh0bWxfNjU3NGRkZDljYTc1NGZkMGEwNDBhOWYyYjIxMTc1NDAgPSAkKCc8ZGl2IGlkPSJodG1sXzY1NzRkZGQ5Y2E3NTRmZDBhMDQwYTlmMmIyMTE3NTQwIiBzdHlsZT0id2lkdGg6IDEwMC4wJTsgaGVpZ2h0OiAxMDAuMCU7Ij5NaW1pY28gTlcsIFRoZSBRdWVlbnN3YXkgV2VzdCwgU291dGggb2YgQmxvb3IsIEtpbmdzd2F5IFBhcmsgU291dGggV2VzdCwgUm95YWwgWW9yayBTb3V0aCBXZXN0IENsdXN0ZXIgMzwvZGl2PicpWzBdOwogICAgICAgICAgICAgICAgcG9wdXBfNTI3OGVmNzEzZWIxNDI3NGI2MTMxNjYwMTBhM2EyYzEuc2V0Q29udGVudChodG1sXzY1NzRkZGQ5Y2E3NTRmZDBhMDQwYTlmMmIyMTE3NTQwKTsKICAgICAgICAgICAgCgogICAgICAgICAgICBjaXJjbGVfbWFya2VyX2Y4YWQ4MTU5Yjc4ZjRjNDNiNGIwMjc4OGZhMDQ2NjBlLmJpbmRQb3B1cChwb3B1cF81Mjc4ZWY3MTNlYjE0Mjc0YjYxMzE2NjAxMGEzYTJjMSk7CgogICAgICAgICAgICAKICAgICAgICAKPC9zY3JpcHQ+ onload="this.contentDocument.open();this.contentDocument.write(atob(this.getAttribute('data-html')));this.contentDocument.close();" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe></div></div>



Clusters 0, 1, and 2 are the most common as indicated on the map above. We can examin the features of each of these cluseters to see if there are any differences among the venues:


```python
toronto_merged.loc[toronto_merged['Cluster Labels'] == 0, toronto_merged.columns[[1] + list(range(5, toronto_merged.shape[1]))]]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Borough</th>
      <th>Cluster Labels</th>
      <th>1st Most Common Venue</th>
      <th>2nd Most Common Venue</th>
      <th>3rd Most Common Venue</th>
      <th>4th Most Common Venue</th>
      <th>5th Most Common Venue</th>
      <th>6th Most Common Venue</th>
      <th>7th Most Common Venue</th>
      <th>8th Most Common Venue</th>
      <th>9th Most Common Venue</th>
      <th>10th Most Common Venue</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>4</th>
      <td>Downtown Toronto</td>
      <td>0</td>
      <td>Coffee Shop</td>
      <td>Park</td>
      <td>Bubble Tea Shop</td>
      <td>Sandwich Place</td>
      <td>Creperie</td>
      <td>Arts &amp; Crafts Store</td>
      <td>Dance Studio</td>
      <td>Yoga Studio</td>
      <td>Convenience Store</td>
      <td>Cosmetics Shop</td>
    </tr>
    <tr>
      <th>8</th>
      <td>East York</td>
      <td>0</td>
      <td>Gym / Fitness Center</td>
      <td>Park</td>
      <td>Bakery</td>
      <td>Rock Climbing Spot</td>
      <td>Restaurant</td>
      <td>Brewery</td>
      <td>Convenience Store</td>
      <td>Gastropub</td>
      <td>Pastry Shop</td>
      <td>Indian Restaurant</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Scarborough</td>
      <td>0</td>
      <td>Park</td>
      <td>Grocery Store</td>
      <td>Breakfast Spot</td>
      <td>Burger Joint</td>
      <td>Italian Restaurant</td>
      <td>Athletics &amp; Sports</td>
      <td>Campground</td>
      <td>Bakery</td>
      <td>Zoo</td>
      <td>Dessert Shop</td>
    </tr>
    <tr>
      <th>14</th>
      <td>East York</td>
      <td>0</td>
      <td>Rock Climbing Spot</td>
      <td>Sandwich Place</td>
      <td>Pastry Shop</td>
      <td>Park</td>
      <td>Gastropub</td>
      <td>Ethiopian Restaurant</td>
      <td>American Restaurant</td>
      <td>Breakfast Spot</td>
      <td>Café</td>
      <td>Butcher</td>
    </tr>
    <tr>
      <th>18</th>
      <td>Scarborough</td>
      <td>0</td>
      <td>Park</td>
      <td>Food &amp; Drink Shop</td>
      <td>Pizza Place</td>
      <td>Smoothie Shop</td>
      <td>Athletics &amp; Sports</td>
      <td>Fried Chicken Joint</td>
      <td>Liquor Store</td>
      <td>Pub</td>
      <td>Golf Course</td>
      <td>Concert Hall</td>
    </tr>
    <tr>
      <th>19</th>
      <td>East Toronto</td>
      <td>0</td>
      <td>Bakery</td>
      <td>Trail</td>
      <td>Bagel Shop</td>
      <td>Ice Cream Shop</td>
      <td>Gastropub</td>
      <td>Park</td>
      <td>Vegetarian / Vegan Restaurant</td>
      <td>Health Food Store</td>
      <td>Indie Movie Theater</td>
      <td>Toy / Game Store</td>
    </tr>
    <tr>
      <th>24</th>
      <td>Downtown Toronto</td>
      <td>0</td>
      <td>Plaza</td>
      <td>Historic Site</td>
      <td>Park</td>
      <td>Pizza Place</td>
      <td>Supermarket</td>
      <td>Theater</td>
      <td>Art Gallery</td>
      <td>Clothing Store</td>
      <td>Gastropub</td>
      <td>Garden</td>
    </tr>
    <tr>
      <th>36</th>
      <td>Downtown Toronto</td>
      <td>0</td>
      <td>Park</td>
      <td>Plaza</td>
      <td>Hotel</td>
      <td>Performing Arts Venue</td>
      <td>Salad Place</td>
      <td>Dessert Shop</td>
      <td>Lake</td>
      <td>Sporting Goods Shop</td>
      <td>Fried Chicken Joint</td>
      <td>French Restaurant</td>
    </tr>
    <tr>
      <th>45</th>
      <td>North York</td>
      <td>0</td>
      <td>Pool</td>
      <td>Park</td>
      <td>Tennis Court</td>
      <td>Business Service</td>
      <td>Deli / Bodega</td>
      <td>Eastern European Restaurant</td>
      <td>Doner Restaurant</td>
      <td>Dog Run</td>
      <td>Discount Store</td>
      <td>Diner</td>
    </tr>
    <tr>
      <th>47</th>
      <td>East Toronto</td>
      <td>0</td>
      <td>Brewery</td>
      <td>Gym</td>
      <td>Ice Cream Shop</td>
      <td>Farmers Market</td>
      <td>Fast Food Restaurant</td>
      <td>Park</td>
      <td>Fish &amp; Chips Shop</td>
      <td>Asian Restaurant</td>
      <td>Indian Restaurant</td>
      <td>Doner Restaurant</td>
    </tr>
    <tr>
      <th>51</th>
      <td>Scarborough</td>
      <td>0</td>
      <td>Ice Cream Shop</td>
      <td>Park</td>
      <td>Beach</td>
      <td>Sporting Goods Shop</td>
      <td>Coffee Shop</td>
      <td>Sports Bar</td>
      <td>Pharmacy</td>
      <td>Garden</td>
      <td>Eastern European Restaurant</td>
      <td>Dog Run</td>
    </tr>
    <tr>
      <th>63</th>
      <td>York</td>
      <td>0</td>
      <td>Brewery</td>
      <td>Thai Restaurant</td>
      <td>Park</td>
      <td>Beer Store</td>
      <td>Burger Joint</td>
      <td>Bar</td>
      <td>Athletics &amp; Sports</td>
      <td>Café</td>
      <td>Zoo</td>
      <td>Eastern European Restaurant</td>
    </tr>
    <tr>
      <th>66</th>
      <td>North York</td>
      <td>0</td>
      <td>Park</td>
      <td>Pet Store</td>
      <td>Bowling Alley</td>
      <td>Dog Run</td>
      <td>Convenience Store</td>
      <td>Restaurant</td>
      <td>Zoo</td>
      <td>Department Store</td>
      <td>Doner Restaurant</td>
      <td>Discount Store</td>
    </tr>
    <tr>
      <th>75</th>
      <td>West Toronto</td>
      <td>0</td>
      <td>Dog Run</td>
      <td>Playground</td>
      <td>Park</td>
      <td>Movie Theater</td>
      <td>Dessert Shop</td>
      <td>Bar</td>
      <td>Cuban Restaurant</td>
      <td>Eastern European Restaurant</td>
      <td>Pizza Place</td>
      <td>Convenience Store</td>
    </tr>
    <tr>
      <th>80</th>
      <td>Downtown Toronto</td>
      <td>0</td>
      <td>Japanese Restaurant</td>
      <td>Bar</td>
      <td>Park</td>
      <td>Concert Hall</td>
      <td>Vegetarian / Vegan Restaurant</td>
      <td>Beer Bar</td>
      <td>Supermarket</td>
      <td>Restaurant</td>
      <td>Hostel</td>
      <td>Sushi Restaurant</td>
    </tr>
    <tr>
      <th>85</th>
      <td>Scarborough</td>
      <td>0</td>
      <td>Park</td>
      <td>Playground</td>
      <td>Zoo</td>
      <td>Deli / Bodega</td>
      <td>Eastern European Restaurant</td>
      <td>Doner Restaurant</td>
      <td>Dog Run</td>
      <td>Discount Store</td>
      <td>Diner</td>
      <td>Dessert Shop</td>
    </tr>
    <tr>
      <th>87</th>
      <td>Downtown Toronto</td>
      <td>0</td>
      <td>Harbor / Marina</td>
      <td>Airport Lounge</td>
      <td>Sculpture Garden</td>
      <td>Park</td>
      <td>Tunnel</td>
      <td>Coffee Shop</td>
      <td>Airport Food Court</td>
      <td>Airport</td>
      <td>Music Venue</td>
      <td>Discount Store</td>
    </tr>
    <tr>
      <th>88</th>
      <td>Etobicoke</td>
      <td>0</td>
      <td>Park</td>
      <td>Liquor Store</td>
      <td>General Entertainment</td>
      <td>Mexican Restaurant</td>
      <td>Italian Restaurant</td>
      <td>Sushi Restaurant</td>
      <td>Café</td>
      <td>Dessert Shop</td>
      <td>Bakery</td>
      <td>Design Studio</td>
    </tr>
    <tr>
      <th>91</th>
      <td>Downtown Toronto</td>
      <td>0</td>
      <td>Park</td>
      <td>Grocery Store</td>
      <td>BBQ Joint</td>
      <td>Coffee Shop</td>
      <td>Juice Bar</td>
      <td>Farmers Market</td>
      <td>Salon / Barbershop</td>
      <td>Liquor Store</td>
      <td>Historic Site</td>
      <td>Cosmetics Shop</td>
    </tr>
    <tr>
      <th>92</th>
      <td>Downtown Toronto</td>
      <td>0</td>
      <td>Farmers Market</td>
      <td>Restaurant</td>
      <td>Gym</td>
      <td>Park</td>
      <td>Vegetarian / Vegan Restaurant</td>
      <td>Seafood Restaurant</td>
      <td>Café</td>
      <td>Food Truck</td>
      <td>Museum</td>
      <td>Dance Studio</td>
    </tr>
    <tr>
      <th>96</th>
      <td>Downtown Toronto</td>
      <td>0</td>
      <td>Gastropub</td>
      <td>Park</td>
      <td>Farm</td>
      <td>Steakhouse</td>
      <td>Garden</td>
      <td>Japanese Restaurant</td>
      <td>Diner</td>
      <td>Botanical Garden</td>
      <td>Zoo</td>
      <td>Design Studio</td>
    </tr>
    <tr>
      <th>99</th>
      <td>Downtown Toronto</td>
      <td>0</td>
      <td>Theme Restaurant</td>
      <td>Creperie</td>
      <td>Juice Bar</td>
      <td>Steakhouse</td>
      <td>Breakfast Spot</td>
      <td>Bubble Tea Shop</td>
      <td>Restaurant</td>
      <td>Dance Studio</td>
      <td>Bookstore</td>
      <td>Park</td>
    </tr>
    <tr>
      <th>100</th>
      <td>East Toronto</td>
      <td>0</td>
      <td>Brewery</td>
      <td>Latin American Restaurant</td>
      <td>Burrito Place</td>
      <td>Snack Place</td>
      <td>Farmers Market</td>
      <td>Bar</td>
      <td>Pizza Place</td>
      <td>Park</td>
      <td>Comic Shop</td>
      <td>Creperie</td>
    </tr>
  </tbody>
</table>
</div>




```python
toronto_merged.loc[toronto_merged['Cluster Labels'] == 2, toronto_merged.columns[[1] + list(range(5, toronto_merged.shape[1]))]]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Borough</th>
      <th>Cluster Labels</th>
      <th>1st Most Common Venue</th>
      <th>2nd Most Common Venue</th>
      <th>3rd Most Common Venue</th>
      <th>4th Most Common Venue</th>
      <th>5th Most Common Venue</th>
      <th>6th Most Common Venue</th>
      <th>7th Most Common Venue</th>
      <th>8th Most Common Venue</th>
      <th>9th Most Common Venue</th>
      <th>10th Most Common Venue</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>North York</td>
      <td>2</td>
      <td>Coffee Shop</td>
      <td>Caribbean Restaurant</td>
      <td>Event Space</td>
      <td>Middle Eastern Restaurant</td>
      <td>Supermarket</td>
      <td>Italian Restaurant</td>
      <td>Bagel Shop</td>
      <td>Mediterranean Restaurant</td>
      <td>Gym</td>
      <td>Golf Course</td>
    </tr>
    <tr>
      <th>1</th>
      <td>North York</td>
      <td>2</td>
      <td>Middle Eastern Restaurant</td>
      <td>Gym / Fitness Center</td>
      <td>History Museum</td>
      <td>Mediterranean Restaurant</td>
      <td>Indian Restaurant</td>
      <td>Thai Restaurant</td>
      <td>Hockey Arena</td>
      <td>Rock Climbing Spot</td>
      <td>Grocery Store</td>
      <td>Creperie</td>
    </tr>
    <tr>
      <th>3</th>
      <td>North York</td>
      <td>2</td>
      <td>Restaurant</td>
      <td>Greek Restaurant</td>
      <td>Furniture / Home Store</td>
      <td>Dessert Shop</td>
      <td>Sushi Restaurant</td>
      <td>Athletics &amp; Sports</td>
      <td>Fried Chicken Joint</td>
      <td>Boutique</td>
      <td>Vietnamese Restaurant</td>
      <td>Cosmetics Shop</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Scarborough</td>
      <td>2</td>
      <td>Zoo Exhibit</td>
      <td>Zoo</td>
      <td>Athletics &amp; Sports</td>
      <td>Spa</td>
      <td>Deli / Bodega</td>
      <td>Electronics Store</td>
      <td>Eastern European Restaurant</td>
      <td>Doner Restaurant</td>
      <td>Dog Run</td>
      <td>Discount Store</td>
    </tr>
    <tr>
      <th>10</th>
      <td>North York</td>
      <td>2</td>
      <td>Clothing Store</td>
      <td>Fried Chicken Joint</td>
      <td>Playground</td>
      <td>Greek Restaurant</td>
      <td>Caribbean Restaurant</td>
      <td>Restaurant</td>
      <td>Shopping Mall</td>
      <td>Bike Shop</td>
      <td>Japanese Restaurant</td>
      <td>Latin American Restaurant</td>
    </tr>
    <tr>
      <th>15</th>
      <td>Downtown Toronto</td>
      <td>2</td>
      <td>Food Truck</td>
      <td>Gym</td>
      <td>Coffee Shop</td>
      <td>Middle Eastern Restaurant</td>
      <td>Farmers Market</td>
      <td>American Restaurant</td>
      <td>Japanese Restaurant</td>
      <td>Creperie</td>
      <td>Restaurant</td>
      <td>Theater</td>
    </tr>
    <tr>
      <th>20</th>
      <td>Downtown Toronto</td>
      <td>2</td>
      <td>Farmers Market</td>
      <td>Museum</td>
      <td>Japanese Restaurant</td>
      <td>Vegetarian / Vegan Restaurant</td>
      <td>Seafood Restaurant</td>
      <td>Basketball Stadium</td>
      <td>Food Truck</td>
      <td>Restaurant</td>
      <td>Liquor Store</td>
      <td>Zoo</td>
    </tr>
    <tr>
      <th>27</th>
      <td>North York</td>
      <td>2</td>
      <td>Chinese Restaurant</td>
      <td>Cantonese Restaurant</td>
      <td>Golf Course</td>
      <td>Grocery Store</td>
      <td>Korean Restaurant</td>
      <td>Bubble Tea Shop</td>
      <td>Hotel</td>
      <td>BBQ Joint</td>
      <td>Bakery</td>
      <td>Design Studio</td>
    </tr>
    <tr>
      <th>30</th>
      <td>Downtown Toronto</td>
      <td>2</td>
      <td>Gym / Fitness Center</td>
      <td>Thai Restaurant</td>
      <td>Gym</td>
      <td>Hotel</td>
      <td>Mediterranean Restaurant</td>
      <td>Pizza Place</td>
      <td>Speakeasy</td>
      <td>Plaza</td>
      <td>American Restaurant</td>
      <td>Art Gallery</td>
    </tr>
    <tr>
      <th>33</th>
      <td>North York</td>
      <td>2</td>
      <td>Chocolate Shop</td>
      <td>Breakfast Spot</td>
      <td>Shopping Mall</td>
      <td>Caribbean Restaurant</td>
      <td>American Restaurant</td>
      <td>Middle Eastern Restaurant</td>
      <td>Movie Theater</td>
      <td>Tea Room</td>
      <td>Toy / Game Store</td>
      <td>Salon / Barbershop</td>
    </tr>
    <tr>
      <th>37</th>
      <td>West Toronto</td>
      <td>2</td>
      <td>Cocktail Bar</td>
      <td>Art Gallery</td>
      <td>Pizza Place</td>
      <td>Korean Restaurant</td>
      <td>Brewery</td>
      <td>Ice Cream Shop</td>
      <td>Asian Restaurant</td>
      <td>Cuban Restaurant</td>
      <td>New American Restaurant</td>
      <td>Greek Restaurant</td>
    </tr>
    <tr>
      <th>39</th>
      <td>North York</td>
      <td>2</td>
      <td>Bank</td>
      <td>Gas Station</td>
      <td>Japanese Restaurant</td>
      <td>Café</td>
      <td>Grocery Store</td>
      <td>Chinese Restaurant</td>
      <td>Restaurant</td>
      <td>Doner Restaurant</td>
      <td>Dog Run</td>
      <td>Discount Store</td>
    </tr>
    <tr>
      <th>41</th>
      <td>East Toronto</td>
      <td>2</td>
      <td>Greek Restaurant</td>
      <td>Ice Cream Shop</td>
      <td>Pizza Place</td>
      <td>Juice Bar</td>
      <td>Brewery</td>
      <td>Cosmetics Shop</td>
      <td>Restaurant</td>
      <td>Italian Restaurant</td>
      <td>Doner Restaurant</td>
      <td>Dog Run</td>
    </tr>
    <tr>
      <th>50</th>
      <td>North York</td>
      <td>2</td>
      <td>Electronics Store</td>
      <td>Pharmacy</td>
      <td>Sports Bar</td>
      <td>Shopping Mall</td>
      <td>Italian Restaurant</td>
      <td>Furniture / Home Store</td>
      <td>Arts &amp; Crafts Store</td>
      <td>Bakery</td>
      <td>Bank</td>
      <td>Department Store</td>
    </tr>
    <tr>
      <th>52</th>
      <td>North York</td>
      <td>2</td>
      <td>American Restaurant</td>
      <td>Zoo</td>
      <td>Deli / Bodega</td>
      <td>Electronics Store</td>
      <td>Eastern European Restaurant</td>
      <td>Doner Restaurant</td>
      <td>Dog Run</td>
      <td>Discount Store</td>
      <td>Diner</td>
      <td>Dessert Shop</td>
    </tr>
    <tr>
      <th>61</th>
      <td>Central Toronto</td>
      <td>2</td>
      <td>Jewelry Store</td>
      <td>Zoo</td>
      <td>Department Store</td>
      <td>Electronics Store</td>
      <td>Eastern European Restaurant</td>
      <td>Doner Restaurant</td>
      <td>Dog Run</td>
      <td>Discount Store</td>
      <td>Diner</td>
      <td>Dessert Shop</td>
    </tr>
    <tr>
      <th>64</th>
      <td>York</td>
      <td>2</td>
      <td>Golf Course</td>
      <td>Train Station</td>
      <td>Pharmacy</td>
      <td>Coffee Shop</td>
      <td>Skating Rink</td>
      <td>Diner</td>
      <td>Liquor Store</td>
      <td>Japanese Restaurant</td>
      <td>Food &amp; Drink Shop</td>
      <td>Pizza Place</td>
    </tr>
    <tr>
      <th>71</th>
      <td>Scarborough</td>
      <td>2</td>
      <td>Middle Eastern Restaurant</td>
      <td>Grocery Store</td>
      <td>Bakery</td>
      <td>Korean Restaurant</td>
      <td>African Restaurant</td>
      <td>Vietnamese Restaurant</td>
      <td>Supermarket</td>
      <td>Indian Restaurant</td>
      <td>Fish Market</td>
      <td>Eastern European Restaurant</td>
    </tr>
    <tr>
      <th>72</th>
      <td>North York</td>
      <td>2</td>
      <td>Middle Eastern Restaurant</td>
      <td>Korean Restaurant</td>
      <td>Bagel Shop</td>
      <td>Chinese Restaurant</td>
      <td>Doner Restaurant</td>
      <td>Bookstore</td>
      <td>Pizza Place</td>
      <td>Pharmacy</td>
      <td>Vietnamese Restaurant</td>
      <td>Garden</td>
    </tr>
    <tr>
      <th>76</th>
      <td>Mississauga</td>
      <td>2</td>
      <td>Middle Eastern Restaurant</td>
      <td>Mexican Restaurant</td>
      <td>Paper / Office Supplies Store</td>
      <td>Japanese Restaurant</td>
      <td>Hobby Shop</td>
      <td>Asian Restaurant</td>
      <td>Caribbean Restaurant</td>
      <td>Burger Joint</td>
      <td>Burrito Place</td>
      <td>Zoo</td>
    </tr>
    <tr>
      <th>77</th>
      <td>Etobicoke</td>
      <td>2</td>
      <td>Pharmacy</td>
      <td>Chinese Restaurant</td>
      <td>Shopping Mall</td>
      <td>Beer Store</td>
      <td>Sandwich Place</td>
      <td>Bank</td>
      <td>Smoothie Shop</td>
      <td>Gas Station</td>
      <td>Gym</td>
      <td>Pizza Place</td>
    </tr>
    <tr>
      <th>78</th>
      <td>Scarborough</td>
      <td>2</td>
      <td>Caribbean Restaurant</td>
      <td>Gym / Fitness Center</td>
      <td>Breakfast Spot</td>
      <td>Sri Lankan Restaurant</td>
      <td>Chinese Restaurant</td>
      <td>Cantonese Restaurant</td>
      <td>Supermarket</td>
      <td>Bakery</td>
      <td>Indian Restaurant</td>
      <td>Design Studio</td>
    </tr>
    <tr>
      <th>82</th>
      <td>Scarborough</td>
      <td>2</td>
      <td>Greek Restaurant</td>
      <td>Thai Restaurant</td>
      <td>Pharmacy</td>
      <td>Falafel Restaurant</td>
      <td>Chinese Restaurant</td>
      <td>Caribbean Restaurant</td>
      <td>Italian Restaurant</td>
      <td>Mexican Restaurant</td>
      <td>Noodle House</td>
      <td>Sushi Restaurant</td>
    </tr>
    <tr>
      <th>90</th>
      <td>Scarborough</td>
      <td>2</td>
      <td>Chinese Restaurant</td>
      <td>Caribbean Restaurant</td>
      <td>Mexican Restaurant</td>
      <td>Breakfast Spot</td>
      <td>Korean Restaurant</td>
      <td>Japanese Restaurant</td>
      <td>Hotpot Restaurant</td>
      <td>Bakery</td>
      <td>Zoo</td>
      <td>Dessert Shop</td>
    </tr>
    <tr>
      <th>95</th>
      <td>Scarborough</td>
      <td>2</td>
      <td>Playground</td>
      <td>Golf Course</td>
      <td>Farm</td>
      <td>Trail</td>
      <td>Dance Studio</td>
      <td>Doner Restaurant</td>
      <td>Dog Run</td>
      <td>Discount Store</td>
      <td>Diner</td>
      <td>Dessert Shop</td>
    </tr>
    <tr>
      <th>97</th>
      <td>Downtown Toronto</td>
      <td>2</td>
      <td>Gym / Fitness Center</td>
      <td>Thai Restaurant</td>
      <td>Gym</td>
      <td>Mediterranean Restaurant</td>
      <td>Pizza Place</td>
      <td>Pub</td>
      <td>Café</td>
      <td>Speakeasy</td>
      <td>Plaza</td>
      <td>American Restaurant</td>
    </tr>
    <tr>
      <th>98</th>
      <td>Etobicoke</td>
      <td>2</td>
      <td>Burger Joint</td>
      <td>Breakfast Spot</td>
      <td>Pool Hall</td>
      <td>Seafood Restaurant</td>
      <td>Italian Restaurant</td>
      <td>French Restaurant</td>
      <td>Sushi Restaurant</td>
      <td>Tapas Restaurant</td>
      <td>Dessert Shop</td>
      <td>Liquor Store</td>
    </tr>
  </tbody>
</table>
</div>




```python
toronto_merged.loc[toronto_merged['Cluster Labels'] == 3, toronto_merged.columns[[1] + list(range(5, toronto_merged.shape[1]))]]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Borough</th>
      <th>Cluster Labels</th>
      <th>1st Most Common Venue</th>
      <th>2nd Most Common Venue</th>
      <th>3rd Most Common Venue</th>
      <th>4th Most Common Venue</th>
      <th>5th Most Common Venue</th>
      <th>6th Most Common Venue</th>
      <th>7th Most Common Venue</th>
      <th>8th Most Common Venue</th>
      <th>9th Most Common Venue</th>
      <th>10th Most Common Venue</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>Downtown Toronto</td>
      <td>3</td>
      <td>Coffee Shop</td>
      <td>Park</td>
      <td>Mediterranean Restaurant</td>
      <td>Bakery</td>
      <td>Farmers Market</td>
      <td>Historic Site</td>
      <td>Dessert Shop</td>
      <td>Eastern European Restaurant</td>
      <td>Doner Restaurant</td>
      <td>Dog Run</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Etobicoke</td>
      <td>3</td>
      <td>Grocery Store</td>
      <td>Fish &amp; Chips Shop</td>
      <td>Coffee Shop</td>
      <td>Pub</td>
      <td>Restaurant</td>
      <td>Burger Joint</td>
      <td>Pharmacy</td>
      <td>Farmers Market</td>
      <td>Sporting Goods Shop</td>
      <td>Turkish Restaurant</td>
    </tr>
    <tr>
      <th>17</th>
      <td>Etobicoke</td>
      <td>3</td>
      <td>Coffee Shop</td>
      <td>Grocery Store</td>
      <td>Golf Course</td>
      <td>Liquor Store</td>
      <td>Racetrack</td>
      <td>Park</td>
      <td>Beer Store</td>
      <td>Farmers Market</td>
      <td>Flower Shop</td>
      <td>Zoo</td>
    </tr>
    <tr>
      <th>22</th>
      <td>Scarborough</td>
      <td>3</td>
      <td>Coffee Shop</td>
      <td>Music Store</td>
      <td>Pharmacy</td>
      <td>Gym</td>
      <td>Juice Bar</td>
      <td>Park</td>
      <td>Restaurant</td>
      <td>Burger Joint</td>
      <td>Indian Restaurant</td>
      <td>Dog Run</td>
    </tr>
    <tr>
      <th>23</th>
      <td>East York</td>
      <td>3</td>
      <td>Gym</td>
      <td>BBQ Joint</td>
      <td>Brewery</td>
      <td>Liquor Store</td>
      <td>Sporting Goods Shop</td>
      <td>Sports Bar</td>
      <td>Fish &amp; Chips Shop</td>
      <td>Bakery</td>
      <td>Bike Shop</td>
      <td>Coffee Shop</td>
    </tr>
    <tr>
      <th>26</th>
      <td>Scarborough</td>
      <td>3</td>
      <td>Coffee Shop</td>
      <td>Caribbean Restaurant</td>
      <td>Pharmacy</td>
      <td>Sushi Restaurant</td>
      <td>Burger Joint</td>
      <td>Indian Restaurant</td>
      <td>Music Store</td>
      <td>Restaurant</td>
      <td>Xinjiang Restaurant</td>
      <td>Hakka Restaurant</td>
    </tr>
    <tr>
      <th>28</th>
      <td>North York</td>
      <td>3</td>
      <td>Coffee Shop</td>
      <td>Restaurant</td>
      <td>Mediterranean Restaurant</td>
      <td>Ski Chalet</td>
      <td>Middle Eastern Restaurant</td>
      <td>Bridal Shop</td>
      <td>Bank</td>
      <td>Deli / Bodega</td>
      <td>Park</td>
      <td>Creperie</td>
    </tr>
    <tr>
      <th>29</th>
      <td>East York</td>
      <td>3</td>
      <td>Gym</td>
      <td>BBQ Joint</td>
      <td>Brewery</td>
      <td>Liquor Store</td>
      <td>Fish &amp; Chips Shop</td>
      <td>Indian Restaurant</td>
      <td>Bakery</td>
      <td>Coffee Shop</td>
      <td>Warehouse Store</td>
      <td>Afghan Restaurant</td>
    </tr>
    <tr>
      <th>32</th>
      <td>Scarborough</td>
      <td>3</td>
      <td>Ice Cream Shop</td>
      <td>Sandwich Place</td>
      <td>Coffee Shop</td>
      <td>Liquor Store</td>
      <td>Pizza Place</td>
      <td>Indian Restaurant</td>
      <td>Bookstore</td>
      <td>Xinjiang Restaurant</td>
      <td>Convenience Store</td>
      <td>Design Studio</td>
    </tr>
    <tr>
      <th>34</th>
      <td>North York</td>
      <td>3</td>
      <td>Coffee Shop</td>
      <td>Middle Eastern Restaurant</td>
      <td>Caribbean Restaurant</td>
      <td>Massage Studio</td>
      <td>Italian Restaurant</td>
      <td>Music Store</td>
      <td>Restaurant</td>
      <td>Pizza Place</td>
      <td>Cosmetics Shop</td>
      <td>Dessert Shop</td>
    </tr>
    <tr>
      <th>38</th>
      <td>Scarborough</td>
      <td>3</td>
      <td>Coffee Shop</td>
      <td>Department Store</td>
      <td>Pharmacy</td>
      <td>Chinese Restaurant</td>
      <td>Discount Store</td>
      <td>Burger Joint</td>
      <td>Bank</td>
      <td>Sandwich Place</td>
      <td>Eastern European Restaurant</td>
      <td>Doner Restaurant</td>
    </tr>
    <tr>
      <th>40</th>
      <td>North York</td>
      <td>3</td>
      <td>Coffee Shop</td>
      <td>Bank</td>
      <td>Pizza Place</td>
      <td>Gas Station</td>
      <td>Vietnamese Restaurant</td>
      <td>Turkish Restaurant</td>
      <td>Park</td>
      <td>Moving Target</td>
      <td>Liquor Store</td>
      <td>Latin American Restaurant</td>
    </tr>
    <tr>
      <th>43</th>
      <td>West Toronto</td>
      <td>3</td>
      <td>Coffee Shop</td>
      <td>Arts &amp; Crafts Store</td>
      <td>Italian Restaurant</td>
      <td>Tea Room</td>
      <td>Bar</td>
      <td>Bakery</td>
      <td>French Restaurant</td>
      <td>Furniture / Home Store</td>
      <td>Gym</td>
      <td>Gas Station</td>
    </tr>
    <tr>
      <th>44</th>
      <td>Scarborough</td>
      <td>3</td>
      <td>Coffee Shop</td>
      <td>Discount Store</td>
      <td>Mexican Restaurant</td>
      <td>Movie Theater</td>
      <td>Dessert Shop</td>
      <td>Vegetarian / Vegan Restaurant</td>
      <td>Burger Joint</td>
      <td>Sandwich Place</td>
      <td>Restaurant</td>
      <td>Ice Cream Shop</td>
    </tr>
    <tr>
      <th>46</th>
      <td>North York</td>
      <td>3</td>
      <td>Coffee Shop</td>
      <td>Bank</td>
      <td>Pizza Place</td>
      <td>Gas Station</td>
      <td>Vietnamese Restaurant</td>
      <td>Turkish Restaurant</td>
      <td>Park</td>
      <td>Moving Target</td>
      <td>Liquor Store</td>
      <td>Latin American Restaurant</td>
    </tr>
    <tr>
      <th>49</th>
      <td>North York</td>
      <td>3</td>
      <td>Coffee Shop</td>
      <td>Bank</td>
      <td>Liquor Store</td>
      <td>Chinese Restaurant</td>
      <td>Gas Station</td>
      <td>Discount Store</td>
      <td>Fast Food Restaurant</td>
      <td>Sandwich Place</td>
      <td>Bakery</td>
      <td>Zoo</td>
    </tr>
    <tr>
      <th>53</th>
      <td>North York</td>
      <td>3</td>
      <td>Coffee Shop</td>
      <td>Bank</td>
      <td>Pizza Place</td>
      <td>Gas Station</td>
      <td>Vietnamese Restaurant</td>
      <td>Turkish Restaurant</td>
      <td>Park</td>
      <td>Moving Target</td>
      <td>Liquor Store</td>
      <td>Latin American Restaurant</td>
    </tr>
    <tr>
      <th>56</th>
      <td>York</td>
      <td>3</td>
      <td>Coffee Shop</td>
      <td>Discount Store</td>
      <td>Restaurant</td>
      <td>Sandwich Place</td>
      <td>Zoo</td>
      <td>Dance Studio</td>
      <td>Doner Restaurant</td>
      <td>Dog Run</td>
      <td>Diner</td>
      <td>Dessert Shop</td>
    </tr>
    <tr>
      <th>60</th>
      <td>North York</td>
      <td>3</td>
      <td>Coffee Shop</td>
      <td>Bank</td>
      <td>Pizza Place</td>
      <td>Gas Station</td>
      <td>Vietnamese Restaurant</td>
      <td>Turkish Restaurant</td>
      <td>Park</td>
      <td>Moving Target</td>
      <td>Liquor Store</td>
      <td>Latin American Restaurant</td>
    </tr>
    <tr>
      <th>65</th>
      <td>Scarborough</td>
      <td>3</td>
      <td>Coffee Shop</td>
      <td>Gym</td>
      <td>Electronics Store</td>
      <td>Chinese Restaurant</td>
      <td>Burger Joint</td>
      <td>Italian Restaurant</td>
      <td>Asian Restaurant</td>
      <td>Indian Restaurant</td>
      <td>Bakery</td>
      <td>Dessert Shop</td>
    </tr>
    <tr>
      <th>70</th>
      <td>Etobicoke</td>
      <td>3</td>
      <td>Coffee Shop</td>
      <td>Pizza Place</td>
      <td>Deli / Bodega</td>
      <td>Electronics Store</td>
      <td>Eastern European Restaurant</td>
      <td>Doner Restaurant</td>
      <td>Dog Run</td>
      <td>Discount Store</td>
      <td>Diner</td>
      <td>Dessert Shop</td>
    </tr>
    <tr>
      <th>89</th>
      <td>Etobicoke</td>
      <td>3</td>
      <td>Grocery Store</td>
      <td>Coffee Shop</td>
      <td>Garden</td>
      <td>Steakhouse</td>
      <td>Burger Joint</td>
      <td>Bakery</td>
      <td>Caribbean Restaurant</td>
      <td>Indian Restaurant</td>
      <td>Chinese Restaurant</td>
      <td>Cosmetics Shop</td>
    </tr>
    <tr>
      <th>94</th>
      <td>Etobicoke</td>
      <td>3</td>
      <td>Coffee Shop</td>
      <td>American Restaurant</td>
      <td>Burger Joint</td>
      <td>Food &amp; Drink Shop</td>
      <td>Hotel</td>
      <td>Racecourse</td>
      <td>Restaurant</td>
      <td>Chinese Restaurant</td>
      <td>Grocery Store</td>
      <td>Deli / Bodega</td>
    </tr>
    <tr>
      <th>101</th>
      <td>Etobicoke</td>
      <td>3</td>
      <td>Coffee Shop</td>
      <td>Ice Cream Shop</td>
      <td>Brewery</td>
      <td>Italian Restaurant</td>
      <td>Seafood Restaurant</td>
      <td>Tapas Restaurant</td>
      <td>Deli / Bodega</td>
      <td>Thai Restaurant</td>
      <td>Doner Restaurant</td>
      <td>Dog Run</td>
    </tr>
    <tr>
      <th>102</th>
      <td>Etobicoke</td>
      <td>3</td>
      <td>Burrito Place</td>
      <td>Gym</td>
      <td>Bakery</td>
      <td>Restaurant</td>
      <td>Burger Joint</td>
      <td>Brewery</td>
      <td>Coffee Shop</td>
      <td>Yoga Studio</td>
      <td>Wings Joint</td>
      <td>Gay Bar</td>
    </tr>
  </tbody>
</table>
</div>



Lets compare and contrase the first and second most common venues for each cluster. This is just a cursoury examination. Cluster 0 tends to focus more on more social and casual venues, i.e. casual dining and parks. Cluster 1 tends to have more diverse dining options and a greater emphasis on cultural activities. Cluster 2 clearly has the greatest emphasis on coffee shops fast-casual dining and some retail oppertunities. Cluster 0 would be good for a person who enjoys the outdoors and being in social situations. Cluster 1 would be good for a person who enjoys multi-cultural dining options and museaums/other cultural experiences. Cluster 2 would be good for someone who like coffee shops or who works from home and occasionally enjoyes working in coffee shops. Futher feature engineering could be performed, but at this stage we are seeing distinct characteristics emerge that describe each of the neighborhoods. 


```python

```
